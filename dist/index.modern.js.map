{"version":3,"file":"index.modern.js","sources":["../src/script/api.ts","../src/contexts/appContext.tsx","../src/contexts/errorsContext.tsx","../src/contexts/settingsContext.tsx","../src/contexts/formContext.tsx","../src/script/ui/action/atoms.js","../src/script/ui/action/copyAs.js","../src/script/ui/action/copyImageToClipboard.js","../src/script/ui/action/isHidden.ts","../src/script/ui/action/debug.js","../src/script/ui/component/cliparea/cliparea.jsx","../../../node_modules/ajv/dist/compile/codegen/code.js","../../../node_modules/ajv/dist/compile/codegen/scope.js","../../../node_modules/ajv/dist/compile/codegen/index.js","../../../node_modules/ajv/dist/compile/util.js","../../../node_modules/ajv/dist/compile/names.js","../../../node_modules/ajv/dist/compile/errors.js","../../../node_modules/ajv/dist/compile/validate/boolSchema.js","../../../node_modules/ajv/dist/compile/rules.js","../../../node_modules/ajv/dist/compile/validate/applicability.js","../../../node_modules/ajv/dist/compile/validate/dataType.js","../../../node_modules/ajv/dist/compile/validate/defaults.js","../../../node_modules/ajv/dist/vocabularies/code.js","../../../node_modules/ajv/dist/compile/validate/keyword.js","../../../node_modules/ajv/dist/compile/validate/subschema.js","../../../node_modules/fast-deep-equal/index.js","../../../node_modules/json-schema-traverse/index.js","../../../node_modules/ajv/dist/compile/resolve.js","../../../node_modules/ajv/dist/compile/validate/index.js","../../../node_modules/ajv/dist/runtime/validation_error.js","../../../node_modules/ajv/dist/compile/ref_error.js","../../../node_modules/ajv/dist/compile/index.js","../../../node_modules/uri-js/dist/es5/uri.all.js","../../../node_modules/ajv/dist/runtime/uri.js","../../../node_modules/ajv/dist/core.js","../../../node_modules/ajv/dist/vocabularies/core/id.js","../../../node_modules/ajv/dist/vocabularies/core/ref.js","../../../node_modules/ajv/dist/vocabularies/core/index.js","../../../node_modules/ajv/dist/vocabularies/validation/limitNumber.js","../../../node_modules/ajv/dist/vocabularies/validation/multipleOf.js","../../../node_modules/ajv/dist/runtime/ucs2length.js","../../../node_modules/ajv/dist/vocabularies/validation/limitLength.js","../../../node_modules/ajv/dist/vocabularies/validation/pattern.js","../../../node_modules/ajv/dist/vocabularies/validation/limitProperties.js","../../../node_modules/ajv/dist/vocabularies/validation/required.js","../../../node_modules/ajv/dist/vocabularies/validation/limitItems.js","../../../node_modules/ajv/dist/runtime/equal.js","../../../node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","../../../node_modules/ajv/dist/vocabularies/validation/const.js","../../../node_modules/ajv/dist/vocabularies/validation/enum.js","../../../node_modules/ajv/dist/vocabularies/validation/index.js","../../../node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","../../../node_modules/ajv/dist/vocabularies/applicator/items.js","../../../node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","../../../node_modules/ajv/dist/vocabularies/applicator/items2020.js","../../../node_modules/ajv/dist/vocabularies/applicator/contains.js","../../../node_modules/ajv/dist/vocabularies/applicator/dependencies.js","../../../node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","../../../node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","../../../node_modules/ajv/dist/vocabularies/applicator/properties.js","../../../node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","../../../node_modules/ajv/dist/vocabularies/applicator/not.js","../../../node_modules/ajv/dist/vocabularies/applicator/anyOf.js","../../../node_modules/ajv/dist/vocabularies/applicator/oneOf.js","../../../node_modules/ajv/dist/vocabularies/applicator/allOf.js","../../../node_modules/ajv/dist/vocabularies/applicator/if.js","../../../node_modules/ajv/dist/vocabularies/applicator/thenElse.js","../../../node_modules/ajv/dist/vocabularies/applicator/index.js","../../../node_modules/ajv/dist/vocabularies/format/format.js","../../../node_modules/ajv/dist/vocabularies/format/index.js","../../../node_modules/ajv/dist/vocabularies/metadata.js","../../../node_modules/ajv/dist/vocabularies/draft7.js","../../../node_modules/ajv/dist/vocabularies/discriminator/types.js","../../../node_modules/ajv/dist/vocabularies/discriminator/index.js","../../../node_modules/ajv/dist/ajv.js","../src/script/ui/data/schema/options-schema.ts","../src/script/ui/storage-ext.js","../src/script/ui/state/options/index.js","../src/script/ui/data/schema/schema-helper.js","../src/script/ui/data/schema/sdata-schema.js","../src/script/ui/state/modal/sdata.js","../src/script/ui/state/modal/form.js","../src/script/ui/state/request/request.types.ts","../src/script/ui/state/request/index.ts","../src/script/ui/state/constants.js","../src/script/ui/data/schema/struct-schema.js","../src/script/ui/data/convert/structconv.js","../src/script/ui/action/flips.ts","../src/script/ui/action/tools.js","../src/constants.ts","../src/script/ui/utils/settingsManager.ts","../src/script/ui/state/shared.ts","../src/script/ui/state/server/index.js","../src/script/ui/action/server.js","../src/script/ui/data/templates.js","../src/script/ui/action/templates.js","../src/script/ui/action/zoom.js","../src/script/ui/action/help.js","../src/script/ui/action/functionalGroups.ts","../src/script/ui/action/fullscreen.ts","../src/script/ui/action/index.js","../src/icons/index.tsx","../src/script/ui/component/view/icon.jsx","../src/script/ui/views/toolbars/shortcutStr.ts","../src/script/ui/views/toolbars/ToolbarGroupItem/ActionButton/ActionButton.tsx","../src/script/ui/Portal/Portal.tsx","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/variants/DefaultMultiTool/DefaultMultiTool.tsx","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/variants/GroupedMultiTool/GroupedMultiTool.tsx","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/variants/chooseMultiTool.ts","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/usePortalOpening.ts","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/usePortalStyle.ts","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarMultiToolItem/ToolbarMultiToolItem.tsx","../src/script/ui/views/toolbars/ToolbarGroupItem/ToolbarGroupItem.tsx","../src/script/ui/views/toolbars/BottomToolbar/TemplatesList/TemplatesList.tsx","../src/script/ui/views/toolbars/BottomToolbar/BottomToolbar.tsx","../src/script/ui/state/templates/init-lib.js","../src/script/ui/state/modal/index.js","../src/script/ui/state/templates/index.js","../src/script/ui/state/action/index.js","../src/script/ui/utils/fileOpener.js","../src/script/ui/utils/index.ts","../src/script/editor/utils/functionalGroupsTooltip.ts","../src/script/ui/state/functionalGroups/index.ts","../src/script/ui/state/saltsAndSolvents/index.ts","../src/script/ui/state/toolbar/index.js","../src/script/ui/state/index.js","../src/script/ui/views/toolbars/BottomToolbar/BottomToolbar.container.ts","../src/script/ui/views/toolbars/ToolbarGroupItem/utils/makeItems.ts","../src/script/ui/views/toolbars/LeftToolbar/Bond/options.ts","../src/script/ui/views/toolbars/LeftToolbar/leftToolbarOptions.ts","../src/hooks/useSettingsContext.ts","../src/hooks/useResizeObserver.ts","../src/hooks/useFormContext.tsx","../src/hooks/useAppContext.ts","../src/hooks/useInterval.ts","../src/hooks/useSubscribtionOnEvents.ts","../src/script/ui/views/toolbars/ArrowScroll/ArrowScroll.tsx","../src/script/ui/views/toolbars/mediaSizes.ts","../src/script/ui/views/toolbars/LeftToolbar/Bond/Bond.tsx","../src/script/ui/views/toolbars/LeftToolbar/RGroup/RGroup.tsx","../src/script/ui/views/toolbars/LeftToolbar/Shape/Shape.tsx","../src/script/ui/views/toolbars/LeftToolbar/Transform/Transform.tsx","../src/script/ui/views/toolbars/LeftToolbar/LeftToolbar.tsx","../src/script/ui/views/toolbars/LeftToolbar/LeftToolbar.container.ts","../src/script/ui/component/view/Atom/Atom.jsx","../../../node_modules/color-name/index.js","../../../node_modules/color-parse/index.mjs","../../../node_modules/color-alpha/index.mjs","../src/script/ui/views/toolbars/RightToolbar/AtomsList/AtomsList.tsx","../src/script/ui/views/toolbars/RightToolbar/RightToolbar.tsx","../src/script/ui/views/toolbars/RightToolbar/RightToolbar.container.ts","../src/script/ui/views/toolbars/TopToolbar/IconButton.tsx","../src/script/ui/views/toolbars/TopToolbar/FileControls.tsx","../src/script/ui/views/toolbars/TopToolbar/ElementWithDropdown.tsx","../src/script/ui/views/toolbars/TopToolbar/ClipboardControls.tsx","../src/script/ui/views/toolbars/TopToolbar/Divider.tsx","../src/script/ui/views/toolbars/TopToolbar/UndoRedo.tsx","../src/script/ui/views/toolbars/TopToolbar/ZoomInput.tsx","../src/script/ui/views/toolbars/TopToolbar/ZoomControls.tsx","../src/script/ui/views/toolbars/TopToolbar/SystemControls.tsx","../src/script/ui/views/toolbars/TopToolbar/ExternalFuncControls.tsx","../src/script/ui/views/toolbars/TopToolbar/TopToolbar.tsx","../src/script/ui/views/toolbars/TopToolbar/TopToolbar.container.ts","../src/script/ui/data/convert/keynorm.js","../src/script/editor/tool/helper/locate.ts","../src/script/editor/tool/helper/lasso.ts","../src/script/editor/shared/utils.js","../src/script/editor/tool/atom.ts","../src/script/editor/tool/sgroup.ts","../src/script/editor/tool/helper/getGroupIdsFromItems.ts","../src/script/editor/tool/helper/dropAndMerge.ts","../src/script/ui/state/modal/utils/updateOnlyChangedProperties.ts","../src/script/ui/state/modal/atoms.ts","../src/script/ui/state/modal/bonds.ts","../src/script/editor/tool/helper/isAtomOutSideCanvas.ts","../src/script/editor/tool/helper/filterNotInCollapsedSGroup.ts","../src/script/editor/tool/select.ts","../src/script/ui/state/handleHotkeysOverItem.ts","../src/script/ui/state/hotkeys.ts","../src/script/ui/views/AppClipArea.tsx","../src/script/ui/App/AppHidden/AppHidden.tsx","../src/script/ui/App/AppHidden/AppHidden.container.ts","../src/script/ui/views/modal/mediaSizes.ts","../src/script/ui/views/components/Dialog/Dialog.tsx","../src/script/ui/views/components/Spinner/LoadingCircles.tsx","../src/script/editor/shared/closest.js","../src/script/editor/utils/customOnChangeHandler.ts","../src/script/editor/tool/apoint.ts","../src/script/editor/tool/attach.ts","../src/script/editor/tool/bond.ts","../src/script/editor/tool/chain.ts","../src/script/editor/tool/charge.ts","../src/script/editor/tool/enhanced-stereo.ts","../src/script/editor/tool/eraser.ts","../src/script/editor/tool/hand.ts","../src/script/editor/tool/paste.ts","../src/script/editor/tool/rgroupatom.ts","../src/script/editor/tool/rgroupfragment.ts","../src/script/editor/tool/reactionarrow.ts","../src/script/editor/tool/reactionmap.ts","../src/script/editor/tool/reactionplus.ts","../src/script/editor/tool/reactionunmap.ts","../src/script/editor/tool/rotate.ts","../src/script/editor/tool/simpleobject.ts","../src/script/editor/tool/template.ts","../src/script/editor/tool/text.ts","../src/script/editor/tool/index.ts","../src/script/editor/highlighter.ts","../src/script/editor/HoverIcon.ts","../src/script/editor/tool/rotate-controller.ts","../src/script/editor/Editor.ts","../src/script/ui/views/components/Cursor.jsx","../src/script/ui/views/components/ContextMenu/contextMenu.types.ts","../src/script/ui/views/components/ContextMenu/hooks/useAtomEdit.ts","../src/script/ui/views/components/ContextMenu/utils.ts","../src/script/ui/views/components/ContextMenu/hooks/useAtomStereo.ts","../src/script/ui/views/components/ContextMenu/hooks/useDelete.ts","../src/script/ui/views/components/ContextMenu/menuItems/AtomMenuItems.tsx","../src/script/ui/views/components/ContextMenu/hooks/useBondEdit.ts","../src/script/ui/views/components/ContextMenu/hooks/useBondSGroupAttach.ts","../src/script/ui/views/components/ContextMenu/hooks/useBondSGroupEdit.ts","../src/script/ui/views/components/ContextMenu/hooks/useBondTypeChange.ts","../src/script/ui/views/components/ContextMenu/menuItems/BondMenuItems.tsx","../src/script/ui/views/components/ContextMenu/hooks/useFunctionalGroupEoc.ts","../src/script/ui/views/components/ContextMenu/hooks/useFunctionalGroupRemove.ts","../src/script/ui/views/components/ContextMenu/menuItems/FunctionalGroupMenuItems.tsx","../src/script/ui/views/components/ContextMenu/menuItems/SelectionMenuItems.tsx","../src/script/ui/views/components/ContextMenu/ContextMenu.tsx","../src/script/ui/views/components/ContextMenu/ContextMenuTrigger.tsx","../src/script/ui/component/structrender.tsx","../src/script/ui/views/components/StructEditor/helpers.ts","../src/script/ui/views/components/StructEditor/SGroupDataRender.tsx","../src/script/ui/state/functionalGroups/selectors/index.ts","../src/script/ui/views/components/StructEditor/InfoPanel.tsx","../src/script/ui/views/components/StructEditor/StructEditor.jsx","../src/script/ui/views/modal/components/meta/About/About.jsx","../../../node_modules/native-url/dist/index.mjs","../../../node_modules/jsonschema/lib/helpers.js","../../../node_modules/jsonschema/lib/attribute.js","../../../node_modules/jsonschema/lib/scan.js","../../../node_modules/jsonschema/lib/validator.js","../../../node_modules/jsonschema/lib/index.js","../src/script/ui/component/form/Input/Input.tsx","../src/script/ui/component/form/Select/Select.tsx","../src/script/ui/component/form/form/errorPopover.jsx","../src/script/ui/component/form/form/form.jsx","../src/script/ui/component/form/colorPicker/ColorPicker.tsx","../src/script/ui/component/form/MeasureInput/measure-input.jsx","../src/script/ui/component/view/openbutton.jsx","../src/script/ui/component/view/savebutton.tsx","../src/script/ui/views/modal/components/meta/Settings/Accordion/Accordion.tsx","../src/script/ui/component/form/systemfonts.jsx","../src/script/ui/views/modal/components/meta/Settings/fieldGroups.js","../src/script/ui/views/modal/components/meta/Settings/Settings.tsx","../src/script/ui/views/modal/components/process/Check/components/ErrorsCheck.jsx","../src/script/ui/views/modal/components/process/Check/Check.jsx","../src/script/ui/views/modal/components/process/Analyse/components/FormulaInput/FormulaInput.jsx","../src/script/ui/views/modal/components/process/Analyse/components/FrozenInput/FrozenInput.jsx","../src/script/ui/views/modal/components/process/Analyse/Analyse.jsx","../src/script/ui/views/modal/components/document/Open/components/DialogActionButton.tsx","../src/script/ui/views/modal/components/process/Recognize/Recognize.jsx","../src/script/ui/views/modal/components/process/Miew/Miew.tsx","../src/script/ui/views/modal/components/toolbox/Atom/ElementNumber/ElementNumber.tsx","../src/script/ui/views/modal/components/toolbox/Atom/Atom.tsx","../src/script/ui/views/modal/components/toolbox/Atom/Atom.container.ts","../src/script/ui/views/modal/components/toolbox/Attach/Attach.tsx","../src/script/ui/views/modal/components/toolbox/Attach/Attach.container.ts","../src/script/ui/views/modal/components/toolbox/Automap/Automap.tsx","../src/script/ui/views/modal/components/toolbox/Automap/Automap.container.ts","../src/script/ui/views/modal/components/toolbox/Bond/Bond.tsx","../src/script/ui/views/modal/components/toolbox/Bond/Bond.container.ts","../src/script/ui/views/modal/components/toolbox/RgroupLogic/components/IfThenSelect/IfThenSelect.tsx","../src/script/ui/views/modal/components/toolbox/RgroupLogic/RgroupLogic.tsx","../src/script/ui/views/modal/components/toolbox/RgroupLogic/RgroupLogic.container.ts","../src/script/ui/views/modal/components/document/Open/components/AnalyzingFile.tsx","../src/script/ui/views/modal/components/document/Open/components/FileDrop.tsx","../src/script/ui/views/modal/components/document/Open/components/OpenOptions.tsx","../src/script/ui/views/modal/components/document/Open/components/TextEditor.tsx","../src/script/ui/views/modal/components/document/Open/components/ViewSwitcher.tsx","../src/script/ui/views/modal/components/document/Open/Open.tsx","../src/script/ui/views/modal/components/document/Open/Open.container.ts","../src/script/ui/data/convert/structConverter.ts","../src/script/ui/component/view/Tabs/Tabs.jsx","../src/script/ui/views/modal/components/document/Save/Save.jsx","../src/script/ui/dialog/toolbox/enhancedStereo/enhancedStereo.tsx","../src/script/ui/dialog/toolbox/labeledit.jsx","../src/script/ui/views/modal/components/PeriodTable/components/AtomInfo/AtomInfo.jsx","../src/script/ui/views/modal/components/PeriodTable/components/ElementsTable/components/Header.jsx","../src/script/ui/views/modal/components/PeriodTable/components/ElementsTable/components/MainRow.jsx","../src/script/ui/views/modal/components/PeriodTable/components/ElementsTable/components/OutinerRow.jsx","../src/script/ui/views/modal/components/PeriodTable/components/ElementsTable/ElementsTable.jsx","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/BoxWithLines.tsx","../src/script/ui/views/modal/components/ExtendedTable/helpers.js","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/components/ButtonGenSet/ButtonGenSet.tsx","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/GenSet.tsx","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/GenGroup.tsx","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/GenericGroups.tsx","../src/script/ui/views/modal/components/ExtendedTable/components/GenericGroups/index.ts","../src/script/ui/views/modal/components/PeriodTable/components/TypeChoice/TypeChoice.jsx","../src/script/ui/views/modal/components/PeriodTable/PeriodTable.jsx","../src/script/ui/views/modal/components/ExtendedTable/ExtendedTable.jsx","../src/script/ui/views/modal/components/toolbox/FG/RemoveFG.tsx","../src/script/ui/component/form/buttonlist.jsx","../src/script/ui/dialog/toolbox/rgroup/rgroup.jsx","../src/script/ui/dialog/toolbox/SDataFieldset.jsx","../src/script/ui/dialog/toolbox/SGroupFieldset.jsx","../src/script/ui/dialog/toolbox/sgroup.jsx","../src/script/ui/dialog/template/template-attach.jsx","../src/script/ui/dialog/template/TemplateTable.tsx","../src/script/ui/state/saltsAndSolvents/selectors/index.ts","../src/script/ui/dialog/template/EmptySearchResult.tsx","../src/script/ui/dialog/template/useSaltsAndSolvets.ts","../src/script/ui/dialog/template/TemplateDialog.tsx","../src/hooks/useClickOutside.ts","../src/script/ui/views/modal/components/Text/FontControl/FontControl.tsx","../src/script/ui/views/modal/components/Text/SpecialSymbolsList/SpecialSymbolsList.tsx","../src/script/ui/views/modal/components/Text/SpecialSymbols/SpecialSymbolsButton.tsx","../src/script/ui/views/modal/components/Text/TextButton/TextButton.tsx","../src/script/ui/views/modal/components/Text/Text.tsx","../src/script/ui/views/modal/components/Confirm/Confirm.tsx","../src/script/ui/dialog/index.ts","../src/script/ui/views/modal/Modal.tsx","../src/script/ui/views/modal/Modal.container.ts","../src/script/ui/state/editor/utils/generateCommonProperties.ts","../src/script/ui/state/editor/index.js","../src/script/ui/views/Editor.jsx","../src/script/ui/App/App.tsx","../src/script/ui/App/App.container.ts","../src/script/ui/App/initApp.tsx","../src/script/builders/ketcher/KetcherBuilder.ts","../src/script/index.ts","../src/Editor.tsx"],"sourcesContent":["/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  InfoResult,\n  StructService,\n  StructServiceOptions,\n  StructServiceProvider\n} from 'ketcher-core'\n\ntype Api = StructService & Promise<InfoResult>\n\n// todo: remove - ?? should we? it's in use\nfunction createApi(\n  structServiceProvider: StructServiceProvider,\n  defaultOptions: StructServiceOptions\n): Api {\n  const structService =\n    structServiceProvider.createStructService(defaultOptions)\n  const info = structService.info()\n\n  return Object.assign(info, {\n    info: structService.info.bind(structService),\n    convert: structService.convert.bind(structService),\n    layout: structService.layout.bind(structService),\n    clean: structService.clean.bind(structService),\n    aromatize: structService.aromatize.bind(structService),\n    dearomatize: structService.dearomatize.bind(structService),\n    calculateCip: structService.calculateCip.bind(structService),\n    automap: structService.automap.bind(structService),\n    check: structService.check.bind(structService),\n    calculate: structService.calculate.bind(structService),\n    recognize: structService.recognize.bind(structService),\n    generateImageAsBase64:\n      structService.generateImageAsBase64.bind(structService),\n    generateInchIKey: structService.generateInchIKey.bind(structService)\n  })\n}\n\nexport default createApi\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Ketcher } from 'ketcher-core'\nimport React from 'react'\n\nexport interface IAppContext {\n  getKetcherInstance: () => Ketcher\n}\n\nconst appContext = React.createContext<IAppContext>({} as IAppContext)\n\nexport default appContext\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React from 'react'\n\nexport interface IErrorsContext {\n  errorHandler: (message: string) => void\n}\n\nconst errorsContext = React.createContext<IErrorsContext>({} as IErrorsContext)\n\nexport default errorsContext\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React from 'react'\n\nexport interface ISettingsContext {\n  staticResourcesUrl: string\n}\n\nconst settingsContext = React.createContext<ISettingsContext>(\n  {} as ISettingsContext\n)\n\nexport default settingsContext\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React from 'react'\n\nconst formContext = React.createContext(null)\n\nexport default formContext\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const basicAtoms = ['H', 'C', 'N', 'O', 'S', 'P', 'F', 'Cl', 'Br', 'I']\n\nexport const atomCuts = {\n  H: 'h',\n  C: 'c',\n  N: 'n',\n  O: 'o',\n  S: 's',\n  P: 'p',\n  F: 'f',\n  Cl: 'Shift+c',\n  Br: 'b',\n  I: 'i',\n  A: 'a',\n  Q: 'q',\n  R: 'r',\n  K: 'k',\n  M: 'm',\n  Si: 'Shift+s',\n  Na: 'Shift+n',\n  X: 'x',\n  D: 'd',\n  B: 'Shift+b'\n}\n\nexport default Object.keys(atomCuts).reduce((res, label) => {\n  res[`atom-${label.toLowerCase()}`] = {\n    title: `Atom ${label}`,\n    shortcut: atomCuts[label],\n    action: {\n      tool: 'atom',\n      opts: { label }\n    }\n  }\n  return res\n}, {})\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { KetSerializer, MolSerializer, SupportedFormat } from 'ketcher-core'\n\nexport default function copyAs(type) {\n  const state = global.currentState\n  const editor = state.editor\n  const struct = editor.structSelected()\n  const errorHandler = editor.errorHandler\n  let serializer\n  try {\n    switch (type) {\n      case 'mol': {\n        serializer = new MolSerializer()\n        break\n      }\n      case 'ket': {\n        serializer = new KetSerializer()\n        break\n      }\n      default: {\n        serializer = new KetSerializer()\n        break\n      }\n    }\n\n    const simpleObjectOrText = Boolean(\n      struct.simpleObjects.size || struct.texts.size\n    )\n\n    if (simpleObjectOrText && serializer instanceof MolSerializer) {\n      errorHandler(\n        'This feature is not available for Simple objects and Text objects'\n      )\n      return null\n    }\n\n    const structData = serializer.serialize(struct)\n\n    if (window.clipboardData) {\n      window.clipboardData.setData('text', structData)\n    } else {\n      navigator.clipboard.writeText(structData)\n    }\n  } catch {\n    errorHandler('This feature is not available in your browser')\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FormatterFactory, Ketcher } from 'ketcher-core'\n\nasync function copyImageToClipboard() {\n  const state = global.currentState\n  const editor = state.editor\n  const server = state.server\n  const options = state.options\n  const struct = editor.structSelected()\n  const errorHandler = editor.errorHandler\n\n  try {\n    const factory = new FormatterFactory(server)\n    const service = factory.create('ket', options)\n    const structStr = await service.getStructureFromStructAsync(struct)\n    const ketcher = new Ketcher(editor, server, {}, factory)\n    const image = await ketcher.generateImage(structStr, {\n      outputFormat: 'png',\n      backgroundColor: '255, 255, 255'\n    })\n    const item = new ClipboardItem({ [image.type]: image }) // eslint-disable-line no-undef\n    await navigator.clipboard.write([item])\n  } catch {\n    errorHandler('This feature is not available in your browser')\n  }\n}\n\nexport default copyImageToClipboard\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport default function isHidden(options: any, buttonName: string): boolean {\n  return Boolean(options.buttons?.[buttonName]?.hidden)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { MolSerializer } from 'ketcher-core'\nimport isHidden from './isHidden'\n\nconst debugObj = {\n  // original: for dev purposes\n  'force-update': {\n    shortcut: 'Ctrl+Shift+r',\n    action: (editor) => {\n      editor.update(true)\n    },\n    hidden: (options) => isHidden(options, 'force-update')\n  },\n  'qs-serialize': {\n    shortcut: 'Alt+Shift+r',\n    action: (editor) => {\n      const molSerializer = new MolSerializer()\n      const molStr = molSerializer.serialize(editor.struct())\n      const molQs = 'mol=' + encodeURIComponent(molStr).replace(/%20/g, '+')\n      const qs = document.location.search\n      document.location.search = !qs\n        ? '?' + molQs // eslint-disable-line\n        : qs.search('mol=') === -1\n        ? qs + '&' + molQs\n        : qs.replace(/mol=[^&$]*/, molQs)\n    }\n  },\n  hidden: (options) => isHidden(options, 'qs-serialize')\n}\n\nexport default debugObj\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Component, createRef } from 'react'\nimport clsx from 'clsx'\nimport classes from './cliparea.module.less'\n\nconst ieCb = window.clipboardData\n\nclass ClipArea extends Component {\n  constructor(props) {\n    super(props)\n    this.textAreaRef = createRef()\n  }\n\n  componentDidMount() {\n    const el = this.textAreaRef.current\n    this.target = this.props.target || el.parentNode\n\n    this.listeners = {\n      mouseup: (event) => {\n        if (\n          el === event.target ||\n          (!isActiveElement(event.target) && this.props.focused())\n        ) {\n          autoselect(el)\n        }\n      },\n      mousedown: (event) => {\n        if (event.shiftKey && !isActiveElement(event.target))\n          event.preventDefault()\n      },\n      copy: (event) => {\n        if (this.props.focused() && this.props.onCopy) {\n          const data = this.props.onCopy()\n\n          if (data) copy(event.clipboardData, data)\n\n          event.preventDefault()\n        }\n      },\n      cut: (event) => {\n        if (this.props.focused() && this.props.onCut) {\n          const data = this.props.onCut()\n\n          if (data) copy(event.clipboardData, data)\n\n          event.preventDefault()\n        }\n      },\n      paste: (event) => {\n        if (this.props.focused() && this.props.onPaste) {\n          const data = paste(event.clipboardData, this.props.formats)\n\n          if (data) this.props.onPaste(data)\n\n          event.preventDefault()\n        }\n      }\n    }\n\n    Object.keys(this.listeners).forEach((en) => {\n      this.target.addEventListener(en, this.listeners[en])\n    })\n  }\n\n  shouldComponentUpdate() {\n    return false\n  }\n\n  componentWillUnmount() {\n    Object.keys(this.listeners).forEach((en) => {\n      this.target.removeEventListener(en, this.listeners[en])\n    })\n  }\n\n  render() {\n    return (\n      <textarea\n        ref={this.textAreaRef}\n        className={clsx('cliparea', classes.cliparea)}\n        contentEditable\n        autoFocus // eslint-disable-line jsx-a11y/no-autofocus\n        suppressContentEditableWarning={true}\n      />\n    )\n  }\n}\n\nfunction isActiveElement(el) {\n  if (el.tagName === 'INPUT' && el.type === 'button') return false\n  return ['INPUT', 'SELECT', 'TEXTAREA', 'OPTION', 'LABEL'].includes(el.tagName)\n}\n\nfunction autoselect(cliparea) {\n  cliparea.value = ' '\n  cliparea.select()\n}\n\nfunction copy(cb, data) {\n  if (!cb && ieCb) {\n    ieCb.setData('text', data['text/plain'])\n  } else {\n    let curFmt = null\n    cb.setData('text/plain', data['text/plain'])\n    try {\n      Object.keys(data).forEach((fmt) => {\n        curFmt = fmt\n        cb.setData(fmt, data[fmt])\n      })\n    } catch (ex) {\n      console.info(`Could not write exact type ${curFmt}`)\n    }\n  }\n}\n\nfunction paste(cb, formats) {\n  let data = {}\n  if (!cb && ieCb) {\n    data['text/plain'] = ieCb.getData('text')\n  } else {\n    data['text/plain'] = cb.getData('text/plain')\n    data = formats.reduce((res, fmt) => {\n      const d = cb.getData(fmt)\n      if (d) res[fmt] = d\n      return res\n    }, data)\n  }\n  return data\n}\n\nexport const actions = ['cut', 'copy', 'paste']\n\nexport function exec(action) {\n  let enabled = document.queryCommandSupported(action)\n  if (enabled) {\n    try {\n      enabled = document.execCommand(action) || window.ClipboardEvent || ieCb\n    } catch (ex) {\n      // FF < 41\n      enabled = false\n    }\n  }\n  return enabled\n}\n\nexport default ClipArea\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\n//# sourceMappingURL=ajv.js.map","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  StereLabelStyleType,\n  StereoColoringType,\n  ShowHydrogenLabels,\n  ShowHydrogenLabelNames\n} from 'ketcher-core'\nimport Ajv, { SchemaObject } from 'ajv'\n\ntype ExtendedSchema = SchemaObject & {\n  enumNames?: Array<string>\n  default?: any\n}\n\nconst editor: {\n  resetToSelect: ExtendedSchema\n  rotationStep: ExtendedSchema\n} = {\n  resetToSelect: {\n    title: 'Reset to Select Tool',\n    enum: [true, 'paste', false],\n    enumNames: ['on', 'After Paste', 'off'],\n    default: 'paste'\n  },\n  rotationStep: {\n    title: 'Rotation Step, º',\n    type: 'integer',\n    minimum: 1,\n    maximum: 90,\n    default: 15\n  }\n}\n\nconst render: {\n  showValenceWarnings: ExtendedSchema\n  atomColoring: ExtendedSchema\n  showStereoFlags: ExtendedSchema\n  stereoLabelStyle: ExtendedSchema\n  colorOfAbsoluteCenters: ExtendedSchema\n  colorOfAndCenters: ExtendedSchema\n  colorOfOrCenters: ExtendedSchema\n  colorStereogenicCenters: ExtendedSchema\n  autoFadeOfStereoLabels: ExtendedSchema\n  absFlagLabel: ExtendedSchema\n  andFlagLabel: ExtendedSchema\n  mixedFlagLabel: ExtendedSchema\n  ignoreChiralFlag: ExtendedSchema\n  orFlagLabel: ExtendedSchema\n  font: ExtendedSchema\n  fontsz: ExtendedSchema\n  fontszsub: ExtendedSchema\n  carbonExplicitly: ExtendedSchema\n  showCharge: ExtendedSchema\n  showValence: ExtendedSchema\n  showHydrogenLabels: ExtendedSchema\n  aromaticCircle: ExtendedSchema\n  doubleBondWidth: ExtendedSchema\n  bondThickness: ExtendedSchema\n  stereoBondWidth: ExtendedSchema\n} = {\n  showValenceWarnings: {\n    title: 'Show valence warnings',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  atomColoring: {\n    title: 'Atom coloring',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  showStereoFlags: {\n    title: 'Show the Stereo flags',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  stereoLabelStyle: {\n    title: 'Label display at\\u00A0stereogenic\\u00A0centers',\n    enum: [\n      StereLabelStyleType.IUPAC,\n      StereLabelStyleType.Classic,\n      StereLabelStyleType.On,\n      StereLabelStyleType.Off\n    ],\n    enumNames: ['IUPAC style', 'Classic', 'On', 'Off'],\n    default: StereLabelStyleType.IUPAC\n  },\n  colorOfAbsoluteCenters: {\n    title: ' Absolute Center color',\n    type: 'string',\n    default: '#ff0000'\n  },\n  colorOfAndCenters: {\n    title: 'AND Centers color',\n    type: 'string',\n    default: '#0000cd'\n  },\n  colorOfOrCenters: {\n    title: 'OR Centers color',\n    type: 'string',\n    default: '#228b22'\n  },\n  colorStereogenicCenters: {\n    title: 'Color stereogenic centers',\n    enum: [\n      StereoColoringType.LabelsOnly,\n      StereoColoringType.BondsOnly,\n      StereoColoringType.LabelsAndBonds,\n      StereoColoringType.Off\n    ],\n    enumNames: ['Labels Only', 'Bonds Only', 'Labels And Bonds', 'Off'],\n    default: StereoColoringType.LabelsOnly\n  },\n  autoFadeOfStereoLabels: {\n    title: 'Auto fade And/Or center labels',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  absFlagLabel: {\n    title: 'Text of Absolute flag',\n    type: 'string',\n    default: 'ABS'\n  },\n  andFlagLabel: {\n    title: 'Text of AND flag',\n    type: 'string',\n    default: 'AND Enantiomer'\n  },\n  mixedFlagLabel: {\n    title: 'Text of Mixed flag',\n    type: 'string',\n    default: 'Mixed'\n  },\n  ignoreChiralFlag: {\n    title: 'Ignore the chiral flag',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  orFlagLabel: {\n    title: 'Text of OR flag',\n    type: 'string',\n    default: 'OR Enantiomer'\n  },\n  font: {\n    title: 'Font',\n    type: 'string',\n    default: '30px Arial'\n  },\n  fontsz: {\n    title: 'Font size',\n    type: 'integer',\n    default: 13,\n    minimum: 1,\n    maximum: 96\n  },\n  fontszsub: {\n    title: 'Sub font size',\n    type: 'integer',\n    default: 13,\n    minimum: 1,\n    maximum: 96\n  },\n  // Atom\n  carbonExplicitly: {\n    title: 'Display carbon explicitly',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  showCharge: {\n    title: 'Display charge',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  showValence: {\n    title: 'Display valence',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  showHydrogenLabels: {\n    title: 'Show hydrogen labels',\n    enum: Object.values(ShowHydrogenLabels),\n    enumNames: Object.values(ShowHydrogenLabelNames),\n    default: ShowHydrogenLabels.TerminalAndHetero\n  },\n  // Bonds\n  aromaticCircle: {\n    title: 'Aromatic Bonds as circle',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  doubleBondWidth: {\n    title: 'Double bond width',\n    type: 'integer',\n    default: 6,\n    minimum: 1,\n    maximum: 96\n  },\n  bondThickness: {\n    title: 'Bond thickness',\n    type: 'integer',\n    default: 2,\n    minimum: 1,\n    maximum: 96\n  },\n  stereoBondWidth: {\n    title: 'Stereo (Wedge) bond width',\n    type: 'integer',\n    default: 6,\n    minimum: 1,\n    maximum: 96\n  }\n}\n\nconst server: {\n  'smart-layout': ExtendedSchema\n  'ignore-stereochemistry-errors': ExtendedSchema\n  'mass-skip-error-on-pseudoatoms': ExtendedSchema\n  'gross-formula-add-rsites': ExtendedSchema\n  'gross-formula-add-isotopes': ExtendedSchema\n  'dearomatize-on-load': ExtendedSchema\n} = {\n  'dearomatize-on-load': {\n    title: 'dearomatize-on-load',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  'smart-layout': {\n    title: 'Smart-layout',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  'ignore-stereochemistry-errors': {\n    title: 'Ignore stereochemistry errors',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  'mass-skip-error-on-pseudoatoms': {\n    title: 'Ignore pseudoatoms at mass',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  'gross-formula-add-rsites': {\n    title: 'Add Rsites at mass calculation',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  },\n  'gross-formula-add-isotopes': {\n    title: 'Add Isotopes at\\u00A0mass\\u00A0calculation',\n    type: 'boolean',\n    description: 'slider',\n    default: true\n  }\n}\n\nexport const SERVER_OPTIONS = Object.keys(server)\n\nconst debug: {\n  showAtomIds: ExtendedSchema\n  showBondIds: ExtendedSchema\n  showHalfBondIds: ExtendedSchema\n  showLoopIds: ExtendedSchema\n} = {\n  showAtomIds: {\n    title: 'Show atom Ids',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  showBondIds: {\n    title: 'Show bonds Ids',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  showHalfBondIds: {\n    title: 'Show half bonds Ids',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  },\n  showLoopIds: {\n    title: 'Show loop Ids',\n    type: 'boolean',\n    description: 'slider',\n    default: false\n  }\n}\n\nconst miew: {\n  miewMode: ExtendedSchema\n  miewTheme: ExtendedSchema\n  miewAtomLabel: ExtendedSchema\n} = {\n  miewMode: {\n    title: 'Display mode',\n    enum: ['LN', 'BS', 'LC'],\n    enumNames: ['Lines', 'Balls and Sticks', 'Licorice'],\n    default: 'LN'\n  },\n  miewTheme: {\n    title: 'Background color',\n    enum: ['light', 'dark'],\n    enumNames: ['Light', 'Dark'],\n    default: 'light'\n  },\n  miewAtomLabel: {\n    title: 'Label coloring',\n    enum: ['no', 'bright', 'blackAndWhite', 'black'],\n    enumNames: ['No', 'Bright', 'Black and White', 'Black'],\n    default: 'bright'\n  }\n}\n\nexport const MIEW_OPTIONS = Object.keys(miew)\n\nconst optionsSchema: ExtendedSchema = {\n  title: 'Settings',\n  type: 'object',\n  required: [],\n  properties: {\n    ...editor,\n    ...render,\n    ...server,\n    ...debug,\n    ...miew\n  }\n}\n\nexport default optionsSchema\n\nexport function getDefaultOptions(): Record<string, any> {\n  if (!optionsSchema.properties) return {}\n\n  return Object.keys(optionsSchema.properties).reduce((res, prop) => {\n    res[prop] = (optionsSchema.properties[prop] as ExtendedSchema).default\n    return res\n  }, {})\n}\n\nexport function validation(settings): Record<string, string> | null {\n  if (typeof settings !== 'object' || settings === null) return null\n\n  const ajv = new Ajv({\n    allErrors: true,\n    keywords: [{ keyword: 'enumNames', schemaType: 'array' }]\n  })\n\n  const validate = ajv.compile(optionsSchema)\n  validate(settings)\n  const errors = validate.errors || []\n  const errorsProps = errors.map((el) => el.instancePath.slice(1))\n\n  return Object.keys(settings).reduce((res, prop) => {\n    if (!optionsSchema.properties) return res\n\n    if (optionsSchema.properties[prop] && errorsProps.indexOf(prop) === -1)\n      res[prop] = settings[prop]\n\n    return res\n  }, {})\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\n/* local storage */\nexport const storage = {\n  warningMessage:\n    'Your changes will be lost after the tab closing. See Help (Note 2).',\n  isAvailable() {\n    try {\n      const storage = global.localStorage\n      return storage\n    } catch (ex) {\n      return false\n    }\n  },\n  getItem(key) {\n    let item = null\n    try {\n      item = JSON.parse(localStorage.getItem(key))\n    } catch (ex) {\n      console.info('LocalStorage:', ex.name)\n    }\n    return item\n  },\n  setItem(key, data) {\n    let isSet = null\n    try {\n      localStorage.setItem(key, JSON.stringify(data))\n      isSet = true\n    } catch (ex) {\n      console.info('LocalStorage:', ex.name)\n      isSet = false\n    }\n    return isSet\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  SERVER_OPTIONS,\n  getDefaultOptions,\n  validation\n} from '../../data/schema/options-schema'\n\nimport { pick } from 'lodash/fp'\nimport { storage } from '../../storage-ext'\n\nexport const initOptionsState = {\n  app: {\n    server: false,\n    templates: false,\n    functionalGroups: false,\n    saltsAndSolvents: false\n  },\n  analyse: {\n    values: null,\n    roundWeight: 3,\n    roundMass: 3,\n    roundElAnalysis: 1\n  },\n  check: {\n    checkOptions: [\n      'valence',\n      'radicals',\n      'pseudoatoms',\n      'stereo',\n      'query',\n      'overlapping_atoms',\n      'overlapping_bonds',\n      'rgroups',\n      'chiral',\n      '3d',\n      'chiral_flag'\n    ]\n  },\n  recognize: {\n    file: null,\n    structStr: null,\n    fragment: false,\n    version: null\n  },\n  settings: Object.assign(\n    getDefaultOptions(),\n    validation(storage.getItem('ketcher-opts'))\n  ),\n  getServerSettings() {\n    return pick(SERVER_OPTIONS, this.settings)\n  }\n}\n\nexport function appUpdate(data) {\n  return (dispatch) => {\n    dispatch({ type: 'APP_OPTIONS', data })\n    dispatch({ type: 'UPDATE' })\n  }\n}\n\n/* SETTINGS */\nexport function saveSettings(newSettings) {\n  storage.setItem('ketcher-opts', newSettings)\n  return {\n    type: 'SAVE_SETTINGS',\n    data: newSettings\n  }\n}\n\n/* ANALYZE */\nexport function changeRound(roundName, value) {\n  return {\n    type: 'CHANGE_ANALYSE',\n    data: { [roundName]: value }\n  }\n}\n\n/* RECOGNIZE */\nconst recognizeActions = [\n  'SET_RECOGNIZE_STRUCT',\n  'CHANGE_RECOGNIZE_FILE',\n  'CHANGE_IMAGO_VERSION',\n  'IS_FRAGMENT_RECOGNIZE'\n]\n\nexport function setStruct(str) {\n  return {\n    type: 'SET_RECOGNIZE_STRUCT',\n    data: { structStr: str }\n  }\n}\n\nexport function changeVersion(version) {\n  return {\n    type: 'CHANGE_IMAGO_VERSION',\n    data: { version }\n  }\n}\n\nexport function changeImage(file) {\n  return {\n    type: 'CHANGE_RECOGNIZE_FILE',\n    data: {\n      file,\n      structStr: null\n    }\n  }\n}\n\nexport function shouldFragment(isFrag) {\n  return {\n    type: 'IS_FRAGMENT_RECOGNIZE',\n    data: { fragment: isFrag }\n  }\n}\n\n/* CHECK */\nexport function checkOpts(data) {\n  return {\n    type: 'SAVE_CHECK_OPTS',\n    data\n  }\n}\n\n/* REDUCER */\nfunction optionsReducer(state = {}, action) {\n  const { type, data } = action\n\n  if (type === 'APP_OPTIONS')\n    return { ...state, app: { ...state.app, ...data } }\n\n  if (type === 'SAVE_SETTINGS') return { ...state, settings: data }\n\n  if (type === 'SAVE_CHECK_OPTS') return { ...state, check: data }\n\n  if (type === 'CHANGE_ANALYSE')\n    return { ...state, analyse: { ...state.analyse, ...data, loading: false } }\n\n  if (type === 'ANALYSE_LOADING')\n    return { ...state, analyse: { ...state.analyse, loading: true } }\n\n  if (recognizeActions.includes(type))\n    return { ...state, recognize: { ...state.recognize, ...data } }\n  return state\n}\n\nexport default optionsReducer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\n/* schema utils */\nfunction constant(schema, prop) {\n  const desc = schema.properties[prop]\n  return desc.constant || desc.enum[0] // see https://git.io/v6hyP\n}\n\nexport function mapOf(schema, prop) {\n  console.assert(schema.oneOf)\n  return schema.oneOf.reduce((res, desc) => {\n    res[constant(desc, prop)] = desc\n    return res\n  }, {})\n}\n\nexport function selectListOf(schema, prop) {\n  const desc = schema.properties && schema.properties[prop]\n  if (desc) {\n    return desc.enum.map((value, i) => {\n      const title = desc.enumNames && desc.enumNames[i]\n      return title ? { title, value } : value\n    })\n  }\n  return schema.oneOf.map((ds) =>\n    !ds.title\n      ? constant(ds, prop)\n      : {\n          title: ds.title,\n          value: constant(ds, prop)\n        }\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { mapOf } from './schema-helper'\n\nconst radioButtonsSchema = {\n  enum: ['Absolute', 'Relative', 'Attached'],\n  default: 'Absolute'\n}\n\nconst contextSchema = {\n  title: 'Context',\n  enum: ['Fragment', 'Multifragment', 'Bond', 'Atom', 'Group'],\n  default: 'Fragment'\n}\n\nconst sData = {\n  Fragment: {\n    title: 'Fragment',\n    type: 'Object',\n    oneOf: [\n      {\n        key: 'FRG_STR',\n        title: 'MDLBG_FRAGMENT_STEREO',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_FRAGMENT_STEREO'],\n            default: 'MDLBG_FRAGMENT_STEREO'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: [\n              'abs',\n              '(+)-enantiomer',\n              '(-)-enantiomer',\n              'racemate',\n              'steric',\n              'rel',\n              'R(a)',\n              'S(a)',\n              'R(p)',\n              'S(p)'\n            ],\n            default: 'abs'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      },\n      {\n        key: 'FRG_COEFF',\n        title: 'MDLBG_FRAGMENT_COEFFICIENT',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_FRAGMENT_COEFFICIENT'],\n            default: 'MDLBG_FRAGMENT_COEFFICIENT'\n          },\n          fieldValue: {\n            title: 'Field value',\n            type: 'string',\n            default: '',\n            minLength: 1,\n            invalidMessage: 'Please, specify field value'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      },\n      {\n        key: 'FRG_CHRG',\n        title: 'MDLBG_FRAGMENT_CHARGE',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_FRAGMENT_CHARGE'],\n            default: 'MDLBG_FRAGMENT_CHARGE'\n          },\n          fieldValue: {\n            title: 'Field value',\n            type: 'string',\n            default: '',\n            minLength: 1,\n            invalidMessage: 'Please, specify field value'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      },\n      {\n        key: 'FRG_RAD',\n        title: 'MDLBG_FRAGMENT_RADICALS',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_FRAGMENT_RADICALS'],\n            default: 'MDLBG_FRAGMENT_RADICALS'\n          },\n          fieldValue: {\n            title: 'Field value',\n            type: 'string',\n            default: '',\n            minLength: 1,\n            invalidMessage: 'Please, specify field value'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      }\n    ]\n  },\n  Multifragment: {\n    title: 'Multifragment',\n    type: 'Object',\n    oneOf: [\n      {\n        key: 'MLT_FRG',\n        title: 'KETCHER_MULTIPLE_FRAGMENT',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['KETCHER_MULTIPLE_FRAGMENT'],\n            default: 'KETCHER_MULTIPLE_FRAGMENT'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: [\n              'aerosol',\n              'alloy',\n              'catenane',\n              'complex',\n              'composite',\n              'co-polymer',\n              'emulsion',\n              'host-guest complex',\n              'mixture',\n              'rotaxane',\n              'suspension'\n            ],\n            default: 'aerosol'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      }\n    ]\n  },\n  Bond: {\n    title: 'Bond',\n    type: 'Object',\n    oneOf: [\n      {\n        key: 'SB_STR',\n        title: 'MDLBG_STEREO_KEY',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_STEREO_KEY'],\n            default: 'MDLBG_STEREO_KEY'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: [\n              'erythro',\n              'threo',\n              'alpha',\n              'beta',\n              'endo',\n              'exo',\n              'anti',\n              'syn',\n              'ECL',\n              'STG'\n            ],\n            default: 'erythro'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      },\n      {\n        key: 'SB_BND',\n        title: 'MDLBG_BOND_KEY',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_BOND_KEY'],\n            default: 'MDLBG_BOND_KEY'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: ['Value=4'],\n            default: 'Value=4'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      }\n    ]\n  },\n  Atom: {\n    title: 'Atom',\n    type: 'Object',\n    oneOf: [\n      {\n        key: 'AT_STR',\n        title: 'MDLBG_STEREO_KEY',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_STEREO_KEY'],\n            default: 'MDLBG_STEREO_KEY'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: [\n              'RS',\n              'SR',\n              'P-3',\n              'P-3-PI',\n              'SP-4',\n              'SP-4-PI',\n              'T-4',\n              'T-4-PI',\n              'SP-5',\n              'SP-5-PI',\n              'TB-5',\n              'TB-5-PI',\n              'OC-6',\n              'TP-6',\n              'PB-7',\n              'CU-8',\n              'SA-8',\n              'DD-8',\n              'HB-9',\n              'TPS-9'\n            ],\n            default: 'RS'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      }\n    ]\n  },\n  Group: {\n    title: 'Group',\n    type: 'Object',\n    oneOf: [\n      {\n        key: 'GRP_STR',\n        title: 'MDLBG_STEREO_KEY',\n        type: 'object',\n        properties: {\n          type: { enum: ['DAT'] },\n          fieldName: {\n            title: 'Field name',\n            enum: ['MDLBG_STEREO_KEY'],\n            default: 'MDLBG_STEREO_KEY'\n          },\n          fieldValue: {\n            title: 'Field value',\n            enum: ['cis', 'trans'],\n            default: 'cis'\n          },\n          radiobuttons: radioButtonsSchema\n        },\n        required: ['fieldName', 'fieldValue', 'radiobuttons']\n      }\n    ]\n  }\n}\n\nexport const sdataCustomSchema = {\n  key: 'Custom',\n  title: 'Data',\n  type: 'object',\n  properties: {\n    type: { enum: ['DAT'] },\n    context: {\n      title: 'Context',\n      enum: ['Atom', 'Bond', 'Fragment', 'Group', 'Multifragment'],\n      default: 'Fragment'\n    },\n    fieldName: {\n      title: 'Field name',\n      type: 'string',\n      default: '',\n      minLength: 1,\n      invalidMessage: 'Please, specify field name'\n    },\n    fieldValue: {\n      title: 'Field value',\n      type: 'string',\n      default: '',\n      minLength: 1,\n      invalidMessage: 'Please, specify field value'\n    },\n    radiobuttons: {\n      enum: ['Absolute', 'Relative', 'Attached'],\n      default: 'Absolute'\n    }\n  },\n  required: ['context', 'fieldName', 'fieldValue', 'radiobuttons']\n}\n\nexport const sdataSchema = Object.keys(sData).reduce((acc, title) => {\n  acc[title] = mapOf(sData[title], 'fieldName')\n  Object.keys(acc[title]).forEach((fieldName) => {\n    acc[title][fieldName].properties.context = contextSchema\n  })\n  return acc\n}, {})\n\n/**\n * Returns first key of passed object\n * @param obj { object }\n */\nfunction firstKeyOf(obj) {\n  return Object.keys(obj)[0]\n}\n\n/**\n * Returns schema default values. Depends on passed arguments:\n * pass schema only -> returns default context\n * pass schema & context -> returns default fieldName\n * pass schema & context & fieldName -> returns default fieldValue\n * @param context? { string }\n * @param fieldName? { string }\n * @returns { string }\n */\nexport function getSdataDefault(schema = sdataSchema, context, fieldName) {\n  if (schema.key === 'Custom') {\n    return schema.properties[context]?.default\n  }\n\n  if (!context && !fieldName) return firstKeyOf(schema)\n\n  if (!fieldName) return firstKeyOf(schema[context])\n\n  return schema[context][fieldName]\n    ? schema[context][fieldName].properties.fieldValue.default\n    : ''\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  getSdataDefault,\n  sdataSchema,\n  sdataCustomSchema\n} from '../../data/schema/sdata-schema'\n\nexport const initSdata = (schema) => {\n  const isCustomShema = schema.key === 'Custom'\n\n  const context = isCustomShema\n    ? getSdataDefault(sdataCustomSchema, 'context')\n    : getSdataDefault(sdataSchema)\n  const fieldName = isCustomShema\n    ? getSdataDefault(sdataCustomSchema, 'fieldName')\n    : getSdataDefault(sdataSchema, context)\n  const fieldValue = isCustomShema\n    ? getSdataDefault(sdataCustomSchema, 'fieldValue')\n    : getSdataDefault(sdataSchema, context, fieldName)\n  const radiobuttons = 'Absolute'\n\n  return {\n    errors: {},\n    valid: true,\n    result: {\n      context,\n      fieldName,\n      fieldValue,\n      radiobuttons,\n      type: 'DAT'\n    }\n  }\n}\n\nexport function sdataReducer(state, action) {\n  if (action.data.result.init) {\n    return correctErrors(\n      {\n        ...state,\n        result: Object.assign({}, state.result, action.data.result)\n      },\n      action.data\n    )\n  }\n\n  const actionContext = action.data.result.context\n  const actionFieldName = action.data.result.fieldName\n\n  let newstate = null\n\n  if (actionContext !== state.result.context)\n    newstate = onContextChange(state, action.data.result)\n  else if (actionFieldName !== state.result.fieldName)\n    newstate = onFieldNameChange(state, action.data.result)\n\n  newstate = newstate || {\n    ...state,\n    result: Object.assign({}, state.result, action.data.result)\n  }\n\n  return correctErrors(newstate, action.data)\n}\n\nconst correctErrors = (state, payload) => {\n  const { valid, errors } = payload\n  const { fieldName, fieldValue } = state.result\n\n  return {\n    result: state.result,\n    valid: valid && !!fieldName && !!fieldValue,\n    errors\n  }\n}\n\nconst onContextChange = (state, payload) => {\n  const { context, fieldValue } = payload\n\n  const fieldName = getSdataDefault(sdataCustomSchema, 'fieldName')\n\n  let fValue = fieldValue\n  if (fValue === state.result.fieldValue)\n    fValue = getSdataDefault(sdataCustomSchema, 'fieldValue')\n\n  return {\n    result: {\n      ...payload,\n      context,\n      fieldName,\n      fieldValue: fValue\n    }\n  }\n}\n\nconst onFieldNameChange = (state, payload) => {\n  const { fieldName } = payload\n\n  const context = state.result.context\n\n  let fieldValue = payload.fieldValue\n\n  if (sdataSchema[context][fieldName])\n    fieldValue = getSdataDefault(sdataSchema, context, fieldName)\n\n  if (\n    fieldValue === state.result.fieldValue &&\n    sdataSchema[context][state.result.fieldName]\n  )\n    fieldValue = ''\n\n  return {\n    result: {\n      ...payload,\n      fieldName,\n      fieldValue\n    }\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { initSdata, sdataReducer } from './sdata'\n\nimport { getDefaultOptions } from '../../data/schema/options-schema'\nimport { sdataCustomSchema } from '../../data/schema/sdata-schema'\n\nexport const formsState = {\n  // TODO: create from schema.{smth}.defaultValue\n  // TODO: change validation method, no 'valid:true' props as default\n  atomProps: {\n    errors: {},\n    valid: true,\n    result: {\n      label: '',\n      charge: 0,\n      explicitValence: -1,\n      hCount: 0,\n      invRet: 0,\n      isotope: 0,\n      radical: 0,\n      ringBondCount: 0,\n      substitutionCount: 0\n    }\n  },\n  attachmentPoints: {\n    errors: {},\n    valid: true,\n    result: {\n      primary: false,\n      secondary: false\n    }\n  },\n  automap: {\n    errors: {},\n    valid: true,\n    result: {\n      mode: 'discard'\n    }\n  },\n  bondProps: {\n    errors: {},\n    valid: true,\n    result: {\n      type: 'single',\n      topology: 0,\n      center: 0\n    }\n  },\n  check: {\n    errors: {},\n    moleculeErrors: {}\n  },\n  labelEdit: {\n    errors: {},\n    valid: true,\n    result: {\n      label: ''\n    }\n  },\n  rgroup: {\n    errors: {},\n    valid: true,\n    result: {\n      values: []\n    }\n  },\n  rgroupLogic: {\n    errors: {},\n    valid: true,\n    result: {\n      ifthen: 0,\n      range: '>0',\n      resth: false\n    }\n  },\n  save: {\n    errors: {},\n    valid: true,\n    result: {\n      filename: 'ketcher',\n      format: 'mol'\n    }\n  },\n  settings: {\n    errors: {},\n    valid: true,\n    result: getDefaultOptions()\n  },\n  text: {\n    errors: {},\n    valid: true,\n    result: {}\n  },\n  attach: {\n    errors: {},\n    valid: true,\n    result: {}\n  },\n  sgroup: initSdata(sdataCustomSchema)\n}\n\nexport function updateFormState(data) {\n  return {\n    type: 'UPDATE_FORM',\n    data\n  }\n}\n\nexport function checkErrors(errors) {\n  return {\n    type: 'UPDATE_FORM',\n    data: { moleculeErrors: errors }\n  }\n}\n\nexport function setDefaultSettings() {\n  return {\n    type: 'UPDATE_FORM',\n    data: {\n      result: getDefaultOptions(sdataCustomSchema),\n      valid: true,\n      errors: {}\n    }\n  }\n}\n\nexport function formReducer(state, action) {\n  const newType = action.data?.result?.type\n  if (newType === 'DAT') return sdataReducer(state, action)\n\n  return Object.assign({}, state, action.data)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const INDIGO_VERIFICATION = 'INDIGO_VERIFICATION'\nexport const ANALYZING_FILE = 'ANALYZING_FILE'\n\nexport interface RequestState {\n  indigoVerification: boolean\n  isAnalyzingFile: boolean\n}\n\ninterface IndigoVerificationAction {\n  type: string\n  data: boolean\n}\n\nexport type RequestActionTypes = IndigoVerificationAction\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  INDIGO_VERIFICATION,\n  ANALYZING_FILE,\n  RequestActionTypes,\n  RequestState\n} from './request.types'\n\nexport function indigoVerification(data: boolean): RequestActionTypes {\n  return {\n    type: INDIGO_VERIFICATION,\n    data\n  }\n}\n\nexport function setAnalyzingFile(data: boolean): RequestActionTypes {\n  return {\n    type: ANALYZING_FILE,\n    data\n  }\n}\n\nconst initialState = {\n  indigoVerification: false,\n  isAnalyzingFile: false\n}\n\nexport default function (\n  state = initialState,\n  action: RequestActionTypes\n): RequestState {\n  const { type, data } = action\n\n  switch (type) {\n    case INDIGO_VERIFICATION: {\n      return {\n        ...state,\n        indigoVerification: data\n      }\n    }\n    case ANALYZING_FILE: {\n      return {\n        ...state,\n        isAnalyzingFile: data\n      }\n    }\n    default:\n      return state\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const supportedSGroupTypes = {\n  MUL: 'MUL',\n  SRU: 'SRU',\n  SUP: 'SUP',\n  DAT: 'DAT'\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { mapOf } from './schema-helper'\nimport { range } from 'lodash/fp'\nimport { sdataCustomSchema } from './sdata-schema'\n\nexport const atom = {\n  title: 'Atom',\n  type: 'object',\n  required: ['label'],\n  properties: {\n    label: {\n      title: 'Label',\n      type: 'string', // TODO:should really be enum of elements\n      maxLength: 3,\n      invalidMessage: 'Wrong label'\n    },\n    alias: {\n      title: 'Alias',\n      type: 'string',\n      invalidMessage: 'Leading and trailing spaces are not allowed'\n    },\n    charge: {\n      title: 'Charge',\n      type: 'string',\n      pattern: '^([+-]?)([0-9]{1,3}|1000)([+-]?)$',\n      maxLength: 5,\n      default: '0',\n      invalidMessage: 'Invalid charge value'\n    },\n    explicitValence: {\n      title: 'Valence',\n      enum: [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8],\n      enumNames: ['', '0', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII'],\n      default: -1\n    },\n    isotope: {\n      title: 'Isotope',\n      type: 'integer',\n      minimum: 0,\n      default: 0,\n      invalidMessage: 'There must be integer'\n    },\n    radical: {\n      title: 'Radical',\n      enum: [0, 2, 1, 3],\n      enumNames: [\n        '',\n        'Monoradical',\n        'Diradical (singlet)',\n        'Diradical (triplet)'\n      ],\n      default: 0\n    },\n    cip: {\n      title: 'CIP',\n      type: 'string',\n      enum: ['R', 'S', 'r', 's']\n    },\n    ringBondCount: {\n      title: 'Ring bond count',\n      enum: [0, -2, -1, 2, 3, 4],\n      enumNames: ['', 'As drawn', '0', '2', '3', '4'],\n      default: 0\n    },\n    hCount: {\n      title: 'H count',\n      enum: [0, 1, 2, 3, 4, 5],\n      enumNames: ['', '0', '1', '2', '3', '4'],\n      default: 0\n    },\n    substitutionCount: {\n      title: 'Substitution count',\n      enum: [0, -2, -1, 1, 2, 3, 4, 5, 6],\n      enumNames: ['', 'As drawn', '0', '1', '2', '3', '4', '5', '6'],\n      default: 0\n    },\n    unsaturatedAtom: {\n      title: 'Unsaturated',\n      type: 'boolean',\n      default: false\n    },\n    invRet: {\n      title: 'Inversion',\n      enum: [0, 1, 2],\n      enumNames: ['', 'Inverts', 'Retains'],\n      default: 0\n    },\n    exactChangeFlag: {\n      title: 'Exact change',\n      type: 'boolean',\n      default: false\n    }\n  }\n}\n\nexport const rgroupSchema = {\n  title: 'R-group',\n  type: 'object',\n  properties: {\n    values: {\n      type: 'array',\n      items: {\n        type: 'string',\n        enum: range(1, 33),\n        enumNames: range(1, 33).map((item) => 'R' + item)\n      }\n    }\n  }\n}\n\nexport const labelEdit = {\n  title: 'Label Edit',\n  type: 'object',\n  required: ['label'],\n  properties: {\n    label: {\n      title: 'Atom',\n      default: '',\n      invalidMessage: 'Wrong atom symbol',\n      type: 'string'\n    }\n  }\n}\n\nexport const attachmentPoints = {\n  title: 'Attachment Points',\n  type: 'object',\n  properties: {\n    primary: {\n      title: 'Primary attachment point',\n      type: 'boolean'\n    },\n    secondary: {\n      title: 'Secondary attachment point',\n      type: 'boolean'\n    }\n  }\n}\n\nexport const bond = {\n  title: 'Bond',\n  type: 'object',\n  required: ['type'],\n  properties: {\n    type: {\n      title: 'Type',\n      enum: [\n        '',\n        'single',\n        'up',\n        'down',\n        'updown',\n        'double',\n        'crossed',\n        'triple',\n        'aromatic',\n        'any',\n        'hydrogen',\n        'singledouble',\n        'singlearomatic',\n        'doublearomatic',\n        'dative'\n      ],\n      enumNames: [\n        '',\n        'Single',\n        'Single Up',\n        'Single Down',\n        'Single Up/Down',\n        'Double',\n        'Double Cis/Trans',\n        'Triple',\n        'Aromatic',\n        'Any',\n        'Hydrogen',\n        'Single/Double',\n        'Single/Aromatic',\n        'Double/Aromatic',\n        'Dative'\n      ],\n      default: 'single'\n    },\n    topology: {\n      title: 'Topology',\n      enum: [0, 1, 2],\n      enumNames: ['Either', 'Ring', 'Chain'],\n      default: 0\n    },\n    center: {\n      title: 'Reacting Center',\n      enum: [0, -1, 1, 2, 4, 8, 12], // 5, 9, 13\n      enumNames: [\n        'Unmarked',\n        'Not center',\n        'Center',\n        'No change',\n        'Made/broken',\n        'Order changes',\n        'Made/broken and changes'\n      ], // \"Order changes\" x 3\n      default: 0\n    },\n    cip: {\n      title: 'CIP',\n      type: 'string',\n      enum: ['E', 'Z', 'M', 'P']\n    }\n  }\n}\n\nconst sgroup = {\n  title: 'SGroup',\n  type: 'object',\n  required: ['type'],\n  oneOf: [\n    {\n      ...sdataCustomSchema\n    },\n    {\n      key: 'MUL',\n      title: 'Multiple group',\n      type: 'object',\n      properties: {\n        type: { enum: ['MUL'] },\n        mul: {\n          title: 'Repeat count',\n          type: 'integer',\n          default: 1,\n          minimum: 1\n        }\n      },\n      required: ['mul']\n    },\n    {\n      key: 'SRU',\n      title: 'SRU polymer',\n      type: 'object',\n      properties: {\n        type: { enum: ['SRU'] },\n        subscript: {\n          title: 'Polymer label',\n          type: 'string',\n          default: 'n',\n          // any string, except empty and including double quotes\n          pattern: '^(?!\\\\s*$)[^\"]+$',\n          invalidMessage:\n            'SRU subscript should not be empty and contain double quotes'\n        },\n        connectivity: {\n          title: 'Repeat Pattern',\n          enum: ['ht', 'hh', 'eu'],\n          enumNames: ['Head-to-tail', 'Head-to-head', 'Either unknown'],\n          default: 'ht'\n        }\n      },\n      required: ['subscript', 'connectivity']\n    },\n    {\n      key: 'SUP',\n      title: 'Superatom',\n      type: 'object',\n      properties: {\n        type: { enum: ['SUP'] },\n        name: {\n          title: 'Name',\n          type: 'string',\n          default: '',\n          minLength: 1,\n          invalidMessage: 'Please, provide a name for the superatom'\n        }\n      },\n      required: ['name']\n    }\n  ]\n}\nexport const sgroupMap = mapOf(sgroup, 'type')\n\nexport const rgroupLogic = {\n  title: 'R-Group',\n  type: 'object',\n  properties: {\n    range: {\n      title: 'Occurrence',\n      type: 'string',\n      maxLength: 50,\n      invalidMessage: 'Wrong value'\n    },\n    resth: {\n      title: 'RestH',\n      type: 'boolean'\n    },\n    ifthen: {\n      title: 'Condition',\n      type: 'integer',\n      minium: 0\n    }\n  }\n}\n\nexport const textSchema = {\n  title: 'Text Edit',\n  type: 'object',\n  required: ['label'],\n  properties: {\n    label: {\n      default: '',\n      type: 'string'\n    }\n  }\n}\n\nexport const attachSchema = {\n  title: 'Template edit',\n  type: 'object',\n  required: ['name'],\n  properties: {\n    name: {\n      title: 'Molecule name',\n      type: 'string',\n      minLength: 1,\n      maxLength: 128,\n      invalidMessage:\n        'Template must have a unique name and no more than 128 symbols in length'\n    }\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AtomList, Bond, Elements, StereoLabel } from 'ketcher-core'\n\nimport { atom as atomSchema } from '../schema/struct-schema'\nimport { capitalize } from 'lodash/fp'\nimport {\n  sdataSchema,\n  getSdataDefault,\n  sdataCustomSchema\n} from '../schema/sdata-schema'\n\nconst DefaultStereoGroupNumber = 1\n\nexport function fromElement(selem) {\n  if (selem.label === 'R#') {\n    return {\n      type: 'rlabel',\n      values: fromRlabel(selem.rglabel),\n      ...selem\n    }\n  }\n  if (selem.label === 'L#') return fromAtomList(selem)\n\n  if (Elements.get(selem.label)) return fromAtom(selem)\n\n  if (!selem.label && 'attpnt' in selem) return { ap: fromApoint(selem.attpnt) }\n\n  return selem // probably generic\n}\n\nexport function toElement(elem) {\n  if (elem.type === 'rlabel') {\n    return {\n      label: elem.values.length ? 'R#' : 'C',\n      rglabel: elem.values.length === 0 ? null : toRlabel(elem.values)\n    }\n  }\n  if (elem.type === 'list' || elem.type === 'not-list') return toAtomList(elem)\n\n  if (!elem.label && 'ap' in elem) return { attpnt: toApoint(elem.ap) }\n\n  if (Elements.get(capitalize(elem.label))) return toAtom(elem)\n\n  if (\n    elem.label === 'A' ||\n    elem.label === '*' ||\n    elem.label === 'Q' ||\n    elem.label === 'X' ||\n    elem.label === 'R'\n  ) {\n    elem.pseudo = elem.label\n    return toAtom(elem)\n  }\n\n  return elem\n}\n\nexport function fromAtom(satom) {\n  const alias = satom.alias || ''\n  const charge = satom.charge.toString()\n\n  return {\n    alias,\n    label: satom.label,\n    charge,\n    isotope: satom.isotope,\n    explicitValence: satom.explicitValence,\n    radical: satom.radical,\n    invRet: satom.invRet,\n    exactChangeFlag: !!satom.exactChangeFlag,\n    ringBondCount: satom.ringBondCount,\n    substitutionCount: satom.substitutionCount,\n    unsaturatedAtom: !!satom.unsaturatedAtom,\n    hCount: satom.hCount,\n    stereoParity: satom.stereoParity\n  }\n}\n\nexport function toAtom(atom) {\n  // TODO merge this to Atom.attrlist?\n  //      see ratomtool\n  const chargeRegexp = new RegExp(atomSchema.properties.charge.pattern)\n  const pch = chargeRegexp.exec(atom.charge)\n  const charge = pch ? parseInt(pch[1] + pch[3] + pch[2]) : atom.charge\n\n  const conv = Object.assign({}, atom, {\n    label: capitalize(atom.label),\n    alias: atom.alias || null,\n    exactChangeFlag: +(atom.exactChangeFlag ?? false),\n    unsaturatedAtom: +(atom.unsaturatedAtom ?? false)\n  })\n  if (charge !== undefined) conv.charge = charge\n  return conv\n}\n\nfunction fromAtomList(satom) {\n  return {\n    type: satom.atomList.notList ? 'not-list' : 'list',\n    values: satom.atomList.ids.map((i) => Elements.get(i).label)\n  }\n}\n\nfunction toAtomList(atom) {\n  return {\n    pseudo: null,\n    label: 'L#',\n    atomList: new AtomList({\n      notList: atom.type === 'not-list',\n      ids: atom.values.map((el) => Elements.get(el).number)\n    })\n  }\n}\n\nexport function fromStereoLabel(stereoLabel) {\n  if (stereoLabel === null) return { type: null }\n  const type = stereoLabel.match(/\\D+/g)[0]\n  const number = +stereoLabel.replace(type, '')\n\n  if (type === StereoLabel.Abs) {\n    return {\n      type: stereoLabel,\n      orNumber: DefaultStereoGroupNumber,\n      andNumber: DefaultStereoGroupNumber\n    }\n  }\n\n  if (type === StereoLabel.And) {\n    return {\n      type: type,\n      orNumber: DefaultStereoGroupNumber,\n      andNumber: number\n    }\n  }\n\n  if (type === StereoLabel.Or) {\n    return {\n      type: type,\n      orNumber: number,\n      andNumber: DefaultStereoGroupNumber\n    }\n  }\n}\n\nexport function toStereoLabel(stereoLabel) {\n  switch (stereoLabel.type) {\n    case StereoLabel.And:\n      return `${StereoLabel.And}${stereoLabel.andNumber || 1}`\n\n    case StereoLabel.Or:\n      return `${StereoLabel.Or}${stereoLabel.orNumber || 1}`\n\n    default:\n      return stereoLabel.type\n  }\n}\n\nfunction fromApoint(sap) {\n  return {\n    primary: ((sap || 0) & 1) > 0,\n    secondary: ((sap || 0) & 2) > 0\n  }\n}\n\nfunction toApoint(ap) {\n  return (ap.primary && 1) + (ap.secondary && 2)\n}\n\nfunction fromRlabel(rg) {\n  const res = []\n  let rgi\n  let val\n  for (rgi = 0; rgi < 32; rgi++) {\n    if (rg & (1 << rgi)) {\n      val = rgi + 1\n      res.push(val) // push the string\n    }\n  }\n  return res\n}\n\nfunction toRlabel(values) {\n  let res = 0\n  values.forEach((val) => {\n    const rgi = val - 1\n    res |= 1 << rgi\n  })\n  return res\n}\n\nexport function fromBond(sbond) {\n  const type = sbond.type\n  const stereo = sbond.stereo\n  return {\n    type: fromBondType(type, stereo),\n    topology: sbond.topology || 0,\n    center: sbond.reactingCenterStatus || 0\n  }\n}\n\nexport function toBond(bond) {\n  return {\n    topology: bond.topology,\n    reactingCenterStatus: bond.center,\n    ...toBondType(bond.type)\n  }\n}\n\nexport function toBondType(caption) {\n  return Object.assign({}, bondCaptionMap[caption])\n}\n\nfunction fromBondType(type, stereo) {\n  for (const caption in bondCaptionMap) {\n    if (\n      bondCaptionMap[caption].type === type &&\n      bondCaptionMap[caption].stereo === stereo\n    )\n      return caption\n  }\n  return ''\n}\n\nconst bondCaptionMap = {\n  single: {\n    type: Bond.PATTERN.TYPE.SINGLE,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  up: {\n    type: Bond.PATTERN.TYPE.SINGLE,\n    stereo: Bond.PATTERN.STEREO.UP\n  },\n  down: {\n    type: Bond.PATTERN.TYPE.SINGLE,\n    stereo: Bond.PATTERN.STEREO.DOWN\n  },\n  updown: {\n    type: Bond.PATTERN.TYPE.SINGLE,\n    stereo: Bond.PATTERN.STEREO.EITHER\n  },\n  double: {\n    type: Bond.PATTERN.TYPE.DOUBLE,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  crossed: {\n    type: Bond.PATTERN.TYPE.DOUBLE,\n    stereo: Bond.PATTERN.STEREO.CIS_TRANS\n  },\n  triple: {\n    type: Bond.PATTERN.TYPE.TRIPLE,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  aromatic: {\n    type: Bond.PATTERN.TYPE.AROMATIC,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  singledouble: {\n    type: Bond.PATTERN.TYPE.SINGLE_OR_DOUBLE,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  singlearomatic: {\n    type: Bond.PATTERN.TYPE.SINGLE_OR_AROMATIC,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  doublearomatic: {\n    type: Bond.PATTERN.TYPE.DOUBLE_OR_AROMATIC,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  any: {\n    type: Bond.PATTERN.TYPE.ANY,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  hydrogen: {\n    type: Bond.PATTERN.TYPE.HYDROGEN,\n    stereo: Bond.PATTERN.STEREO.NONE\n  },\n  dative: {\n    type: Bond.PATTERN.TYPE.DATIVE,\n    stereo: Bond.PATTERN.STEREO.NONE\n  }\n}\n\nexport function fromSgroup(ssgroup) {\n  const type = ssgroup.type || 'DAT'\n  const { context, fieldName, fieldValue, absolute, attached } = ssgroup.attrs\n\n  if (absolute === false && attached === false)\n    ssgroup.attrs.radiobuttons = 'Relative'\n  else ssgroup.attrs.radiobuttons = attached ? 'Attached' : 'Absolute'\n\n  if (\n    sdataSchema[context][fieldName] &&\n    sdataSchema[context][fieldName].properties.fieldValue.items\n  )\n    ssgroup.attrs.fieldValue = fieldValue.split('\\n')\n\n  const sDataInitValue =\n    type === 'DAT'\n      ? {\n          context: context || getSdataDefault(sdataCustomSchema, 'context'),\n          fieldName:\n            fieldName || getSdataDefault(sdataCustomSchema, 'fieldName'),\n          fieldValue:\n            fieldValue || getSdataDefault(sdataCustomSchema, 'fieldValue')\n        }\n      : {}\n\n  return Object.assign({ type }, ssgroup.attrs, sDataInitValue)\n}\n\nexport function toSgroup(sgroup) {\n  const { type, radiobuttons, ...props } = sgroup\n  const attrs = { ...props }\n\n  const absolute = 'absolute'\n  const attached = 'attached'\n\n  switch (radiobuttons) {\n    case 'Absolute':\n      attrs[absolute] = true\n      attrs[attached] = false\n      break\n    case 'Attached':\n      attrs[absolute] = false\n      attrs[attached] = true\n      break\n    case 'Relative':\n      attrs[absolute] = false\n      attrs[attached] = false\n      break\n    default:\n      break\n  }\n\n  if (attrs.fieldName) attrs.fieldName = attrs.fieldName.trim()\n\n  if (attrs.fieldValue) {\n    attrs.fieldValue =\n      typeof attrs.fieldValue === 'string'\n        ? attrs.fieldValue.trim()\n        : attrs.fieldValue\n  }\n\n  return {\n    type,\n    attrs\n  }\n}\n","import { Atom, ReBond, ReStruct, isAttachmentBond } from 'ketcher-core'\n\nexport function isFlipDisabled(editor): boolean {\n  const selection: { atoms: number[]; bonds: number[] } = editor.selection()\n  const restruct: ReStruct = editor.render.ctab\n\n  if (!selection) {\n    return false\n  }\n\n  const { bonds = [], atoms = [] } = selection\n  const getBondIdsForAttachmentAtoms = () => {\n    const result: number[] = []\n    for (const atomId of atoms) {\n      const atomBondIds = Atom.getConnectedBondIds(restruct.molecule, atomId)\n      for (const atomBondId of atomBondIds) {\n        const bond: ReBond | undefined = restruct.bonds.get(atomBondId)\n        if (bond && isAttachmentBond(bond.b, selection)) {\n          result.push(atomBondId)\n        }\n      }\n    }\n    return result\n  }\n  const getAmountOfAttachmentBonds = (): number => {\n    let amountOfAttachmentBonds = 0\n    const totalBondIds = new Set([...bonds, ...getBondIdsForAttachmentAtoms()])\n    for (const bondId of totalBondIds) {\n      const bond: ReBond | undefined = restruct.bonds.get(bondId)\n      if (bond && isAttachmentBond(bond.b, selection)) {\n        amountOfAttachmentBonds++\n      }\n    }\n\n    return amountOfAttachmentBonds\n  }\n\n  return getAmountOfAttachmentBonds() > 1\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { RxnArrowMode, SimpleObjectMode, findStereoAtoms } from 'ketcher-core'\n\nimport { bond as bondSchema } from '../data/schema/struct-schema'\nimport isHidden from './isHidden'\nimport { toBondType } from '../data/convert/structconv'\nimport { isFlipDisabled } from './flips'\n\nconst toolActions = {\n  hand: {\n    title: 'Hand tool',\n    shortcut: 'Mod+Alt+h',\n    action: { tool: 'hand' },\n    hidden: (options) => isHidden(options, 'hand')\n  },\n  'select-lasso': {\n    title: 'Lasso Selection',\n    shortcut: 'Escape',\n    action: { tool: 'select', opts: 'lasso' }\n  },\n  'select-rectangle': {\n    title: 'Rectangle Selection',\n    shortcut: 'Escape',\n    action: { tool: 'select', opts: 'rectangle' },\n    hidden: (options) => isHidden(options, 'select-rectangle')\n  },\n  'select-fragment': {\n    title: 'Fragment Selection',\n    shortcut: 'Escape',\n    action: { tool: 'select', opts: 'fragment' },\n    hidden: (options) => isHidden(options, 'select-fragment')\n  },\n  erase: {\n    title: 'Erase',\n    shortcut: ['Delete', 'Backspace'],\n    action: { tool: 'eraser', opts: 1 }, // TODO last selector mode is better\n    hidden: (options) => isHidden(options, 'erase')\n  },\n  chain: {\n    title: 'Chain',\n    action: { tool: 'chain' },\n    hidden: (options) => isHidden(options, 'chain')\n  },\n  'enhanced-stereo': {\n    shortcut: 'Alt+e',\n    title: 'Stereochemistry',\n    action: { tool: 'enhancedStereo' },\n    disabled: (editor) =>\n      findStereoAtoms(\n        editor?.struct(),\n        Array.from(editor?.struct().atoms.keys())\n      ).length === 0,\n    hidden: (options) => isHidden(options, 'enhanced-stereo')\n  },\n  'charge-plus': {\n    shortcut: '+',\n    title: 'Charge Plus',\n    action: { tool: 'charge', opts: 1 },\n    hidden: (options) => isHidden(options, 'charge-plus')\n  },\n  'charge-minus': {\n    shortcut: '-',\n    title: 'Charge Minus',\n    action: { tool: 'charge', opts: -1 },\n    hidden: (options) => isHidden(options, 'charge-minus')\n  },\n  transforms: {\n    hidden: (options) => isHidden(options, 'transforms')\n  },\n  'transform-rotate': {\n    shortcut: 'Alt+r',\n    title: 'Rotate Tool',\n    action: { tool: 'rotate' },\n    hidden: (options) => isHidden(options, 'transform-rotate')\n  },\n  'transform-flip-h': {\n    shortcut: 'Alt+h',\n    title: 'Horizontal Flip',\n    action: { tool: 'rotate', opts: 'horizontal' },\n    disabled: isFlipDisabled,\n    hidden: (options) => isHidden(options, 'transform-flip-h')\n  },\n  'transform-flip-v': {\n    shortcut: 'Alt+v',\n    title: 'Vertical Flip',\n    action: { tool: 'rotate', opts: 'vertical' },\n    disabled: isFlipDisabled,\n    hidden: (options) => isHidden(options, 'transform-flip-v')\n  },\n  sgroup: {\n    shortcut: 'Mod+g',\n    title: 'S-Group',\n    action: { tool: 'sgroup' },\n    hidden: (options) => isHidden(options, 'sgroup')\n  },\n  arrows: {\n    hidden: (options) => isHidden(options, 'arrows')\n  },\n  'reaction-arrow-open-angle': {\n    title: 'Arrow Open Angle Tool',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.OpenAngle },\n    hidden: (options) => isHidden(options, 'reaction-arrow-open-angle')\n  },\n  'reaction-arrow-filled-triangle': {\n    title: 'Arrow Filled Triangle',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.FilledTriangle },\n    hidden: (options) => isHidden(options, 'reaction-arrow-filled-triangle')\n  },\n  'reaction-arrow-filled-bow': {\n    title: 'Arrow Filled Bow Tool',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.FilledBow },\n    hidden: (options) => isHidden(options, 'reaction-arrow-filled-bow')\n  },\n  'reaction-arrow-dashed-open-angle': {\n    title: 'Arrow Dashed Open Angle Tool',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.DashedOpenAngle },\n    hidden: (options) => isHidden(options, 'reaction-arrow-dashed-open-angle')\n  },\n  'reaction-arrow-failed': {\n    title: 'Failed Arrow Tool',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.Failed },\n    hidden: (options) => isHidden(options, 'reaction-arrow-failed')\n  },\n  'reaction-arrow-both-ends-filled-triangle': {\n    title: 'Arrow Both Ends Filled Triangle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.BothEndsFilledTriangle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-both-ends-filled-triangle')\n  },\n  'reaction-arrow-equilibrium-filled-half-bow': {\n    title: 'Arrow Equilibrium Filled Half Bow Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EquilibriumFilledHalfBow\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-equilibrium-filled-half-bow')\n  },\n  'reaction-arrow-equilibrium-filled-triangle': {\n    title: 'Arrow Equilibrium Filled Triangle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EquilibriumFilledTriangle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-equilibrium-filled-triangle')\n  },\n  'reaction-arrow-equilibrium-open-angle': {\n    title: 'Arrow Equilibrium Open Angle Tool',\n    action: { tool: 'reactionarrow', opts: RxnArrowMode.EquilibriumOpenAngle },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-equilibrium-open-angle')\n  },\n  'reaction-arrow-unbalanced-equilibrium-filled-half-bow': {\n    title: 'Arrow Unbalanced Equilibrium Filled Half Bow Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.UnbalancedEquilibriumFilledHalfBow\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-unbalanced-equilibrium-filled-half-bow')\n  },\n  'reaction-arrow-unbalanced-equilibrium-open-half-angle': {\n    title: 'Arrow Unbalanced Equilibrium Open Half Angle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.UnbalancedEquilibriumOpenHalfAngle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-unbalanced-equilibrium-open-half-angle')\n  },\n  'reaction-arrow-unbalanced-equilibrium-large-filled-half-bow': {\n    title: 'Arrow Unbalanced Equilibrium Large Filled Half Bow Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.UnbalancedEquilibriumLargeFilledHalfBow\n    },\n    hidden: (options) =>\n      isHidden(\n        options,\n        'reaction-arrow-unbalanced-equilibrium-large-filled-half-bow'\n      )\n  },\n  'reaction-arrow-unbalanced-equilibrium-filled-half-triangle': {\n    title: 'Arrow Unbalanced Equilibrium Filled Half Triangle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.UnbalancedEquilibriumFilledHalfTriangle\n    },\n    hidden: (options) =>\n      isHidden(\n        options,\n        'reaction-arrow-unbalanced-equilibrium-filled-half-triangle'\n      )\n  },\n  'reaction-arrow-elliptical-arc-arrow-filled-bow': {\n    title: 'Arrow Elliptical Arc Filled Bow Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EllipticalArcFilledBow\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-elliptical-arc-arrow-filled-bow')\n  },\n  'reaction-arrow-elliptical-arc-arrow-filled-triangle': {\n    title: 'Arrow Elliptical Arc Filled Triangle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EllipticalArcFilledTriangle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-elliptical-arc-arrow-filled-triangle')\n  },\n  'reaction-arrow-elliptical-arc-arrow-open-angle': {\n    title: 'Arrow Elliptical Arc Open Angle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EllipticalArcOpenAngle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-elliptical-arc-arrow-open-angle')\n  },\n  'reaction-arrow-elliptical-arc-arrow-open-half-angle': {\n    title: 'Arrow Elliptical Arc Open Half Angle Tool',\n    action: {\n      tool: 'reactionarrow',\n      opts: RxnArrowMode.EllipticalArcOpenHalfAngle\n    },\n    hidden: (options) =>\n      isHidden(options, 'reaction-arrow-elliptical-arc-arrow-open-half-angle')\n  },\n  'reaction-plus': {\n    title: 'Reaction Plus Tool',\n    action: { tool: 'reactionplus' },\n    hidden: (options) => isHidden(options, 'reaction-plus')\n  },\n  'reaction-mapping-tools': {\n    hidden: (options) => isHidden(options, 'reaction-mapping-tools')\n  },\n  'reaction-map': {\n    title: 'Reaction Mapping Tool',\n    action: { tool: 'reactionmap' },\n    hidden: (options) => isHidden(options, 'reaction-map')\n  },\n  'reaction-unmap': {\n    title: 'Reaction Unmapping Tool',\n    action: { tool: 'reactionunmap' },\n    hidden: (options) => isHidden(options, 'reaction-unmap')\n  },\n  rgroup: {\n    hidden: (options) => isHidden(options, 'rgroup')\n  },\n  'rgroup-label': {\n    shortcut: 'Mod+r',\n    title: 'R-Group Label Tool',\n    action: { tool: 'rgroupatom' },\n    hidden: (options) => isHidden(options, 'rgroup-label')\n  },\n  'rgroup-fragment': {\n    shortcut: ['Mod+Shift+r', 'Mod+r'],\n    title: 'R-Group Fragment Tool',\n    action: { tool: 'rgroupfragment' },\n    hidden: (options) => isHidden(options, 'rgroup-fragment')\n  },\n  'rgroup-attpoints': {\n    shortcut: 'Mod+r',\n    title: 'Attachment Point Tool',\n    action: { tool: 'apoint' },\n    hidden: (options) => isHidden(options, 'rgroup-attpoints')\n  },\n  shapes: {\n    hidden: (options) => isHidden(options, 'shapes')\n  },\n  'shape-ellipse': {\n    title: 'Shape Ellipse',\n    action: { tool: 'simpleobject', opts: SimpleObjectMode.ellipse },\n    hidden: (options) => isHidden(options, 'shape-ellipse')\n  },\n  'shape-rectangle': {\n    title: 'Shape Rectangle',\n    action: { tool: 'simpleobject', opts: SimpleObjectMode.rectangle },\n    hidden: (options) => isHidden(options, 'shape-rectangle')\n  },\n  'shape-line': {\n    title: 'Shape Line',\n    action: { tool: 'simpleobject', opts: SimpleObjectMode.line },\n    hidden: (options) => isHidden(options, 'shape-line')\n  },\n  text: {\n    shortcut: 'Alt+t',\n    title: 'Add text',\n    action: { tool: 'text' },\n    hidden: (options) => isHidden(options, 'text')\n  },\n  bonds: {\n    hidden: (options) => isHidden(options, 'bonds')\n  }\n}\n\nconst bondCuts = {\n  single: '1',\n  double: '2',\n  triple: '3',\n  up: '1',\n  down: '1',\n  updown: '1',\n  crossed: '2',\n  any: '0',\n  aromatic: '4'\n}\n\nconst typeSchema = bondSchema.properties.type\n\nexport default typeSchema.enum.reduce((res, type, i) => {\n  res[`bond-${type}`] = {\n    title: `${typeSchema.enumNames[i]} Bond`,\n    shortcut: bondCuts[type],\n    action: {\n      tool: 'bond',\n      opts: toBondType(type)\n    },\n    hidden: (options) => isHidden(options, `bond-${type}`)\n  }\n  return res\n}, toolActions)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const KETCHER_INIT_EVENT_NAME = 'ketcher-init'\n\nexport const KETCHER_SAVED_SETTINGS_KEY = 'ketcher_editor_saved_settings'\n\nexport const MODES = {\n  FG: 'fg'\n}\n\nexport const STRUCT_TYPE = {\n  atoms: 'atoms',\n  bonds: 'bonds'\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { KETCHER_SAVED_SETTINGS_KEY } from '../../../constants'\n\ninterface SavedSettings {\n  selectionTool?: any\n}\n\nexport class SettingsManager {\n  static getSettings(): SavedSettings {\n    try {\n      return JSON.parse(\n        localStorage.getItem(KETCHER_SAVED_SETTINGS_KEY) || '{}'\n      )\n    } catch (e) {\n      return {} as SavedSettings\n    }\n  }\n\n  static saveSettings(settings: SavedSettings) {\n    if (!settings) {\n      return\n    }\n    localStorage.setItem(KETCHER_SAVED_SETTINGS_KEY, JSON.stringify(settings))\n  }\n\n  static get selectionTool() {\n    const { selectionTool } = this.getSettings()\n\n    return selectionTool\n  }\n\n  static set selectionTool(selectionTool) {\n    const settings = this.getSettings()\n\n    this.saveSettings({\n      ...settings,\n      selectionTool\n    })\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  FormatterFactory,\n  Pile,\n  SGroup,\n  getStereoAtomsMap,\n  identifyStructFormat,\n  Struct,\n  SupportedFormat,\n  emitEventRequestIsFinished\n} from 'ketcher-core'\n\nimport { supportedSGroupTypes } from './constants'\nimport { setAnalyzingFile } from './request'\nimport tools from '../action/tools'\nimport { SettingsManager } from '../utils/settingsManager'\n\nexport function onAction(action) {\n  if (action && action.dialog) {\n    return {\n      type: 'MODAL_OPEN',\n      data: { name: action.dialog, prop: action.prop }\n    }\n  }\n  if (action && action.thunk) {\n    return action.thunk\n  }\n\n  return {\n    type: 'ACTION',\n    action\n  }\n}\n\nexport function loadStruct(struct) {\n  return (_dispatch, getState) => {\n    const editor = getState().editor\n    editor.struct(struct)\n  }\n}\n\nfunction parseStruct(\n  struct: string | Struct,\n  server,\n  options?\n): Promise<Struct> {\n  if (typeof struct === 'string') {\n    options = options || {}\n    const { rescale, fragment, ...formatterOptions } = options\n\n    const format = identifyStructFormat(struct)\n    if (format === SupportedFormat.cdx) {\n      struct = `base64::${struct.replace(/\\s/g, '')}`\n    }\n    const factory = new FormatterFactory(server)\n\n    const service = factory.create(format, formatterOptions)\n    return service.getStructureFromStringAsync(struct)\n  } else {\n    return Promise.resolve(struct)\n  }\n}\n\n// Removing from what should be saved - structure, which was added to paste tool,\n// but not yet rendered on canvas\nexport function removeStructAction(): {\n  type: string\n  action?: Record<string, unknown>\n} {\n  const savedSelectedTool = SettingsManager.selectionTool\n\n  return onAction(savedSelectedTool || tools['select-rectangle'].action)\n}\n\nexport function load(struct: Struct, options?) {\n  return async (dispatch, getState) => {\n    const state = getState()\n    const editor = state.editor\n    const server = state.server\n    const errorHandler = editor.errorHandler\n\n    options = options || {}\n    options = {\n      ...options,\n      'dearomatize-on-load': editor.options()['dearomatize-on-load'],\n      ignoreChiralFlag: editor.options().ignoreChiralFlag\n    }\n\n    dispatch(setAnalyzingFile(true))\n\n    try {\n      const parsedStruct = await parseStruct(struct, server, options)\n      const { fragment } = options\n      const hasUnsupportedGroups = parsedStruct.sgroups.some(\n        (sGroup) => !supportedSGroupTypes[sGroup.type]\n      )\n\n      if (hasUnsupportedGroups) {\n        await editor.event.confirm.dispatch()\n        parsedStruct.sgroups = parsedStruct.sgroups.filter(\n          (_key, sGroup) => supportedSGroupTypes[sGroup.type]\n        )\n      }\n\n      parsedStruct.rescale() // TODO: move out parsing?\n\n      if (editor.struct().atoms.size) {\n        // NB: reset id\n        const oldStruct = editor.struct().clone()\n        parsedStruct.sgroups.forEach((sg, sgId) => {\n          const offset = SGroup.getOffset(oldStruct.sgroups.get(sgId))\n          const atomSet = new Pile(sg.atoms)\n          const crossBonds = SGroup.getCrossBonds(parsedStruct, atomSet)\n          SGroup.bracketPos(sg, parsedStruct, crossBonds)\n          if (offset) sg.updateOffset(offset)\n        })\n      }\n\n      parsedStruct.findConnectedComponents()\n      parsedStruct.setImplicitHydrogen()\n\n      const stereAtomsMap = getStereoAtomsMap(\n        parsedStruct,\n        Array.from(parsedStruct.bonds.values())\n      )\n\n      parsedStruct.atoms.forEach((atom, id) => {\n        if (parsedStruct?.atomGetNeighbors(id)?.length === 0) {\n          atom.stereoLabel = null\n          atom.stereoParity = 0\n        } else {\n          const stereoProp = stereAtomsMap.get(id)\n          if (stereoProp) {\n            atom.stereoLabel = stereoProp.stereoLabel\n            atom.stereoParity = stereoProp.stereoParity\n          }\n        }\n      })\n\n      parsedStruct.markFragments()\n\n      if (fragment) {\n        if (parsedStruct.isBlank()) {\n          dispatch(removeStructAction())\n        } else {\n          dispatch(onAction({ tool: 'paste', opts: parsedStruct }))\n        }\n      } else {\n        editor.struct(parsedStruct)\n      }\n      dispatch(setAnalyzingFile(false))\n      dispatch({ type: 'MODAL_CLOSE' })\n    } catch (err: any) {\n      dispatch(setAnalyzingFile(false))\n      err && errorHandler(err.message)\n    } finally {\n      emitEventRequestIsFinished()\n    }\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ChemicalMimeType, KetSerializer } from 'ketcher-core'\nimport { appUpdate, setStruct } from '../options'\nimport { omit, without } from 'lodash/fp'\n\nimport { checkErrors } from '../modal/form'\nimport { indigoVerification } from '../request'\nimport { load } from '../shared'\n\nexport function checkServer() {\n  return (dispatch, getState) => {\n    const { editor, server } = getState()\n\n    server.then(\n      (res) =>\n        dispatch(\n          appUpdate({\n            indigoVersion: res?.indigoVersion,\n            imagoVersions: res?.imagoVersions,\n            server: res?.isAvailable\n          })\n        ),\n      (e) => editor.errorHandler(e)\n    )\n  }\n}\n\nexport function recognize(file, version) {\n  return (dispatch, getState) => {\n    const rec = getState().server.recognize\n    const editor = getState().editor\n\n    const process = rec(file, version).then(\n      (res) => {\n        dispatch(setStruct(res.struct))\n      },\n      (e) => {\n        dispatch(setStruct(null))\n        editor.errorHandler(e)\n      }\n    )\n    dispatch(setStruct(process))\n  }\n}\n\nfunction ketcherCheck(struct, checkParams) {\n  const errors = {}\n\n  if (checkParams.includes('chiral_flag')) {\n    const isAbs = Array.from(struct.frags.values()).some((fr) =>\n      fr ? fr.enhancedStereoFlag === 'abs' : false\n    )\n    if (isAbs) errors.chiral_flag = 'Chiral flag is present on the canvas'\n  }\n\n  if (checkParams.includes('valence')) {\n    let badVal = 0\n    struct.atoms.forEach((atom) => atom.badConn && badVal++)\n    if (badVal > 0)\n      errors.valence = `Structure contains ${badVal} atom${\n        badVal !== 1 ? 's' : ''\n      } with bad valence`\n  }\n\n  return errors\n}\n\nexport function check(optsTypes) {\n  return (dispatch, getState) => {\n    const { editor, server } = getState()\n    const ketcherErrors = ketcherCheck(editor.struct(), optsTypes)\n\n    const options = getState().options.getServerSettings()\n    options.data = { types: without(['valence', 'chiral_flag'], optsTypes) }\n\n    return serverCall(editor, server, 'check', options)\n      .then((res) => {\n        res = Object.assign(res, ketcherErrors) // merge Indigo check with Ketcher check\n        dispatch(checkErrors(res))\n      })\n      .catch((e) => {\n        editor.errorHandler(e)\n      })\n  }\n}\n\nexport function automap(res) {\n  return serverTransform('automap', res)\n}\n\nexport function analyse() {\n  return (dispatch, getState) => {\n    // reset values to initial state\n    dispatch({\n      type: 'ANALYSE_LOADING'\n    })\n    const { editor, server, options } = getState()\n    const serverSettings = options.getServerSettings()\n    serverSettings.data = {\n      properties: [\n        'molecular-weight',\n        'most-abundant-mass',\n        'monoisotopic-mass',\n        'gross',\n        'mass-composition'\n      ]\n    }\n\n    return serverCall(editor, server, 'calculate', serverSettings)\n      .then((values) =>\n        dispatch({\n          type: 'CHANGE_ANALYSE',\n          data: { values }\n        })\n      )\n      .catch((e) => {\n        editor.errorHandler(e)\n      })\n  }\n}\n\nexport function serverTransform(method, data, struct) {\n  return (dispatch, getState) => {\n    const state = getState()\n    const opts = state.options.getServerSettings()\n\n    opts.data = data\n    dispatch(indigoVerification(true))\n\n    serverCall(state.editor, state.server, method, opts, struct)\n      .then((res) => {\n        const loadedStruct = new KetSerializer().deserialize(res.struct)\n\n        return dispatch(\n          load(loadedStruct, {\n            rescale: method === 'layout',\n            reactionRelayout: method === 'clean'\n          })\n        )\n      })\n      .catch((e) => {\n        state.editor.errorHandler(e)\n      })\n      .finally(() => {\n        dispatch(indigoVerification(false))\n      })\n    // TODO: notification\n  }\n}\n\n// TODO: serverCall function should not be exported\nexport function serverCall(editor, server, method, options, struct) {\n  const selection = editor.selection()\n  let selectedAtoms = []\n  const aidMap = new Map()\n  const currentStruct = (struct || editor.struct()).clone(\n    null,\n    null,\n    false,\n    aidMap\n  )\n  if (selection) {\n    selectedAtoms = (\n      selection.atoms ? selection.atoms : editor.explicitSelected().atoms\n    ).map((aid) => aidMap.get(aid))\n  }\n  const ketSerializer = new KetSerializer()\n  return server.then(() =>\n    server[method](\n      Object.assign(\n        {\n          struct: ketSerializer.serialize(currentStruct)\n        },\n        method !== 'calculate' && method !== 'check'\n          ? {\n              output_format: ChemicalMimeType.KET\n            }\n          : null,\n        selectedAtoms && selectedAtoms.length > 0\n          ? {\n              selected: selectedAtoms\n            }\n          : null,\n        options.data\n      ),\n      omit('data', options)\n    )\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport isHidden from './isHidden'\nimport { serverTransform } from '../state/server'\n\nconst config = {\n  layout: {\n    shortcut: 'Mod+l',\n    title: 'Layout',\n    action: {\n      thunk: serverTransform('layout')\n    },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'layout')\n  },\n  clean: {\n    shortcut: 'Mod+Shift+l',\n    title: 'Clean Up',\n    action: {\n      thunk: serverTransform('clean')\n    },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'clean')\n  },\n  arom: {\n    shortcut: 'Alt+a',\n    title: 'Aromatize',\n    action: {\n      thunk: serverTransform('aromatize')\n    },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'arom')\n  },\n  dearom: {\n    shortcut: 'Ctrl+Alt+a',\n    title: 'Dearomatize',\n    action: {\n      thunk: serverTransform('dearomatize')\n    },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'dearom')\n  },\n  cip: {\n    shortcut: 'Mod+p',\n    title: 'Calculate CIP',\n    action: {\n      thunk: serverTransform('calculateCip')\n    },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'cip')\n  },\n  check: {\n    shortcut: 'Alt+s',\n    title: 'Check Structure',\n    action: { dialog: 'check' },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'check')\n  },\n  analyse: {\n    shortcut: 'Alt+c',\n    title: 'Calculated Values',\n    action: { dialog: 'analyse' },\n    disabled: (editor, server, options) => !options.app.server,\n    hidden: (options) => isHidden(options, 'analyse')\n  },\n  recognize: {\n    title: 'Recognize Molecule',\n    action: { dialog: 'recognize' },\n    disabled: (editor, server, options) =>\n      // TODO: provide the list of disabled functions as array\n      !options.app.server || !options.app.imagoVersions?.length > 0,\n    hidden: (options) => isHidden(options, 'recognize')\n  },\n  miew: {\n    title: '3D Viewer',\n    action: { dialog: 'miew' },\n    hidden: (options) => isHidden(options, 'miew')\n  }\n}\n\nexport default config\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { MolSerializer } from 'ketcher-core'\n\nconst molSerializer = new MolSerializer()\n\nexport default [\n  `Benzene\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  6  6  0  0  0  0            999 V2000\n    0.6548    2.2452    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.0813    2.2456    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.3694    2.6575    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.0813    1.4204    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.6548    1.4167    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.3712    1.0086    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  3  1  2  0     0  0\n  4  2  2  0     0  0\n  1  5  1  0     0  0\n  2  3  1  0     0  0\n  5  6  2  0     0  0\n  6  4  1  0     0  0\nM  END`,\n\n  `Cyclopentadiene\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  5  5  0  0  0  0            999 V2000\n    3.8091    8.2444    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3091    6.7055    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.6181    7.6510    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.3091    6.7055    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.0000    7.6510    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  5  1  0     0  0\n  2  3  2  0     0  0\n  3  1  1  0     0  0\n  4  2  1  0     0  0\n  5  4  2  0     0  0\nM  END`,\n\n  `Cyclohexane\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  6  6  0  0  0  0            999 V2000\n    2.5500    3.6722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.5500    2.6722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.4160    2.1722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.2820    2.6722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.2820    3.6722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.4160    4.1722    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  6  1  0     0  0\n  1  2  1  0     0  0\n  2  3  1  0     0  0\n  3  4  1  0     0  0\n  4  5  1  0     0  0\n  5  6  1  0     0  0\nM  END`,\n\n  `Cyclopentane\n  Ketcher 11161218352D 1   1.00000     0.00000     0\n\n  5  5  0     0  0            999 V2000\n    0.8090    1.5389    0.0000 C   0  0  0  0  0  0        0  0  0\n    1.6180    0.9511    0.0000 C   0  0  0  0  0  0        0  0  0\n    1.3090    0.0000    0.0000 C   0  0  0  0  0  0        0  0  0\n    0.3090    0.0000    0.0000 C   0  0  0  0  0  0        0  0  0\n    0.0000    0.9511    0.0000 C   0  0  0  0  0  0        0  0  0\n  1  2  1  0     0  0\n  2  3  1  0     0  0\n  3  4  1  0     0  0\n  4  5  1  0     0  0\n  5  1  1  0     0  0\nM  END`,\n\n  `Cyclopropane\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  3  3  0  0  0  0            999 V2000\n    2.6123    1.5663    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.6098    1.5663    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.1111    2.4280    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0     0  0\n  1  3  1  0     0  0\n  2  3  1  0     0  0\nM  END`,\n\n  `Cyclobutane\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  4  4  0  0  0  0            999 V2000\n    3.4956    1.8862    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.4919    2.8804    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4846    1.8991    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4821    2.8804    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0     0  0\n  1  3  1  0     0  0\n  2  4  1  0     0  0\n  3  4  1  0     0  0\nM  END`,\n\n  `Cycloheptane\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  7  7  0  0  0  0            999 V2000\n   21.4111    6.3389    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   22.1938    6.9555    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   23.1653    6.7333    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   23.5987    5.8389    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   21.4166    5.3333    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   23.1660    4.9333    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   22.1938    4.7111    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0     0  0\n  2  3  1  0     0  0\n  3  4  1  0     0  0\n  4  6  1  0     0  0\n  1  5  1  0     0  0\n  5  7  1  0     0  0\n  6  7  1  0     0  0\nM  END`,\n\n  `Cyclooctane\n  Ketcher  5112215552D 1   1.00000     0.00000     0\n\n  8  8  0  0  0  0            999 V2000\n    2.9268    2.2122    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.9270    3.2099    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.6288    3.9118    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.6290    1.5102    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.6266    1.5102    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    5.3286    2.2122    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    5.3285    3.2099    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.6266    3.9119    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0     0  0\n  2  3  1  0     0  0\n  1  4  1  0     0  0\n  4  5  1  0     0  0\n  5  6  1  0     0  0\n  6  7  1  0     0  0\n  7  8  1  0     0  0\n  8  3  1  0     0  0\nM  END`\n].map((structStr) => molSerializer.deserialize(structStr))\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport templates from '../data/templates'\nimport isHidden from './isHidden'\n\nconst templateLib = {\n  'template-lib': {\n    shortcut: 'Shift+t',\n    title: 'Custom Templates',\n    action: { dialog: 'templates', prop: { tab: null } },\n    selected: (editor) => editor._tool.mode === 'classic',\n    disabled: (editor, server, options) => !options.app.templates,\n    hidden: (options) => isHidden(options, 'template-lib')\n  }\n}\n\nexport default templates.reduce((res, struct, i) => {\n  res[`template-${i}`] = {\n    title: `${struct.name}`,\n    shortcut: 't',\n    action: {\n      tool: 'template',\n      opts: { struct }\n    }\n  }\n  return res\n}, templateLib)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { findIndex, findLastIndex } from 'lodash/fp'\nimport isHidden from './isHidden'\n\nexport const zoomList = [\n  0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.7, 2,\n  2.5, 3, 3.5, 4\n]\n\nexport default {\n  zoom: {\n    shortcut: ['Mod+0'],\n    selected: (editor) => editor.zoom(),\n    action: (editor) => editor.zoom(1),\n    hidden: (options) => isHidden(options, 'zoom')\n  },\n  'zoom-out': {\n    shortcut: ['Ctrl+_', 'Ctrl+-'],\n    title: 'Zoom Out',\n    disabled: (editor) => editor.zoom() <= zoomList[0], // unsave\n    action: (editor) => {\n      const zoom = editor.zoom()\n      const i = findLastIndex((z) => z <= zoom, zoomList)\n      editor.zoom(zoomList[zoomList[i] === zoom && i > 0 ? i - 1 : i])\n    },\n    hidden: (options) => isHidden(options, 'zoom-out')\n  },\n  'zoom-in': {\n    shortcut: ['Ctrl+=', 'Ctrl++'],\n    title: 'Zoom In',\n    disabled: (editor) => zoomList[zoomList.length - 1] <= editor.zoom(),\n    action: (editor) => {\n      const zoom = editor.zoom()\n      const i = findIndex((z) => z >= zoom, zoomList)\n      editor.zoom(\n        zoomList[zoomList[i] === zoom && i < zoomList.length - 1 ? i + 1 : i]\n      )\n    },\n    hidden: (options) => isHidden(options, 'zoom-in')\n  },\n  'zoom-list': {\n    hidden: (options) => isHidden(options, 'zoom-list')\n  }\n}\n","/****************************************************************************\n * Copyright 2022 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport isHidden from './isHidden'\n\nconst openHelpLink = () =>\n  window\n    .open(\n      `https://github.com/epam/ketcher/blob/${process.env.HELP_LINK}/documentation/help.md#ketcher-overview`\n    )\n    ?.focus()\n\nexport default {\n  help: {\n    shortcut: ['?', '&', 'Shift+/'],\n    action: () => openHelpLink(),\n    hidden: (options) => isHidden(options, 'help')\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport isHidden from './isHidden'\nimport { MODES } from 'src/constants'\n\nconst functionalGroupsLib = {\n  'functional-groups': {\n    shortcut: 'Shift+f',\n    // TODO Update HELP about current tools\n    title: 'Functional Groups',\n    action: { dialog: 'templates', prop: { tab: 1 } },\n    selected: (editor) => editor._tool.mode === MODES.FG,\n    disabled: (_, __, options) => {\n      return !options.app.functionalGroups\n    },\n    hidden: (options) => isHidden(options, 'functional-groups')\n  }\n}\n\nexport default functionalGroupsLib\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport isHidden from './isHidden'\n\nconst requestFullscreen = (element: HTMLElement) => {\n  ;(element.requestFullscreen && element.requestFullscreen()) ||\n    (element.msRequestFullscreen && element.msRequestFullscreen()) ||\n    (element.mozRequestFullScreen && element.mozRequestFullScreen()) ||\n    (element.webkitRequestFullscreen && element.webkitRequestFullscreen())\n}\n\nconst exitFullscreen = () => {\n  ;(document.exitFullscreen && document.exitFullscreen()) ||\n    (document.msExitFullscreen && document.msExitFullscreen()) ||\n    (document.mozCancelFullScreen && document.mozCancelFullScreen()) ||\n    (document.webkitExitFullscreen && document.webkitExitFullscreen())\n}\n\nconst getIfFullScreen = () => {\n  return !!(\n    document.fullscreenElement ||\n    document.mozFullScreenElement ||\n    document.webkitFullscreenElement ||\n    document.msFullscreenElement\n  )\n}\n\nconst toggleFullscreen = () => {\n  const fullscreenElement: HTMLElement =\n    document.querySelector('.Ketcher-root') || document.documentElement\n  getIfFullScreen() ? exitFullscreen() : requestFullscreen(fullscreenElement)\n}\n\nexport default {\n  fullscreen: {\n    title: 'Fullscreen mode',\n    action: () => toggleFullscreen(),\n    hidden: (options) => isHidden(options, 'fullscreen')\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport atoms from './atoms'\nimport copyAs from './copyAs'\nimport copyImageToClipboard from './copyImageToClipboard'\nimport debug from './debug'\nimport { exec } from '../component/cliparea/cliparea'\nimport isHidden from './isHidden'\nimport server from './server'\nimport templates from './templates'\nimport tools from './tools'\nimport zoom from './zoom'\nimport help from './help'\nimport functionalGroups from './functionalGroups'\nimport fullscreen from './fullscreen'\nimport { SettingsManager } from '../utils/settingsManager'\nimport { removeStructAction } from '../state/shared'\n\nexport * from './action.types'\n\nconst config = {\n  clear: {\n    shortcut: 'Mod+Delete',\n    title: 'Clear Canvas',\n    action: {\n      thunk: (dispatch, getState) => {\n        const editor = getState().editor\n\n        dispatch(removeStructAction())\n\n        if (!editor.struct().isBlank()) editor.struct(null)\n      }\n    },\n    hidden: (options) => isHidden(options, 'clear')\n  },\n  open: {\n    shortcut: 'Mod+o',\n    title: 'Open…',\n    action: { dialog: 'open' },\n    hidden: (options) => isHidden(options, 'open')\n  },\n  save: {\n    shortcut: 'Mod+s',\n    title: 'Save As…',\n    action: { dialog: 'save' },\n    hidden: (options) => isHidden(options, 'save')\n  },\n  'atom-props': {\n    title: 'Atom Properties',\n    action: { dialog: 'atomProps' },\n    hidden: (options) => isHidden(options, 'atom-props')\n  },\n  'bond-props': {\n    title: 'Bond Properties',\n    action: { dialog: 'bondProps' },\n    hidden: (options) => isHidden(options, 'bond-props')\n  },\n  undo: {\n    shortcut: 'Mod+z',\n    title: 'Undo',\n    action: (editor) => {\n      editor.undo()\n    },\n    disabled: (editor) => editor.historySize().undo === 0,\n    hidden: (options) => isHidden(options, 'undo')\n  },\n  redo: {\n    shortcut: ['Mod+Shift+z', 'Mod+y'],\n    title: 'Redo',\n    action: (editor) => {\n      editor.redo()\n    },\n    disabled: (editor) => editor.historySize().redo === 0,\n    hidden: (options) => isHidden(options, 'redo')\n  },\n  cut: {\n    shortcut: 'Mod+x',\n    title: 'Cut',\n    action: (editor) => {\n      exec('cut') || dontClipMessage('Cut', editor.errorHandler) // eslint-disable-line no-unused-expressions\n    },\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'cut')\n  },\n  copies: {\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'copies')\n  },\n  copy: {\n    shortcut: 'Mod+c',\n    title: 'Copy',\n    action: (editor) => {\n      exec('copy') || dontClipMessage('Copy', editor.errorHandler) // eslint-disable-line no-unused-expressions\n    },\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'copy')\n  },\n  'copy-image': {\n    shortcut: 'Mod+Shift+f',\n    title: 'Copy Image',\n    action: () => {\n      copyImageToClipboard()\n    },\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'copy-image')\n  },\n  'copy-mol': {\n    shortcut: 'Mod+m',\n    title: 'Copy as MOL',\n    action: () => {\n      copyAs('mol')\n    },\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'copy-mol')\n  },\n  'copy-ket': {\n    shortcut: 'Mod+Shift+k',\n    title: 'Copy as KET',\n    action: () => {\n      copyAs('ket')\n    },\n    disabled: (editor) => !hasSelection(editor),\n    hidden: (options) => isHidden(options, 'copy-ket')\n  },\n  paste: {\n    shortcut: 'Mod+v',\n    title: 'Paste',\n    action: (editor) => {\n      exec('paste') || dontClipMessage('Paste', editor.errorHandler) // eslint-disable-line no-unused-expressions\n    },\n    selected: ({ actions }) =>\n      actions && // TMP\n      actions.active &&\n      actions.active.tool === 'paste',\n    hidden: (options) => isHidden(options, 'paste')\n  },\n  settings: {\n    title: 'Settings',\n    action: { dialog: 'settings' },\n    hidden: (options) => isHidden(options, 'settings')\n  },\n  about: {\n    title: 'About',\n    action: { dialog: 'about' },\n    hidden: (options) => isHidden(options, 'about')\n  },\n  'reaction-automap': {\n    title: 'Reaction Auto-Mapping Tool',\n    action: { dialog: 'automap' },\n    hidden: (options) => isHidden(options, 'reaction-automap'),\n    disabled: (editor, server, options) =>\n      !options.app.server || !editor.struct().hasRxnArrow()\n  },\n  'period-table': {\n    title: 'Periodic Table',\n    action: { dialog: 'period-table' },\n    hidden: (options) => isHidden(options, 'period-table')\n  },\n  'extended-table': {\n    title: 'Extended Table',\n    action: { dialog: 'extended-table' },\n    hidden: (options) => isHidden(options, 'extended-table')\n  },\n  'select-all': {\n    title: 'Select All',\n    shortcut: 'Mod+a',\n    action: {\n      thunk: (dispatch, getState) => {\n        const selectionTool = getState().toolbar.visibleTools.select\n        dispatch({ type: 'ACTION', action: tools[selectionTool].action })\n        getState().editor.selection('all')\n      }\n    },\n    hidden: (options) => isHidden(options, 'select-all')\n  },\n  'deselect-all': {\n    title: 'Deselect All',\n    shortcut: 'Mod+Shift+a',\n    action: (editor) => {\n      editor.selection(null)\n    },\n    hidden: (options) => isHidden(options, 'deselect-all')\n  },\n  'select-descriptors': {\n    title: 'Select descriptors',\n    shortcut: 'Mod+d',\n    action: {\n      thunk: (dispatch, getState) => {\n        const selectionTool = getState().toolbar.visibleTools.select\n        const editor = getState().editor\n        editor.alignDescriptors()\n        editor.selection('descriptors')\n        dispatch({ type: 'ACTION', action: tools[selectionTool].action })\n      }\n    },\n    hidden: (options) => isHidden(options, 'select-descriptors')\n  },\n  'any-atom': {\n    title: 'Any atom',\n    action: {\n      tool: 'atom',\n      opts: {\n        label: 'A',\n        pseudo: 'A',\n        type: 'gen'\n      }\n    },\n    hidden: (options) => isHidden(options, 'any-atom')\n  },\n  ...server,\n  ...debug,\n  ...tools,\n  ...atoms,\n  ...zoom,\n  ...templates,\n  ...functionalGroups,\n  ...fullscreen,\n  ...help\n}\n\nfunction hasSelection(editor) {\n  const selection = editor.selection()\n  return (\n    selection && // if not only sgroupData selected\n    Object.keys(selection).filter((key) => !['sgroupData'].includes(key))\n      .length > 0\n  )\n}\n\nfunction dontClipMessage(title, errorHandler) {\n  errorHandler(\n    'This action is unavailable via menu.\\n' + // eslint-disable-line no-undef\n      'Instead, use shortcut to ' +\n      title +\n      '.'\n  )\n}\n\nexport default config\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport AboutIcon from './files/about.svg'\nimport AnalyseIcon from './files/analyse.svg'\nimport AromIcon from './files/arom.svg'\nimport ArrowUpwardIcon from './files/arrow-upward.svg'\nimport BondAnyIcon from './files/bond-any.svg'\nimport BondAromaticIcon from './files/bond-aromatic.svg'\nimport BondCrossedIcon from './files/bond-crossed.svg'\nimport BondDative from './files/bond-dative.svg'\nimport BondDoubleAromaticIcon from './files/bond-doublearomatic.svg'\nimport BondDoubleIcon from './files/bond-double.svg'\nimport BondDownIcon from './files/bond-down.svg'\nimport BondHydrogenIcon from './files/bond-hydrogen.svg'\nimport BondSingleAromaticIcon from './files/bond-singlearomatic.svg'\nimport BondSingleDoubleIcon from './files/bond-singledouble.svg'\nimport BondSingleIcon from './files/bond-single.svg'\nimport BondTripleIcon from './files/bond-triple.svg'\nimport BondUpIcon from './files/bond-up.svg'\nimport BondUpdownIcon from './files/bond-updown.svg'\nimport CapitalTIcon from './files/capital-t.svg'\nimport ChainIcon from './files/chain.svg'\nimport ChargeMinusIcon from './files/charge-minus.svg'\nimport ChargePlusIcon from './files/charge-plus.svg'\nimport CheckIcon from './files/check.svg'\nimport ChiralFlagIcon from './files/chiral-flag.svg'\nimport CipIcon from './files/cip.svg'\nimport CleanIcon from './files/clean.svg'\nimport CopyIcon from './files/copy.svg'\nimport CopyImageIcon from './files/copy-image.svg'\nimport CopyKetIcon from './files/copy-ket.svg'\nimport CopyMolIcon from './files/copy-mol.svg'\nimport CutIcon from './files/cut.svg'\nimport DearomIcon from './files/dearom.svg'\nimport DeleteIcon from './files/delete.svg'\nimport DropdownIcon from './files/dropdown.svg'\nimport EnhancedStereoIcon from './files/enhanced-stereo.svg'\nimport EditIcon from './files/edit.svg'\nimport ElementsGroupIcon from './files/elements-group.svg'\nimport EraseIcon from './files/erase.svg'\nimport ExtendedTableIcon from './files/extended-table.svg'\nimport FileThumbnailIcon from './files/file-thumbnail.svg'\nimport GenericGroupsIcon from './files/generic-groups.svg'\nimport HandIcon from './files/hand.svg'\nimport CompressedHandIcon from './files/compressed-hand.svg'\nimport HelpIcon from './files/help.svg'\nimport HistoryIcon from './files/history.svg'\nimport ImageFrameIcon from './files/image-frame.svg'\nimport LayoutIcon from './files/layout.svg'\nimport LogoIcon from './files/logo.svg'\nimport MiewIcon from './files/miew.svg'\nimport ClearIcon from './files/clear.svg'\nimport NotFoundIcon from './files/not-found.svg'\nimport OpenIcon from './files/open.svg'\nimport PasteIcon from './files/paste.svg'\nimport OpenWindowPasteIcon from './files/open-window-paste-icon.svg'\nimport OpenWindowUploadIcon from './files/open-window-upload-icon.svg'\nimport PeriodTableIcon from './files/period-table.svg'\nimport ReactionArrowBothEndsFilledTriangle from './files/reaction-arrow-both-ends-filled-triangle.svg'\nimport ReactionArrowDashedOpenAngle from './files/reaction-arrow-dashed-open-angle.svg'\nimport ReactionArrowEllipticalArcArrowFilledBow from './files/reaction-arrow-elliptical-arc-arrow-filled-bow.svg'\nimport ReactionArrowEllipticalArcArrowFilledTriangle from './files/reaction-arrow-elliptical-arc-arrow-filled-triangle.svg'\nimport ReactionArrowEllipticalArcArrowOpenAngle from './files/reaction-arrow-elliptical-arc-arrow-open-angle.svg'\nimport ReactionArrowEllipticalArcArrowOpenHalfAngle from './files/reaction-arrow-elliptical-arc-arrow-open-half-angle.svg'\nimport ReactionArrowEquilibriumFilledHalfBow from './files/reaction-arrow-equilibrium-filled-half-bow.svg'\nimport ReactionArrowEquilibriumFilledTriangle from './files/reaction-arrow-equilibrium-filled-triangle.svg'\nimport ReactionArrowEquilibriumOpenAngle from './files/reaction-arrow-equilibrium-open-angle.svg'\nimport ReactionArrowFailed from './files/reaction-arrow-failed.svg'\nimport ReactionArrowFilledBow from './files/reaction-arrow-filled-bow.svg'\nimport ReactionArrowFilledTriangle from './files/reaction-arrow-filled-triangle.svg'\nimport ReactionArrowOpenAngleIcon from './files/reaction-arrow-open-angle.svg'\nimport ReactionArrowUnbalancedEquilibriumFilledHalfBow from './files/reaction-arrow-unbalanced-equilibrium-filled-half-bow.svg'\nimport ReactionArrowUnbalancedEquilibriumFilledHalfTriangle from './files/reaction-arrow-unbalanced-equilibrium-filled-half-triangle.svg'\nimport ReactionArrowUnbalancedEquilibriumLargeFilledHalfBow from './files/reaction-arrow-unbalanced-equilibrium-large-filled-half-bow.svg'\nimport ReactionArrowUnbalancedEquilibriumOpenHalfAngle from './files/reaction-arrow-unbalanced-equilibrium-open-half-angle.svg'\nimport ReactionAutomapIcon from './files/reaction-automap.svg'\nimport ReactionMapIcon from './files/reaction-map.svg'\nimport ReactionPlusIcon from './files/reaction-plus.svg'\nimport ReactionUnmapIcon from './files/reaction-unmap.svg'\nimport RecognizeIcon from './files/recognize.svg'\nimport RedoIcon from './files/redo.svg'\nimport RgroupAttpointsIcon from './files/rgroup-attpoints.svg'\nimport RgroupFragmentIcon from './files/rgroup-fragment.svg'\nimport RgroupLabelIcon from './files/rgroup-label.svg'\nimport SaveIcon from './files/save.svg'\nimport SearchIcon from './files/search.svg'\nimport SelectFragmentIcon from './files/select-fragment.svg'\nimport SelectLassoIcon from './files/select-lasso.svg'\nimport SelectRectangleIcon from './files/select-rectangle.svg'\nimport SettingsIcon from './files/settings.svg'\nimport SgroupIcon from './files/sgroup.svg'\nimport ShapeEllipseIcon from './files/shape-ellipse.svg'\nimport ShapeLineIcon from './files/shape-line.svg'\nimport ShapePolylineIcon from './files/shape-polyline.svg'\nimport ShapeRectangleIcon from './files/shape-rectangle.svg'\nimport Template0Icon from './files/template-0.svg'\nimport Template1Icon from './files/template-1.svg'\nimport Template2Icon from './files/template-2.svg'\nimport Template3Icon from './files/template-3.svg'\nimport Template4Icon from './files/template-4.svg'\nimport Template5Icon from './files/template-5.svg'\nimport Template6Icon from './files/template-6.svg'\nimport Template7Icon from './files/template-7.svg'\nimport TemplateDialogIcon from './files/template-dialog.svg'\nimport TemplateLibIcon from './files/template-lib.svg'\nimport TextBold from './files/text-bold.svg'\nimport TextIcon from './files/text.svg'\nimport TextItalic from './files/text-italic.svg'\nimport TextSubscript from './files/text-subscript.svg'\nimport TextSuperscript from './files/text-superscript.svg'\nimport TransformRotateIcon from './files/transform-rotate.svg'\nimport TransformFlipHIcon from './files/transform-flip-h.svg'\nimport TransformFlipVIcon from './files/transform-flip-v.svg'\nimport UndoIcon from './files/undo.svg'\nimport ZoomInIcon from './files/zoom-in.svg'\nimport ZoomOutIcon from './files/zoom-out.svg'\nimport TextSpecialSymbolsIcon from './files/text-special-symbols.svg'\nimport Save1Icon from './files/save-1.svg'\nimport Open1Icon from './files/open-1.svg'\nimport ResetIcon from './files/reset.svg'\nimport CloseIcon from './files/close.svg'\nimport GeneralIcon from './files/general.svg'\nimport GeneralWhiteIcon from './files/general-white.svg'\nimport StereoIcon from './files/stereo.svg'\nimport StereoWhiteIcon from './files/stereo-white.svg'\nimport AtomsIcon from './files/atoms.svg'\nimport AtomsWhiteIcon from './files/atoms-white.svg'\nimport BondsIcon from './files/bonds.svg'\nimport BondsWhiteIcon from './files/bonds-white.svg'\nimport ServerIcon from './files/server.svg'\nimport ServerWhiteIcon from './files/server-white.svg'\nimport ThreeDViewerIcon from './files/3d.svg'\nimport ThreeDViewerWhiteIcon from './files/3d-white.svg'\nimport DebuggingIcon from './files/debugging.svg'\nimport DebuggingWhiteIcon from './files/debugging-white.svg'\nimport DropdownIndicatorIcon from './files/dropdown-indicator.svg'\nimport ChevronIcon from './files/chevron.svg'\nimport FullscreenEnterIcon from './files/fullscreen-enter.svg'\nimport FullscreenExitIcon from './files/fullscreen-exit.svg'\nimport α from './files/α.svg'\nimport β from './files/β.svg'\nimport γ from './files/γ.svg'\nimport δ from './files/δ.svg'\nimport ε from './files/ε.svg'\nimport ζ from './files/ζ.svg'\nimport η from './files/η.svg'\nimport θ from './files/θ.svg'\nimport ι from './files/ι.svg'\nimport κ from './files/κ.svg'\nimport λ from './files/λ.svg'\nimport μ from './files/μ.svg'\nimport ν from './files/ν.svg'\nimport ξ from './files/ξ.svg'\nimport ο from './files/ο.svg'\nimport π from './files/π.svg'\nimport ρ from './files/ρ.svg'\nimport σ from './files/σ.svg'\nimport τ from './files/τ.svg'\nimport υ from './files/υ.svg'\nimport φ from './files/φ.svg'\nimport χ from './files/χ.svg'\nimport ψ from './files/ψ.svg'\nimport ω from './files/ω.svg'\nimport DegreeCelseusIcon from './files/degree-celseus.svg'\nimport DegreeFahreinheitIcon from './files/degree-fahreinheit.svg'\nimport AngstromIcon from './files/angstrom.svg'\nimport DegreeIcon from './files/degree-symbol.svg'\nimport PlanckDiracConstantIcon from './files/planck-dirac-constant.svg'\nimport PlusMinusIcon from './files/plus-minus.svg'\nimport PromilleIcon from './files/promille.svg'\nimport RootIcon from './files/root-symbol.svg'\nimport LeftArrowIcon from './files/left-arrow.svg'\nimport RightArrowIcon from './files/right-arrow.svg'\nimport LeftArrowCrossedOutIcon from './files/left-arrow-crossed-out.svg'\nimport RightArrowCrossedOutIcon from './files/right-arrow-crossed-out.svg'\nimport LeftAndRightArrowIcon from './files/left-and-right-arrow.svg'\nimport CapitalPiIcon from './files/capital-pi.svg'\nimport SumIcon from './files/sum-symbol.svg'\nimport InfinityIcon from './files/infinity-sign.svg'\nimport PartialDerivativeIcon from './files/partial-derivative.svg'\nimport DeltaIcon from './files/delta-sign.svg'\nimport IntegralIcon from './files/integral.svg'\nimport ApproximatelyEqualIcon from './files/approximately-equal.svg'\nimport NotEqualIcon from './files/not-equal.svg'\nimport LessOrEqualIcon from './files/less-or-equal.svg'\nimport MoreOrEqualIcon from './files/more-or-equal.svg'\nimport AnyAtomIcon from './files/any-atom.svg'\n\nconst icons = {\n  α: α,\n  β: β,\n  γ: γ,\n  δ: δ,\n  ε: ε,\n  ζ: ζ,\n  η: η,\n  θ: θ,\n  ι: ι,\n  κ: κ,\n  λ: λ,\n  μ: μ,\n  ν: ν,\n  ξ: ξ,\n  ο: ο,\n  π: π,\n  ρ: ρ,\n  σ: σ,\n  τ: τ,\n  υ: υ,\n  φ: φ,\n  χ: χ,\n  ψ: ψ,\n  ω: ω,\n  Å: AngstromIcon,\n  '°': DegreeIcon,\n  ħ: PlanckDiracConstantIcon,\n  '±': PlusMinusIcon,\n  '‰': PromilleIcon,\n  '√': RootIcon,\n  '←': LeftArrowIcon,\n  '→': RightArrowIcon,\n  '←/': LeftArrowCrossedOutIcon,\n  '/→': RightArrowCrossedOutIcon,\n  '↔': LeftAndRightArrowIcon,\n  '∏': CapitalPiIcon,\n  '∑': SumIcon,\n  '∞': InfinityIcon,\n  '∂': PartialDerivativeIcon,\n  '∆': DeltaIcon,\n  '∫': IntegralIcon,\n  '≈': ApproximatelyEqualIcon,\n  '=/': NotEqualIcon,\n  '≤': LessOrEqualIcon,\n  '≥': MoreOrEqualIcon,\n  '℉': DegreeFahreinheitIcon,\n  '℃': DegreeCelseusIcon,\n  about: AboutIcon,\n  analyse: AnalyseIcon,\n  'any-atom': AnyAtomIcon,\n  arom: AromIcon,\n  'arrow-upward': ArrowUpwardIcon,\n  'bond-any': BondAnyIcon,\n  'bond-aromatic': BondAromaticIcon,\n  'bond-crossed': BondCrossedIcon,\n  'bond-hydrogen': BondHydrogenIcon,\n  'bond-dative': BondDative,\n  'bond-double': BondDoubleIcon,\n  'bond-doublearomatic': BondDoubleAromaticIcon,\n  'bond-down': BondDownIcon,\n  'bond-single': BondSingleIcon,\n  'bond-singlearomatic': BondSingleAromaticIcon,\n  'bond-singledouble': BondSingleDoubleIcon,\n  'bond-triple': BondTripleIcon,\n  'bond-up': BondUpIcon,\n  'bond-updown': BondUpdownIcon,\n  'capital-t': CapitalTIcon,\n  chain: ChainIcon,\n  'charge-minus': ChargeMinusIcon,\n  'charge-plus': ChargePlusIcon,\n  check: CheckIcon,\n  'chiral-flag': ChiralFlagIcon,\n  cip: CipIcon,\n  clean: CleanIcon,\n  copies: CopyIcon,\n  copy: CopyIcon,\n  'copy-image': CopyImageIcon,\n  'copy-mol': CopyMolIcon,\n  'copy-ket': CopyKetIcon,\n  cut: CutIcon,\n  dearom: DearomIcon,\n  delete: DeleteIcon,\n  dropdown: DropdownIcon,\n  'enhanced-stereo': EnhancedStereoIcon,\n  edit: EditIcon,\n  'elements-group': ElementsGroupIcon,\n  'extended-table': ExtendedTableIcon,\n  erase: EraseIcon,\n  'file-thumbnail': FileThumbnailIcon,\n  'fullscreen-enter': FullscreenEnterIcon,\n  'fullscreen-exit': FullscreenExitIcon,\n  'generic-groups': GenericGroupsIcon,\n  hand: HandIcon,\n  compressedhand: CompressedHandIcon,\n  help: HelpIcon,\n  history: HistoryIcon,\n  'image-frame': ImageFrameIcon,\n  layout: LayoutIcon,\n  logo: LogoIcon,\n  miew: MiewIcon,\n  clear: ClearIcon,\n  open: OpenIcon,\n  paste: PasteIcon,\n  'period-table': PeriodTableIcon,\n  'reaction-arrow-elliptical-arc-arrow-filled-bow':\n    ReactionArrowEllipticalArcArrowFilledBow,\n  'reaction-arrow-elliptical-arc-arrow-filled-triangle':\n    ReactionArrowEllipticalArcArrowFilledTriangle,\n  'reaction-arrow-elliptical-arc-arrow-open-angle':\n    ReactionArrowEllipticalArcArrowOpenAngle,\n  'reaction-arrow-elliptical-arc-arrow-open-half-angle':\n    ReactionArrowEllipticalArcArrowOpenHalfAngle,\n  'reaction-arrow-open-angle': ReactionArrowOpenAngleIcon,\n  'reaction-arrow-filled-triangle': ReactionArrowFilledTriangle,\n  'reaction-arrow-filled-bow': ReactionArrowFilledBow,\n  'reaction-arrow-dashed-open-angle': ReactionArrowDashedOpenAngle,\n  'reaction-arrow-failed': ReactionArrowFailed,\n  'reaction-arrow-both-ends-filled-triangle':\n    ReactionArrowBothEndsFilledTriangle,\n  'reaction-arrow-equilibrium-filled-half-bow':\n    ReactionArrowEquilibriumFilledHalfBow,\n  'reaction-arrow-equilibrium-filled-triangle':\n    ReactionArrowEquilibriumFilledTriangle,\n  'reaction-arrow-equilibrium-open-angle': ReactionArrowEquilibriumOpenAngle,\n  'reaction-arrow-unbalanced-equilibrium-filled-half-bow':\n    ReactionArrowUnbalancedEquilibriumFilledHalfBow,\n  'reaction-arrow-unbalanced-equilibrium-open-half-angle':\n    ReactionArrowUnbalancedEquilibriumOpenHalfAngle,\n  'reaction-arrow-unbalanced-equilibrium-large-filled-half-bow':\n    ReactionArrowUnbalancedEquilibriumLargeFilledHalfBow,\n  'reaction-arrow-unbalanced-equilibrium-filled-half-triangle':\n    ReactionArrowUnbalancedEquilibriumFilledHalfTriangle,\n  'reaction-automap': ReactionAutomapIcon,\n  'reaction-map': ReactionMapIcon,\n  'reaction-plus': ReactionPlusIcon,\n  'reaction-unmap': ReactionUnmapIcon,\n  recognize: RecognizeIcon,\n  redo: RedoIcon,\n  'rgroup-attpoints': RgroupAttpointsIcon,\n  'rgroup-fragment': RgroupFragmentIcon,\n  'rgroup-label': RgroupLabelIcon,\n  save: SaveIcon,\n  search: SearchIcon,\n  'select-fragment': SelectFragmentIcon,\n  'select-lasso': SelectLassoIcon,\n  'select-rectangle': SelectRectangleIcon,\n  settings: SettingsIcon,\n  sgroup: SgroupIcon,\n  'template-0': Template0Icon,\n  'template-1': Template1Icon,\n  'template-2': Template2Icon,\n  'template-3': Template3Icon,\n  'template-4': Template4Icon,\n  'template-5': Template5Icon,\n  'template-6': Template6Icon,\n  'template-7': Template7Icon,\n  'template-dialog': TemplateDialogIcon,\n  'template-lib': TemplateLibIcon,\n  text: TextIcon,\n  'text-bold': TextBold,\n  'text-italic': TextItalic,\n  'text-subscript': TextSubscript,\n  'text-superscript': TextSuperscript,\n  'transform-flip-h': TransformFlipHIcon,\n  'transform-flip-v': TransformFlipVIcon,\n  'transform-rotate': TransformRotateIcon,\n  undo: UndoIcon,\n  'zoom-in': ZoomInIcon,\n  'zoom-out': ZoomOutIcon,\n  'shape-ellipse': ShapeEllipseIcon,\n  'shape-rectangle': ShapeRectangleIcon,\n  'shape-polyline': ShapePolylineIcon,\n  'shape-line': ShapeLineIcon,\n  'not-found': NotFoundIcon,\n  'save-1': Save1Icon,\n  'open-1': Open1Icon,\n  reset: ResetIcon,\n  close: CloseIcon,\n  general: GeneralIcon,\n  'general-white': GeneralWhiteIcon,\n  stereo: StereoIcon,\n  'stereo-white': StereoWhiteIcon,\n  atoms: AtomsIcon,\n  'atoms-white': AtomsWhiteIcon,\n  bonds: BondsIcon,\n  'bonds-white': BondsWhiteIcon,\n  server: ServerIcon,\n  'server-white': ServerWhiteIcon,\n  '3dviewer': ThreeDViewerIcon,\n  '3dviewer-white': ThreeDViewerWhiteIcon,\n  debugging: DebuggingIcon,\n  'debugging-white': DebuggingWhiteIcon,\n  'dropdown-indicator': DropdownIndicatorIcon,\n  'text-special-symbols': TextSpecialSymbolsIcon,\n  chevron: ChevronIcon,\n  'open-window-paste-icon': OpenWindowPasteIcon,\n  'open-window-upload-icon': OpenWindowUploadIcon\n}\n\nfunction emptyIcon() {\n  return null\n}\n\nexport default function findIconByName(name) {\n  if (name && icons.hasOwnProperty(name)) {\n    const component = icons[name]\n    return component\n  } else {\n    return emptyIcon\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport findIconByName from './../../../../icons'\n\nfunction Icon({ name, ...props }) {\n  const Component = findIconByName(name)\n  return <Component {...props} />\n}\nexport default Icon\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\nimport { isMacOs } from 'react-device-detect'\n\nconst shortcutAliasMap = {\n  Escape: 'Esc',\n  Delete: 'Del',\n  Mod: isMacOs ? '⌘' : 'Ctrl'\n}\n\nexport function shortcutStr(shortcut?: string | string[]) {\n  if (!shortcut) {\n    return ''\n  }\n\n  const shortcutKey = Array.isArray(shortcut) ? shortcut[0] : shortcut\n  return shortcutKey.replace(\n    /(\\b[a-z]\\b$|Mod|Escape|Delete)/g,\n    (key) => shortcutAliasMap[key] || key.toUpperCase()\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { UiAction, UiActionAction } from '../../../../action'\n\nimport Icon from '../../../../component/view/icon'\nimport classes from './ActionButton.module.less'\nimport clsx from 'clsx'\nimport { shortcutStr } from '../../shortcutStr'\n\ninterface ActionButtonProps {\n  name: string\n  action?: UiAction\n  status?: {\n    disabled?: boolean\n    hidden?: boolean\n  }\n  selected?: boolean\n  disableableButtons: string[]\n  indigoVerification: boolean\n  className?: string\n}\n\ninterface ActionButtonCallProps {\n  onAction: (action: UiActionAction) => void\n}\n\ntype Props = ActionButtonProps & ActionButtonCallProps\n\nconst ActionButton = (props: Props) => {\n  const {\n    name,\n    action,\n    status = {},\n    selected = false,\n    disableableButtons,\n    indigoVerification,\n    className,\n    onAction\n  } = props\n\n  if (status.hidden) {\n    return null\n  }\n\n  const shortcut = shortcutStr(action?.shortcut)\n  const disabled =\n    status.disabled || (indigoVerification && disableableButtons.includes(name))\n\n  const handleClick = () => {\n    if (action?.action) {\n      onAction(action.action)\n    }\n  }\n\n  return (\n    <button\n      data-testid={name}\n      disabled={disabled}\n      onClick={handleClick}\n      title={shortcut ? `${action?.title} (${shortcut})` : action?.title}\n      className={clsx(\n        classes.button,\n        {\n          [classes.selected]: selected\n        },\n        className\n      )}\n    >\n      <Icon name={name} />\n      <kbd>{shortcut}</kbd>\n    </button>\n  )\n}\n\nexport type { ActionButtonProps, ActionButtonCallProps }\nexport { ActionButton }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { CSSProperties, Component, ReactNode } from 'react'\n\nimport ReactDOM from 'react-dom'\n\nconst CLASSNAME_SEPARATOR = ' '\n\ninterface PortalProps {\n  isOpen: boolean\n  className?: string\n  style?: CSSProperties\n  children: ReactNode\n}\n\ntype Props = PortalProps\n\nclass Portal extends Component<Props> {\n  private readonly element: HTMLDivElement\n  private isElementInDom: boolean\n\n  constructor(props) {\n    super(props)\n    this.element = document.createElement('div')\n    this.isElementInDom = false\n  }\n\n  componentDidMount() {\n    if (!this.isElementInDom && this.props.isOpen) {\n      this.addElementInDOM()\n    }\n\n    const { className, style } = this.props\n    if (className) {\n      this.addClassName(className)\n    }\n    if (style) {\n      this.updateStyle(style)\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.isElementInDom) {\n      this.removeElementFromDOM()\n    }\n  }\n\n  componentDidUpdate(prevProps: Readonly<Props>) {\n    const { isOpen, className, style } = this.props\n    if (className !== prevProps.className) {\n      this.removeClassNames(prevProps.className)\n      this.addClassName(className)\n    }\n\n    if (style !== prevProps.style) {\n      this.updateStyle(style, prevProps.style)\n    }\n\n    if (isOpen === prevProps.isOpen) {\n      return\n    }\n\n    if (isOpen && !this.isElementInDom) {\n      this.addElementInDOM()\n    } else if (this.isElementInDom) {\n      this.removeElementFromDOM()\n    }\n  }\n\n  private addElementInDOM() {\n    document.querySelector('.Ketcher-root')?.appendChild(this.element)\n    this.isElementInDom = true\n  }\n\n  private removeElementFromDOM() {\n    document.querySelector('.Ketcher-root')?.removeChild(this.element)\n    this.isElementInDom = false\n  }\n\n  private removeClassNames(classNames?: string) {\n    if (!classNames) {\n      return\n    }\n\n    classNames.split(CLASSNAME_SEPARATOR).forEach((className) => {\n      this.element.classList.remove(className)\n    })\n  }\n\n  private addClassName(classNames?: string) {\n    if (!classNames) {\n      return\n    }\n\n    classNames.split(CLASSNAME_SEPARATOR).forEach((className) => {\n      this.element.classList.add(className)\n    })\n  }\n\n  private updateStyle(style?: CSSProperties, prevStyle?: CSSProperties) {\n    if (prevStyle) {\n      Object.keys(prevStyle).forEach((property) => {\n        this.element.style[property] = ''\n      }, this)\n    }\n\n    if (!style) {\n      return\n    }\n\n    Object.keys(style).forEach((property) => {\n      this.element.style[property] = style[property]\n    }, this)\n  }\n\n  render() {\n    const { children } = this.props\n    const component = ReactDOM.createPortal(children, this.element)\n    return component as any\n  }\n}\n\nexport { Portal }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { MultiToolCallProps, MultiToolProps } from '../variants.types'\n\nimport { ActionButton, ActionButtonProps } from '../../../ActionButton'\nimport action from '../../../../../../action'\n\ntype DefaultMultiToolProps = MultiToolProps\ntype DefaultMultiToolCallProps = MultiToolCallProps\n\ntype Props = DefaultMultiToolProps & DefaultMultiToolCallProps\n\nconst DefaultMultiTool = (props: Props) => {\n  const { options, status, disableableButtons, indigoVerification, onAction } =\n    props\n\n  return (\n    <>\n      {options.map((toolbarItem) => {\n        const currentStatus = status[toolbarItem.id]\n        return (\n          <ActionButton\n            key={toolbarItem.id}\n            name={toolbarItem.id}\n            action={action[toolbarItem.id]}\n            status={currentStatus as ActionButtonProps['status']}\n            selected={!!currentStatus?.selected}\n            disableableButtons={disableableButtons}\n            indigoVerification={indigoVerification}\n            onAction={onAction}\n          />\n        )\n      })}\n    </>\n  )\n}\n\nexport type { DefaultMultiToolProps, DefaultMultiToolCallProps }\nexport { DefaultMultiTool }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { MultiToolCallProps, MultiToolProps } from '../variants.types'\n\nimport { ActionButton, ActionButtonProps } from '../../../ActionButton'\nimport action from '../../../../../../action'\nimport classes from './GroupedMultiTool.module.less'\n\ntype GroupedMultiToolProps = MultiToolProps\ntype GroupedMultiToolCallProps = MultiToolCallProps\n\ntype Props = GroupedMultiToolProps & GroupedMultiToolCallProps\n\nconst GroupedMultiTool = (props: Props) => {\n  const {\n    groups,\n    options,\n    status,\n    disableableButtons,\n    indigoVerification,\n    onAction\n  } = props\n\n  if (!groups) {\n    return null\n  }\n\n  return (\n    <>\n      {groups.map((descriptor) => (\n        <div className={classes.group} key={descriptor.start}>\n          {options\n            .slice(descriptor.start, descriptor.end)\n            .map((toolbarItem) => {\n              const currentStatus = status[toolbarItem.id]\n              return (\n                <ActionButton\n                  key={toolbarItem.id}\n                  name={toolbarItem.id}\n                  action={action[toolbarItem.id]}\n                  status={currentStatus as ActionButtonProps['status']}\n                  selected={!!currentStatus?.selected}\n                  disableableButtons={disableableButtons}\n                  indigoVerification={indigoVerification}\n                  onAction={onAction}\n                />\n              )\n            })}\n        </div>\n      ))}\n    </>\n  )\n}\n\nexport type { GroupedMultiToolProps, GroupedMultiToolCallProps }\nexport { GroupedMultiTool }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { DefaultMultiTool, classes as defaultClasses } from './DefaultMultiTool'\nimport {\n  MultiToolCallProps,\n  MultiToolProps,\n  MultiToolVariant\n} from './variants.types'\n\nimport { ComponentType } from 'react'\nimport { GroupedMultiTool } from './GroupedMultiTool'\n\nexport function chooseMultiTool(\n  variant: MultiToolVariant = 'default'\n): [ComponentType<MultiToolProps & MultiToolCallProps>, string?] {\n  switch (variant) {\n    case 'default':\n      return [DefaultMultiTool, defaultClasses.default]\n\n    case 'grouped':\n      return [GroupedMultiTool]\n\n    default:\n      throw new Error(`Unsupported variant ${variant}`)\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useEffect, useState } from 'react'\n\nimport { ToolbarItem } from '../../toolbar.types'\n\ntype HookParams = [string, string | null, ToolbarItem[]]\n\nfunction usePortalOpening([id, opened, options]: HookParams): [boolean] {\n  const [isOpen, setIsOpen] = useState<boolean>(false)\n\n  useEffect(() => {\n    const currentId = (options.length && options![0].id) || ''\n    const newState = opened === id || opened === currentId\n    setIsOpen(newState)\n  }, [opened, options])\n\n  return [isOpen]\n}\n\nexport { usePortalOpening }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { CSSProperties, RefObject, useEffect, useState } from 'react'\n\ntype HookParams = [RefObject<HTMLDivElement>, boolean]\n\nfunction usePortalStyle([ref, isOpen]: HookParams): [CSSProperties] {\n  const [portalStyle, setPortalStyle] = useState<CSSProperties>({})\n\n  useEffect(() => {\n    if (!ref.current) {\n      return\n    }\n\n    const editorRect = document\n      .querySelector('.Ketcher-root')\n      ?.getBoundingClientRect() || { top: 0, left: 0 }\n    const menuItemRect = ref.current.getBoundingClientRect()\n\n    const top = menuItemRect.top - editorRect.top\n    const spaceBetween = 4\n    const left =\n      menuItemRect.left - editorRect.left + menuItemRect.width + spaceBetween\n\n    setPortalStyle({ top: `${top}px`, left: `${left}px` })\n  }, [ref, isOpen])\n\n  return [portalStyle]\n}\n\nexport { usePortalStyle }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  ActionButton,\n  ActionButtonCallProps,\n  ActionButtonProps\n} from '../ActionButton'\nimport { GroupDescriptor, MultiToolVariant } from './variants/variants.types'\nimport { ToolbarItem, ToolbarItemVariant } from '../../toolbar.types'\nimport action, { UiAction, UiActionAction } from '../../../../action'\n\nimport { useRef } from 'react'\nimport clsx from 'clsx'\nimport Icon from '../../../../component/view/icon'\nimport { Portal } from '../../../../Portal'\nimport { chooseMultiTool } from './variants/chooseMultiTool'\nimport classes from './ToolbarMultiToolItem.module.less'\nimport { usePortalOpening } from './usePortalOpening'\nimport { usePortalStyle } from './usePortalStyle'\nimport { SettingsManager } from '../../../../utils/settingsManager'\n\ninterface ToolbarMultiToolItemProps {\n  id: ToolbarItemVariant\n  options: ToolbarItem[]\n  groups?: GroupDescriptor[]\n  variant?: MultiToolVariant\n  status: {\n    [key in string]?: UiAction\n  }\n  opened: string | null\n  disableableButtons: string[]\n  indigoVerification: boolean\n  className?: string\n  vertical?: boolean\n}\n\ninterface ToolbarMultiToolItemCallProps {\n  onAction: (action: UiActionAction) => void\n  onOpen: (menuName: string, isSelected: boolean) => void\n}\n\ntype Props = ToolbarMultiToolItemProps & ToolbarMultiToolItemCallProps\n\nconst ToolbarMultiToolItem = (props: Props) => {\n  const {\n    id,\n    options,\n    groups,\n    variant,\n    status,\n    opened,\n    indigoVerification,\n    disableableButtons,\n    className,\n    vertical,\n    onAction,\n    onOpen\n  } = props\n\n  const ref = useRef<HTMLDivElement>(null)\n  const [isOpen] = usePortalOpening([id, opened, options])\n  const [portalStyle] = usePortalStyle([ref, isOpen])\n\n  let selected = false\n  let currentId = id\n\n  const selectedTool = options.find(\n    (toolbarItem) => status[toolbarItem.id]?.selected\n  )\n  if (selectedTool) {\n    currentId = selectedTool.id\n    selected = true\n  }\n\n  const currentStatus = status[currentId]\n  // todo: #type find out real type, possible GetActionState is no acceptable here\n  // and check this type convert is redundant\n  selected = selected || Boolean(currentStatus?.selected)\n\n  const allInnerItemsHidden: boolean = options.every(\n    (option) => status[option.id]?.hidden\n  )\n\n  const displayMultiToolItem = !(allInnerItemsHidden || currentStatus?.hidden)\n\n  if (!currentStatus && options.length) {\n    const savedSelectionTool = SettingsManager.selectionTool\n    const savedSelectionToolId =\n      savedSelectionTool &&\n      `${savedSelectionTool.tool}-${savedSelectionTool.opts}`\n    currentId =\n      savedSelectionTool &&\n      savedSelectionToolId &&\n      options.filter(\n        (option) =>\n          !status[option.id]?.hidden && option.id === savedSelectionToolId\n      )[0]?.id\n\n    if (!currentId) {\n      currentId =\n        options.filter((option) => !status[option.id]?.hidden)[0]?.id ||\n        options[0].id\n    }\n  }\n\n  const actionButtonProps: Omit<\n    ActionButtonProps & ActionButtonCallProps,\n    'name' | 'status' | 'action'\n  > = {\n    disableableButtons,\n    indigoVerification,\n    onAction: selected ? () => onOpenOptions() : onAction\n  }\n\n  const onOpenOptions = () => {\n    // todo: same as #type above\n    onOpen(id, Boolean(currentStatus?.selected))\n  }\n\n  const [Component, portalClassName] = chooseMultiTool(variant)\n\n  return displayMultiToolItem ? (\n    <div ref={ref} className={classes.root}>\n      <ActionButton\n        {...actionButtonProps}\n        className={className}\n        name={currentId}\n        action={action[currentId]}\n        status={currentStatus as ActionButtonProps['status']}\n        selected={selected}\n      />\n      {!isOpen && (\n        <Icon\n          className={`${classes.icon} ${\n            currentStatus?.selected && classes.iconSelected\n          }`}\n          name=\"dropdown\"\n          onClick={onOpenOptions}\n        />\n      )}\n\n      {isOpen ? (\n        <Portal\n          isOpen={isOpen}\n          className={clsx(\n            classes.portal,\n            vertical && classes['portal-vertical'],\n            portalClassName\n          )}\n          style={portalStyle}\n        >\n          <Component\n            options={options}\n            groups={groups}\n            status={status}\n            disableableButtons={disableableButtons}\n            indigoVerification={indigoVerification}\n            onAction={onAction}\n          />\n        </Portal>\n      ) : null}\n    </div>\n  ) : null\n}\n\nexport type { ToolbarMultiToolItemProps, ToolbarMultiToolItemCallProps }\nexport { ToolbarMultiToolItem }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport action, { UiAction, UiActionAction } from '../../../action'\n\nimport { ActionButton, ActionButtonProps } from './ActionButton'\nimport { ToolbarItem } from '../toolbar.types'\nimport { ToolbarMultiToolItem } from './ToolbarMultiToolItem'\n\ninterface ToolbarGroupItemProps extends ToolbarItem {\n  status: {\n    [key in string]?: UiAction\n  }\n  opened: string | null\n  disableableButtons: string[]\n  indigoVerification: boolean\n  className?: string\n  vertical?: boolean\n}\n\ninterface ToolbarGroupItemCallProps {\n  onAction: (action: UiActionAction) => void\n  onOpen: (menuName: string, isSelected: boolean) => void\n}\n\ntype Props = ToolbarGroupItemProps & ToolbarGroupItemCallProps\n\nconst ToolbarGroupItem = (props: Props) => {\n  const {\n    id,\n    options,\n    status,\n    className,\n    opened,\n    indigoVerification,\n    disableableButtons,\n    vertical,\n    onAction,\n    onOpen\n  } = props\n\n  if (!options?.length) {\n    return (\n      <ActionButton\n        className={className}\n        name={id}\n        action={action[id]}\n        status={status[id] as ActionButtonProps['status']}\n        selected={!!status[id]?.selected}\n        indigoVerification={indigoVerification}\n        disableableButtons={disableableButtons}\n        onAction={onAction}\n      />\n    )\n  }\n\n  return (\n    <ToolbarMultiToolItem\n      className={className}\n      id={id}\n      options={options}\n      status={status}\n      opened={opened}\n      disableableButtons={disableableButtons}\n      indigoVerification={indigoVerification}\n      onAction={onAction}\n      onOpen={onOpen}\n      vertical={vertical}\n    />\n  )\n}\n\nexport type { ToolbarGroupItemProps, ToolbarGroupItemCallProps }\nexport { ToolbarGroupItem }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport action, { UiAction, UiActionAction } from '../../../../action'\n\nimport { ActionButton } from '../../ToolbarGroupItem/ActionButton'\nimport templates from '../../../../data/templates'\n\ninterface TemplatesListProps {\n  active?: {\n    tool?: string\n    opts: {\n      struct: any\n    }\n  }\n  disableableButtons: string[]\n  indigoVerification: boolean\n}\n\ninterface TemplatesListCallProps {\n  onAction: (action: UiActionAction) => void\n}\n\ntype Props = TemplatesListProps & TemplatesListCallProps\n\nconst TemplatesList = (props: Props) => {\n  const { active, disableableButtons, indigoVerification, onAction } = props\n\n  const isTemplate = active && active.tool === 'template'\n\n  const makeAction = (struct, index): UiAction => ({\n    shortcut: action[`template-${index}`].shortcut,\n    action: { tool: 'template', opts: { struct } },\n    title: struct.name\n  })\n\n  return (\n    <>\n      {templates.map((struct, index) => (\n        <ActionButton\n          key={`template-${index}`}\n          name={`template-${index}`}\n          action={makeAction(struct, index)}\n          onAction={onAction}\n          selected={isTemplate && active && active.opts.struct === struct}\n          status={action[`template-${index}`]}\n          disableableButtons={disableableButtons}\n          indigoVerification={indigoVerification}\n        />\n      ))}\n    </>\n  )\n}\n\nexport type { TemplatesListProps, TemplatesListCallProps }\nexport { TemplatesList }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC, PropsWithChildren } from 'react'\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../ToolbarGroupItem'\n\nimport { TemplatesList } from './TemplatesList'\nimport classes from './BottomToolbar.module.less'\nimport clsx from 'clsx'\n\nconst Group: FC<{ className?: string } & PropsWithChildren> = ({\n  children,\n  className\n}) => <div className={clsx(classes.group, className)}>{children}</div>\n\ninterface BottomToolbarProps\n  extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  className?: string\n  active?: {\n    opts: any\n    tool: string\n  }\n}\n\ntype BottomToolbarCallProps = ToolbarGroupItemCallProps\n\ntype Props = BottomToolbarProps & BottomToolbarCallProps\n\nconst BottomToolbar = (props: Props) => {\n  const { className, ...rest } = props\n  const { active, disableableButtons, indigoVerification, onAction } = rest\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      <Group>\n        <TemplatesList\n          active={active}\n          indigoVerification={indigoVerification}\n          disableableButtons={disableableButtons}\n          onAction={onAction}\n        />\n      </Group>\n\n      <Group>\n        <ToolbarGroupItem id=\"template-lib\" {...rest} />\n      </Group>\n    </div>\n  )\n}\n\nexport type { BottomToolbarProps, BottomToolbarCallProps }\nexport { BottomToolbar }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { KetSerializer, SdfSerializer } from 'ketcher-core'\n\nimport { appUpdate } from '../options'\nimport { storage } from '../../storage-ext'\nimport templatesRawData from '../../../../templates/library.sdf'\n\nexport function initLib(lib) {\n  return {\n    type: 'TMPL_INIT',\n    data: { lib }\n  }\n}\n\nexport default function initTmplLib(dispatch, baseUrl, cacheEl) {\n  const fileName = 'library.sdf'\n  return deserializeSdfTemplates(baseUrl, cacheEl, fileName).then((res) => {\n    const lib = res.concat(userTmpls())\n    dispatch(initLib(lib))\n    dispatch(appUpdate({ templates: true }))\n  })\n}\n\nconst deserializeSdfTemplates = (baseUrl, cacheEl, fileName) => {\n  const sdfSerializer = new SdfSerializer()\n  const tmpls = sdfSerializer.deserialize(templatesRawData)\n  const prefetch = prefetchRender(tmpls, baseUrl + '/templates/', cacheEl)\n\n  return prefetch.then((cachedFiles) =>\n    tmpls.map((tmpl) => {\n      const pr = prefetchSplit(tmpl)\n      if (pr.file)\n        tmpl.props.prerender =\n          cachedFiles.indexOf(pr.file) !== -1 ? `#${pr.id}` : ''\n\n      return tmpl\n    })\n  )\n}\n\nfunction userTmpls() {\n  const userLib = storage.getItem('ketcher-tmpls')\n  if (!Array.isArray(userLib) || userLib.length === 0) return []\n  const ketSerializer = new KetSerializer()\n  return userLib\n    .map((tmpl) => {\n      try {\n        if (tmpl.props === '') tmpl.props = {}\n        tmpl.props.group = 'User Templates'\n\n        return {\n          struct: ketSerializer.deserialize(tmpl.struct),\n          props: tmpl.props\n        }\n      } catch (ex) {\n        return null\n      }\n    })\n    .filter((tmpl) => tmpl !== null)\n}\n\nexport function prefetchStatic(url) {\n  return fetch(url, { credentials: 'same-origin' }).then((resp) => {\n    if (resp.ok) return resp.text()\n    throw Error('Could not fetch ' + url)\n  })\n}\n\nfunction prefetchSplit(tmpl) {\n  const pr = tmpl.props.prerender\n  const res = pr && pr.split('#', 2)\n\n  return {\n    file: pr && res[0],\n    id: pr && res[1]\n  }\n}\n\nfunction prefetchRender(tmpls, baseUrl, cacheEl) {\n  const files = tmpls.reduce((res, tmpl) => {\n    const file = prefetchSplit(tmpl).file\n\n    if (file && res.indexOf(file) === -1) res.push(file)\n\n    return res\n  }, [])\n  const fetch = Promise.all(\n    files.map((fn) => prefetchStatic(baseUrl + fn).catch(() => null))\n  )\n\n  return fetch.then((svgs) => {\n    svgs.forEach((svgContent) => {\n      if (svgContent) cacheEl.innerHTML += svgContent\n    })\n\n    return files.filter((file, i) => !!svgs[i])\n  })\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { formReducer, formsState } from './form'\n\nexport function openDialog(dispatch, dialogName, props) {\n  return new Promise((resolve, reject) => {\n    dispatch({\n      type: 'MODAL_OPEN',\n      data: {\n        name: dialogName,\n        prop: {\n          ...props,\n          onResult: resolve,\n          onCancel: reject\n        }\n      }\n    })\n  })\n}\n\nfunction modalReducer(state = null, action) {\n  const { type, data } = action\n\n  if (type === 'UPDATE_FORM') {\n    // Don't update if modal has already been closed\n    // TODO: refactor actions and server functions in /src/script/ui/state/server/index.js to\n    // not send 'UPDATE_FORM' action to a closed modal in the first place\n    if (!state) {\n      return null\n    }\n\n    const formState = formReducer(state.form, action)\n    return { ...state, form: formState }\n  }\n\n  switch (type) {\n    case 'MODAL_CLOSE':\n      return null\n    case 'MODAL_OPEN':\n      return {\n        name: data.name,\n        form: formsState[data.name] || null,\n        prop: data.prop || null\n      }\n    default:\n      return state\n  }\n}\n\nexport default modalReducer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport initTmplLib, { initLib } from './init-lib'\n\nimport { KetSerializer } from 'ketcher-core'\nimport { omit } from 'lodash/fp'\nimport { openDialog } from '../modal'\nimport { storage } from '../../storage-ext'\n\nexport { initTmplLib }\n\n/* TEMPLATES */\nexport function selectTmpl(tmpl) {\n  return {\n    type: 'TMPL_SELECT',\n    data: { selected: tmpl }\n  }\n}\n\nexport function changeGroup(group) {\n  return {\n    type: 'TMPL_CHANGE_GROUP',\n    data: { group, selected: null }\n  }\n}\n\nexport function changeFilter(filter) {\n  return {\n    type: 'TMPL_CHANGE_FILTER',\n    data: { filter, selected: null }\n  }\n}\n\nexport function changeTab(tab) {\n  return {\n    type: 'TMPL_CHANGE_TAB',\n    data: { tab }\n  }\n}\n\n/* TEMPLATE-ATTACH-EDIT */\nexport function initAttach(name, attach) {\n  return {\n    type: 'INIT_ATTACH',\n    data: {\n      name,\n      atomid: attach.atomid,\n      bondid: attach.bondid\n    }\n  }\n}\n\nexport function setAttachPoints(attach) {\n  return {\n    type: 'SET_ATTACH_POINTS',\n    data: {\n      atomid: attach.atomid,\n      bondid: attach.bondid\n    }\n  }\n}\n\nexport function setTmplName(name) {\n  return {\n    type: 'SET_TMPL_NAME',\n    data: { name }\n  }\n}\n\nexport function editTmpl(tmpl) {\n  return (dispatch, getState) => {\n    openDialog(dispatch, 'attach', { tmpl })\n      .then(\n        (formData) => {\n          tmpl.struct.name = formData ? formData.name.trim() : tmpl.struct.name\n          tmpl.props = formData\n            ? Object.assign({}, tmpl.props, formData.attach)\n            : tmpl.props\n\n          if (tmpl.props.group === 'User Templates')\n            updateLocalStore(getState().templates.lib)\n        },\n        () => null\n      )\n      .then(() => openDialog(dispatch, 'templates').catch(() => null))\n  }\n}\n\nexport function deleteUserTmpl(tmpl) {\n  return {\n    type: 'TMPL_DELETE',\n    data: {\n      tmpl: tmpl\n    }\n  }\n}\n\nexport function deleteTmpl(tmpl) {\n  return (dispatch, getState) => {\n    const lib = getState().templates.lib.filter((value) => value !== tmpl)\n    dispatch(deleteUserTmpl(tmpl))\n    updateLocalStore(lib)\n  }\n}\n\n/* SAVE */\nexport function saveUserTmpl(struct) {\n  // TODO: structStr can be not in mol format => structformat.toString ...\n  const tmpl = { struct: struct.clone(), props: {} }\n\n  return (dispatch, getState) => {\n    openDialog(dispatch, 'attach', { tmpl })\n      .then(({ name, attach }) => {\n        tmpl.struct.name = name.trim()\n        tmpl.props = { ...attach, group: 'User Templates' }\n\n        const lib = getState().templates.lib.concat(tmpl)\n        dispatch(initLib(lib))\n        updateLocalStore(lib)\n      })\n      .catch(() => null)\n  }\n}\n\nfunction updateLocalStore(lib) {\n  const ketSerializer = new KetSerializer()\n  const userLib = lib\n    .filter((item) => item.props.group === 'User Templates')\n    .map((item) => ({\n      struct: ketSerializer.serialize(item.struct),\n      props: Object.assign({}, omit(['group'], item.props))\n    }))\n\n  storage.setItem('ketcher-tmpls', userLib)\n}\n\n/* REDUCER */\nexport const initTmplsState = {\n  lib: [],\n  selected: null,\n  filter: '',\n  group: null,\n  attach: {},\n  mode: 'classic',\n  tab: 0\n}\n\nconst tmplActions = [\n  'TMPL_INIT',\n  'TMPL_SELECT',\n  'TMPL_CHANGE_GROUP',\n  'TMPL_CHANGE_FILTER',\n  'TMPL_CHANGE_TAB'\n]\n\nconst attachActions = ['INIT_ATTACH', 'SET_ATTACH_POINTS', 'SET_TMPL_NAME']\n\nfunction templatesReducer(state = initTmplsState, action) {\n  if (tmplActions.includes(action.type))\n    return Object.assign({}, state, action.data)\n\n  if (attachActions.includes(action.type)) {\n    const attach = Object.assign({}, state.attach, action.data)\n    return { ...state, attach }\n  }\n\n  if (action.type === 'TMPL_DELETE') {\n    const currentState = Object.assign({}, state)\n    const lib = currentState.lib.filter((value) => value !== action.data.tmpl)\n    return { ...currentState, lib: lib }\n  }\n\n  return state\n}\n\nexport default templatesReducer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { isEmpty, isEqual, pickBy } from 'lodash/fp'\n\nimport { SettingsManager } from '../../utils/settingsManager'\nimport actions from '../../action'\n\nfunction execute(activeTool, { action, editor, server, options }) {\n  if (action.tool) {\n    if (editor.tool(action.tool, action.opts)) {\n      return action\n    }\n  } else if (typeof action === 'function') {\n    action(editor, server, options)\n  } else {\n    console.info('no action')\n  }\n  return activeTool\n}\n\nfunction selected(actObj, activeTool, { editor, server }) {\n  if (typeof actObj.selected === 'function')\n    return actObj.selected(editor, server)\n  else if (actObj.action && actObj.action.tool)\n    return isEqual(activeTool, actObj.action)\n  return false\n}\n\nfunction disabled(actObj, { editor, server, options }) {\n  if (typeof actObj.disabled === 'function')\n    return actObj.disabled(editor, server, options)\n  return false\n}\n\nfunction hidden(actObj, { options }) {\n  if (typeof actObj.hidden === 'function') return actObj.hidden(options)\n  return false\n}\n\nfunction status(actionName, activeTool, params) {\n  const actObj = actions[actionName]\n  return pickBy((x) => x, {\n    selected: selected(actObj, activeTool, params),\n    disabled: disabled(actObj, params),\n    hidden: hidden(actObj, params)\n  })\n}\n\nexport default function (state = null, { type, action, ...params }) {\n  let activeTool\n  switch (type) {\n    case 'INIT': {\n      const savedSelectedTool = SettingsManager.selectionTool\n      action = savedSelectedTool || actions['select-rectangle'].action\n    }\n    case 'ACTION':\n      activeTool = execute(state && state.activeTool, {\n        ...params,\n        action\n      })\n      if (activeTool.tool === 'select') {\n        SettingsManager.selectionTool = activeTool\n      }\n    case 'UPDATE':\n      return Object.keys(actions).reduce(\n        (res, actionName) => {\n          const value = status(actionName, res.activeTool, params)\n          if (!isEmpty(value)) res[actionName] = value\n          return res\n        },\n        { activeTool: activeTool || state.activeTool }\n      )\n    default:\n      return state\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport function fileOpener(server) {\n  return new Promise((resolve, reject) => {\n    // TODO: refactor return\n    if (global.FileReader) {\n      resolve(throughFileReader)\n    } else if (global.ActiveXObject) {\n      try {\n        const fso = new ActiveXObject('Scripting.FileSystemObject') // eslint-disable-line no-undef\n        resolve((file) => Promise.resolve(throughFileSystemObject(fso, file)))\n      } catch (e) {\n        reject(e)\n      }\n    } else if (server) {\n      resolve(\n        server.then(() => {\n          throw Error(\"Server doesn't still support echo method\")\n          // return resolve(throughForm2IframePosting);\n        })\n      )\n    } else {\n      reject(new Error('Your browser does not support opening files locally'))\n    }\n  })\n}\n\nfunction throughFileReader(file) {\n  const isCDX = file.name.endsWith('cdx') && !file.name.endsWith('b64cdx')\n  return new Promise((resolve, reject) => {\n    const rd = new FileReader() // eslint-disable-line no-undef\n\n    rd.onload = () => {\n      const content = isCDX ? rd.result.slice(37) : rd.result\n      if (file.msClose) file.msClose()\n      resolve(content)\n    }\n\n    rd.onerror = (event) => {\n      reject(event)\n    }\n    isCDX ? rd.readAsDataURL(file) : rd.readAsText(file, 'UTF-8')\n  })\n}\n\nfunction throughFileSystemObject(fso, file) {\n  // IE9 and below\n  const fd = fso.OpenTextFile(file.name, 1)\n  const content = fd.ReadAll()\n  fd.Close()\n  return content\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\nimport _ from 'lodash'\nimport { escapeRegExp, filter as _filter, flow, reduce } from 'lodash/fp'\nimport { Option } from '../component/form/Select'\n\nconst GREEK_SIMBOLS = {\n  Alpha: 'A',\n  alpha: 'α',\n  Beta: 'B',\n  beta: 'β',\n  Gamma: 'Г',\n  gamma: 'γ'\n}\n\nconst greekRe = new RegExp(\n  '\\\\b' + Object.keys(GREEK_SIMBOLS).join('\\\\b|\\\\b') + '\\\\b',\n  'g'\n)\n\nexport function greekify(str: string): string {\n  return str.replace(greekRe, (sym) => GREEK_SIMBOLS[sym])\n}\n\nexport function filterLib(lib, filter: string) {\n  const trimmedFilter = filter.trim()\n  const re = new RegExp(escapeRegExp(greekify(trimmedFilter)), 'i')\n  return flow(\n    _filter(\n      (item: any) =>\n        !trimmedFilter ||\n        re.test(greekify(item.struct.name)) ||\n        re.test(greekify(item.props.group))\n    ),\n    reduce((res, item) => {\n      if (!res[item.props.group]) res[item.props.group] = [item]\n      else res[item.props.group].push(item)\n      return res\n    }, {})\n  )(lib)\n}\n\nexport function filterFGLib(lib, filter) {\n  const trimmedFilter = filter.trim()\n  const re = new RegExp(escapeRegExp(greekify(trimmedFilter)), 'i')\n  const searchFunction = (item) => {\n    const fields = [\n      item.struct.name,\n      item.props.abbreviation,\n      item.props.name\n    ].filter(Boolean)\n    return fields.some((field) => re.test(greekify(field)))\n  }\n  return flow(\n    _filter((item: any) => !trimmedFilter || searchFunction(item)),\n    reduce((res, item) => {\n      if (!res[item.props.group]) res[item.props.group] = [item]\n      else res[item.props.group].push(item)\n      return res\n    }, {})\n  )(lib)\n}\n\nexport const getSelectOptionsFromSchema = (schema): Array<Option> => {\n  return schema.enum.reduce((options, value, index) => {\n    options.push({\n      value,\n      label: schema?.enumNames?.[index] ?? value\n    })\n\n    return options\n  }, [])\n}\n\n/**\n * Creates a function, which is not called if the current argument is the same as the last one\n * @param func function to be debounced\n * @param delay delay in ms\n * @param skipArguments indexes in arguments array to skip for comparison\n * @returns debounced function, which is not called with previous argument\n */\nexport function memoizedDebounce(\n  func,\n  delay = 0,\n  skipArguments: number[] = []\n) {\n  let lastArgs\n  const debouncedFunction = _.debounce(func, delay)\n  const getArgumentsToCompare = (args) =>\n    args?.filter((_, index: number) => !skipArguments.includes(index)) || []\n  return function (...args) {\n    const lastArgsToCompare = getArgumentsToCompare(lastArgs)\n    const argsToCompare = getArgumentsToCompare(args)\n    if (lastArgs && _.isEqual(argsToCompare, lastArgsToCompare)) {\n      return\n    }\n    lastArgs = args\n    debouncedFunction(...args)\n  }\n}\n\nexport { fileOpener } from './fileOpener'\n","import Editor from '../Editor'\nimport { Bond, SGroup, Struct } from 'ketcher-core'\n\nlet showTooltipTimer: ReturnType<typeof setTimeout> | null = null\n\nexport const TOOLTIP_DELAY = 300\n\ntype InfoPanelData = {\n  groupStruct: Struct\n  sGroup: SGroup\n  event: PointerEvent\n}\n\nfunction makeStruct(editor: Editor, sGroup: SGroup) {\n  const existingStruct = editor.struct()\n  const struct = new Struct()\n  const atomsIdMapping = new Map()\n\n  sGroup.atoms.forEach((atomId) => {\n    const atomIdInTooltip = struct.atoms.add(existingStruct.atoms.get(atomId)!)\n    atomsIdMapping.set(atomId, atomIdInTooltip)\n  })\n  Array.from(existingStruct.bonds).forEach((value) => {\n    const [_, bond] = value as [number, Bond]\n    const clonedBond = bond.clone(atomsIdMapping)\n    const isInsideSGroup =\n      sGroup.atoms.includes(bond.begin) || sGroup.atoms.includes(bond.end)\n    if (isInsideSGroup) {\n      struct.bonds.add(clonedBond)\n    }\n  })\n\n  return struct\n}\n\nfunction hideTooltip(editor: Editor) {\n  editor.event.showInfo.dispatch(null)\n\n  if (showTooltipTimer) {\n    clearTimeout(showTooltipTimer)\n  }\n}\n\nfunction showTooltip(editor: Editor, infoPanelData: InfoPanelData | null) {\n  hideTooltip(editor)\n\n  showTooltipTimer = setTimeout(() => {\n    editor.event.showInfo.dispatch(infoPanelData)\n  }, TOOLTIP_DELAY)\n}\n\nexport function setFunctionalGroupsTooltip({\n  editor,\n  event,\n  isShow\n}: {\n  editor: Editor\n  event?: PointerEvent\n  isShow: boolean\n}) {\n  if (!isShow) {\n    hideTooltip(editor)\n\n    return\n  }\n\n  let infoPanelData: null | InfoPanelData = null\n  const checkFunctionGroupTypes = ['sgroups', 'functionalGroups']\n  const closestCollapsibleStructures = editor.findItem(\n    event,\n    checkFunctionGroupTypes\n  )\n  if (closestCollapsibleStructures && event) {\n    const sGroup = editor.struct()?.sgroups.get(closestCollapsibleStructures.id)\n    if (sGroup && !sGroup.data.expanded && sGroup.hovering) {\n      const groupName = sGroup.data.name\n      const groupStruct = makeStruct(editor, sGroup)\n      groupStruct.name = groupName\n      infoPanelData = {\n        groupStruct,\n        event,\n        sGroup\n      }\n    }\n  }\n  showTooltip(editor, infoPanelData)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AnyAction } from 'redux'\nimport { appUpdate } from '../options'\nimport {\n  FunctionalGroupsProvider,\n  SdfItem,\n  SdfSerializer,\n  Struct\n} from 'ketcher-core'\nimport templatesRawData from '../../../../templates/fg.sdf'\nimport { memoizedDebounce } from '../../utils'\nimport { TOOLTIP_DELAY } from '../../../editor/utils/functionalGroupsTooltip'\nimport { MODES } from 'src/constants'\n\ninterface FGState {\n  lib: []\n  functionalGroupInfo: any\n  mode: string\n}\n\nconst initialState: FGState = {\n  lib: [],\n  functionalGroupInfo: null,\n  mode: MODES.FG\n}\n\nconst functionalGroupsReducer = (\n  state = initialState,\n  { type, payload }: AnyAction\n) => {\n  switch (type) {\n    case 'FG_INIT':\n      return { ...state, ...payload }\n\n    case 'FG_HIGHLIGHT':\n      return { ...state, functionalGroupInfo: payload }\n\n    default:\n      return state\n  }\n}\n\nconst initFGroups = (lib: SdfItem[]) => ({ type: 'FG_INIT', payload: { lib } })\nconst highlightFGroup = (group: any) => ({\n  type: 'FG_HIGHLIGHT',\n  payload: group\n})\n\nfunction notDebouncedHighlightFG(dispatch, group: any) {\n  dispatch(highlightFGroup(group))\n}\n\nexport const highlightFG = memoizedDebounce(\n  notDebouncedHighlightFG,\n  TOOLTIP_DELAY / 3,\n  [0]\n)\n\nexport function initFGTemplates() {\n  return async (dispatch) => {\n    const provider = FunctionalGroupsProvider.getInstance()\n    const sdfSerializer = new SdfSerializer()\n    const templates = sdfSerializer.deserialize(templatesRawData)\n    const functionalGroups = templates.reduce(\n      (acc: Struct[], { struct }) => [...acc, struct],\n      []\n    )\n    provider.setFunctionalGroupsList(functionalGroups)\n    dispatch(initFGroups(templates))\n    dispatch(appUpdate({ functionalGroups: true }))\n  }\n}\n\nexport default functionalGroupsReducer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AnyAction } from 'redux'\nimport { appUpdate } from '../options'\nimport {\n  SaltsAndSolventsProvider,\n  FunctionalGroupsProvider,\n  SdfItem,\n  SdfSerializer,\n  Struct\n} from 'ketcher-core'\nimport templatesRawData from '../../../../templates/salts-and-solvents.sdf'\nimport { MODES } from 'src/constants'\n\ninterface SaltsAndSolventsState {\n  lib: []\n  mode: string\n}\n\nconst initialState: SaltsAndSolventsState = {\n  lib: [],\n  mode: MODES.FG\n}\n\nconst saltsAndSolventsReducer = (\n  state = initialState,\n  { type, payload }: AnyAction\n) => {\n  switch (type) {\n    case 'SALTS_AND_SOLVENTS_INIT':\n      return { ...state, ...payload }\n\n    default:\n      return state\n  }\n}\n\nconst initSaltsAndSolvents = (lib: SdfItem[]) => ({\n  type: 'SALTS_AND_SOLVENTS_INIT',\n  payload: { lib }\n})\n\nexport function initSaltsAndSolventsTemplates() {\n  return async (dispatch) => {\n    const saltsAndSolventsProvider = SaltsAndSolventsProvider.getInstance()\n    const functionalGroupsProvider = FunctionalGroupsProvider.getInstance()\n    const sdfSerializer = new SdfSerializer()\n    const templates = sdfSerializer.deserialize(templatesRawData)\n    const saltsAndSolvents = templates.reduce(\n      (acc: Struct[], { struct, props }) => {\n        struct.abbreviation = String(props.abbreviation)\n        acc.push(struct)\n        return acc\n      },\n      []\n    )\n    saltsAndSolventsProvider.setSaltsAndSolventsList(saltsAndSolvents)\n    functionalGroupsProvider.addToFunctionalGroupsList(saltsAndSolvents)\n    dispatch(initSaltsAndSolvents(templates))\n    dispatch(appUpdate({ saltsAndSolvents: true }))\n  }\n}\n\nexport default saltsAndSolventsReducer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { capitalize, isEqual, throttle } from 'lodash/fp'\n\nimport { basicAtoms } from '../../action/atoms'\nimport tools from '../../action/tools'\n\nconst initial = {\n  freqAtoms: [],\n  currentAtom: 0,\n  opened: null,\n  visibleTools: {\n    select: 'select-rectangle'\n  }\n}\nconst MAX_ATOMS = 7\n\nfunction updateVisibleTools(visibleTool, activeTool) {\n  const regExp = /(bond)(-)(common|stereo|query)/\n  const menuHeight = window.innerHeight\n\n  return Object.keys(visibleTool).reduce(\n    (res, key) => {\n      if (key === 'bond' && menuHeight > 700) return res // TODO remove me after update styles\n      if (key === 'transform' && menuHeight > 800) return res\n      if (key === 'rgroup' && menuHeight > 850) return res\n      if (key === 'shape' && menuHeight > 900) return res\n      if (!key.match(regExp) || menuHeight > 700) res[key] = visibleTool[key]\n      return res\n    },\n    { ...activeTool }\n  )\n}\n\nexport function initResize() {\n  return function (dispatch, getState) {\n    const onResize = throttle(250, () => {\n      const state = getState()\n      state.editor.render.update()\n      dispatch({ type: 'CLEAR_VISIBLE', data: state.actionState.activeTool })\n    })\n    addEventListener('resize', onResize) // eslint-disable-line\n  }\n}\n\n/* REDUCER */\nexport default function (state = initial, action) {\n  const { type, data } = action\n\n  switch (type) {\n    case 'ACTION': {\n      const visibleTool = toolInMenu(action.action)\n      return visibleTool\n        ? {\n            ...state,\n            opened: null,\n            visibleTools: { ...state.visibleTools, ...visibleTool }\n          }\n        : { ...state, opened: null }\n    }\n    case 'ADD_ATOMS': {\n      const newState = addFreqAtom(data, state.freqAtoms, state.currentAtom)\n      return { ...state, ...newState }\n    }\n    case 'CLEAR_VISIBLE': {\n      const activeTool = toolInMenu(action.data)\n      const correctTools = updateVisibleTools(state.visibleTools, activeTool)\n      return { ...state, opened: null, visibleTools: { ...correctTools } }\n    }\n    case 'OPENED': {\n      return data.isSelected && state.opened\n        ? { ...state, opened: null }\n        : { ...state, opened: data.menuName }\n    }\n    case 'UPDATE':\n      return { ...state, opened: null }\n    case 'MODAL_OPEN':\n      return { ...state, opened: null }\n    default:\n      return state\n  }\n}\n/* ------- */\n\nfunction addFreqAtom(label, freqAtoms, index) {\n  label = capitalize(label)\n  if (basicAtoms.indexOf(label) > -1 || freqAtoms.indexOf(label) !== -1)\n    return { freqAtoms }\n\n  freqAtoms[index] = label\n  index = (index + 1) % MAX_ATOMS\n\n  return { freqAtoms, currentAtom: index }\n}\n\nexport function addAtoms(atomLabel) {\n  return {\n    type: 'ADD_ATOMS',\n    data: atomLabel\n  }\n}\n\nfunction toolInMenu(action) {\n  const tool = Object.keys(tools).find((toolName) =>\n    isEqual(action, tools[toolName].action)\n  )\n\n  const sel = document.getElementById(tool)\n  const dropdown = sel && hiddenAncestor(sel)\n\n  return dropdown && dropdown.id !== '' ? { [dropdown.id]: sel.id } : null\n}\n\nexport function hiddenAncestor(el, base) {\n  base = base || document.body\n  let findEl = el\n\n  while (\n    findEl &&\n    window.getComputedStyle(findEl).overflow !== 'hidden' &&\n    !findEl.classList.contains('opened')\n  ) {\n    if (findEl === base) return null\n    findEl = findEl.parentNode\n  }\n\n  return findEl\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { load, onAction } from './shared'\nimport optionsReducer, { initOptionsState } from './options'\nimport templatesReducer, { initTmplsState } from './templates'\n\nimport actionStateReducer from './action'\nimport functionalGroupsReducer from './functionalGroups'\nimport saltsAndSolventsReducer from './saltsAndSolvents'\nimport { logger } from 'redux-logger'\nimport modalReducer from './modal'\nimport { pick } from 'lodash/fp'\nimport requestReducer from './request'\nimport thunk from 'redux-thunk'\nimport toolbarReducer from './toolbar'\n\nexport { onAction, load }\n\nconst shared = combineReducers({\n  actionState: actionStateReducer,\n  toolbar: toolbarReducer,\n  modal: modalReducer,\n  server: (store = null) => store,\n  editor: (store = null) => store,\n  options: optionsReducer,\n  templates: templatesReducer,\n  functionalGroups: functionalGroupsReducer,\n  saltsAndSolvents: saltsAndSolventsReducer,\n  requestsStatuses: requestReducer\n})\n\nfunction getRootReducer(setEditor) {\n  return function root(state, action) {\n    switch (action.type) {\n      case 'INIT':\n        setEditor(action.editor)\n\n      case 'UPDATE':\n        const { type, ...data } = action\n        if (data) state = { ...state, ...data }\n    }\n\n    const sh = shared(state, {\n      ...action,\n      ...pick(['editor', 'server', 'options'], state)\n    })\n\n    const finalState =\n      sh === state.shared\n        ? state\n        : {\n            ...state,\n            ...sh\n          }\n\n    // TODO: temporary solution. Need to review work with redux store\n    global.currentState = finalState\n    return finalState\n  }\n}\n\nexport default function (options, server, setEditor) {\n  const { buttons = {}, ...restOptions } = options\n\n  // TODO: redux localStorage here\n  const initState = {\n    actionState: null,\n    editor: null,\n    modal: null,\n    options: Object.assign(initOptionsState, { app: restOptions, buttons }),\n    server: server || Promise.reject(new Error('Standalone mode!')),\n    templates: initTmplsState\n  }\n\n  const middleware = [thunk]\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    process.env.KETCHER_ENABLE_REDUX_LOGGER === 'true'\n  ) {\n    middleware.push(logger)\n  }\n\n  const rootReducer = getRootReducer(setEditor)\n  return createStore(rootReducer, initState, applyMiddleware(...middleware))\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  BottomToolbar,\n  BottomToolbarCallProps,\n  BottomToolbarProps\n} from './BottomToolbar'\n\nimport { ComponentType } from 'react'\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../state'\n\ntype StateProps = Omit<BottomToolbarProps, 'className'>\ntype OwnProps = Pick<BottomToolbarProps, 'className'>\n\nconst mapStateToProps = (state): StateProps => ({\n  active: state.actionState && state.actionState.activeTool,\n  status: state.actionState || {},\n  opened: state.toolbar.opened,\n  indigoVerification: state.requestsStatuses.indigoVerification,\n  disableableButtons: []\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch): BottomToolbarCallProps => ({\n  onAction: (action) => dispatch(onAction(action)),\n  onOpen: (menuName, isSelected) =>\n    dispatch({\n      type: 'OPENED',\n      data: { menuName, isSelected }\n    })\n})\n\nconst BottomToolbarContainer: ComponentType<OwnProps> = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BottomToolbar)\n\nexport { BottomToolbarContainer }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ToolbarItem, ToolbarItemVariant } from '../../toolbar.types'\n\nfunction makeItems(ids: ToolbarItemVariant[]): ToolbarItem[] {\n  return ids.map((id) => ({ id }))\n}\n\nexport { makeItems }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { GroupDescriptor } from '../../ToolbarGroupItem/ToolbarMultiToolItem/variants/variants.types'\nimport { ToolbarItem } from '../../toolbar.types'\nimport { makeItems } from '../../ToolbarGroupItem/utils'\n\nconst bondCommon: ToolbarItem[] = makeItems([\n  'bond-single',\n  'bond-double',\n  'bond-triple'\n])\nconst bondStereo: ToolbarItem[] = makeItems([\n  'bond-up',\n  'bond-down',\n  'bond-updown',\n  'bond-crossed'\n])\nconst bondQuery: ToolbarItem[] = makeItems([\n  'bond-any',\n  'bond-aromatic',\n  'bond-singledouble',\n  'bond-singlearomatic',\n  'bond-doublearomatic'\n])\nconst bondSpecial: ToolbarItem[] = makeItems(['bond-dative', 'bond-hydrogen'])\n\nconst groups = [bondCommon, bondStereo, bondQuery, bondSpecial]\nconst groupOptions = groups.flat()\nconst groupDescriptors = groups.reduce((accum, group, index) => {\n  const start = accum[index - 1]?.end || 0\n\n  accum.push({\n    start: start,\n    end: start + group.length\n  })\n\n  return accum\n}, [] as GroupDescriptor[])\n\nexport {\n  bondCommon,\n  bondStereo,\n  bondQuery,\n  bondSpecial,\n  groupOptions,\n  groupDescriptors\n}\n","import { bondCommon, bondQuery, bondSpecial, bondStereo } from './Bond/options'\nimport { makeItems } from '../ToolbarGroupItem/utils'\nimport { ToolbarItem } from '../toolbar.types'\n\nconst rGroupOptions: ToolbarItem[] = makeItems([\n  'rgroup-label',\n  'rgroup-fragment',\n  'rgroup-attpoints'\n])\n\nconst shapeOptions: ToolbarItem[] = makeItems([\n  'shape-ellipse',\n  'shape-rectangle',\n  'shape-line'\n])\n\nconst transformOptions: ToolbarItem[] = makeItems([\n  'transform-rotate',\n  'transform-flip-h',\n  'transform-flip-v'\n])\n\nconst selectOptions: ToolbarItem[] = makeItems([\n  'select-rectangle',\n  'select-lasso',\n  'select-fragment'\n])\n\nconst arrowsOptions: ToolbarItem[] = makeItems([\n  'reaction-arrow-open-angle',\n  'reaction-arrow-filled-triangle',\n  'reaction-arrow-filled-bow',\n  'reaction-arrow-dashed-open-angle',\n  'reaction-arrow-failed',\n  'reaction-arrow-both-ends-filled-triangle',\n  'reaction-arrow-equilibrium-filled-half-bow',\n  'reaction-arrow-equilibrium-filled-triangle',\n  'reaction-arrow-equilibrium-open-angle',\n  'reaction-arrow-unbalanced-equilibrium-filled-half-bow',\n  'reaction-arrow-unbalanced-equilibrium-open-half-angle',\n  'reaction-arrow-unbalanced-equilibrium-large-filled-half-bow',\n  'reaction-arrow-unbalanced-equilibrium-filled-half-triangle',\n  'reaction-arrow-elliptical-arc-arrow-filled-bow',\n  'reaction-arrow-elliptical-arc-arrow-filled-triangle',\n  'reaction-arrow-elliptical-arc-arrow-open-angle',\n  'reaction-arrow-elliptical-arc-arrow-open-half-angle'\n])\n\nconst mappingOptions: ToolbarItem[] = makeItems([\n  'reaction-map',\n  'reaction-unmap',\n  'reaction-automap'\n])\n\nexport {\n  rGroupOptions,\n  bondCommon,\n  bondQuery,\n  bondSpecial,\n  bondStereo,\n  shapeOptions,\n  transformOptions,\n  selectOptions,\n  arrowsOptions,\n  mappingOptions\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React from 'react'\nimport SettingsContext from './../contexts/settingsContext'\n\nexport function useSettingsContext() {\n  return React.useContext(SettingsContext)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { RefCallback, RefObject, useMemo, useState } from 'react'\n\nimport { throttle } from 'lodash'\nimport useResizeObserver from 'use-resize-observer/polyfilled'\n\nconst throttleMilliseconds = 100\n\ntype Size = {\n  width: number | undefined\n  height: number | undefined\n}\n\ntype Options<THTMLElement extends HTMLElement> = {\n  ref?: RefObject<THTMLElement> | THTMLElement | null | undefined\n}\n\ntype HookResponse<THTMLElement extends HTMLElement> = {\n  ref: RefCallback<THTMLElement>\n  width: number | undefined\n  height: number | undefined\n}\n\nfunction useThrottleResizeObserver<THTMLElement extends HTMLElement>(\n  options: Options<THTMLElement> = {}\n): HookResponse<THTMLElement> {\n  const [size, setSize] = useState<Size>({\n    height: undefined,\n    width: undefined\n  })\n\n  const onResize = useMemo(() => throttle(setSize, throttleMilliseconds), [])\n\n  const { ref } = useResizeObserver<THTMLElement>({ onResize, ...options })\n  return { ref, ...size }\n}\n\nexport { useThrottleResizeObserver as useResizeObserver }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport FormContext from './../contexts/formContext'\nimport React from 'react'\n\nexport function useFormContext() {\n  return React.useContext(FormContext)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport AppContext from '../contexts/appContext'\nimport React from 'react'\n\nexport const useAppContext = () => React.useContext(AppContext)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useEffect, useRef } from 'react'\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n  const savedCallback = useRef(callback)\n\n  // Remember the latest callback if it changes.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    // Don't schedule if no delay is specified.\n    if (delay === null) {\n      return\n    }\n\n    const id = setInterval(() => savedCallback.current(), delay)\n\n    return () => clearInterval(id)\n  }, [delay])\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useDispatch } from 'react-redux'\nimport { indigoVerification } from '../script/ui/state/request'\nimport { Ketcher, KetcherAsyncEvents } from 'ketcher-core'\nimport { useEffect } from 'react'\nimport { useAppContext } from './useAppContext'\nimport { KETCHER_INIT_EVENT_NAME } from '../constants'\n\nexport const useSubscriptionOnEvents = () => {\n  const dispatch = useDispatch()\n\n  const { getKetcherInstance } = useAppContext()\n\n  const loadingHandler = () => {\n    dispatch(indigoVerification(true))\n  }\n  const actionResultHandler = () => {\n    dispatch(indigoVerification(false))\n  }\n\n  const subscribe = (ketcher: Ketcher) => {\n    ketcher.eventBus.addListener(KetcherAsyncEvents.LOADING, loadingHandler)\n    ketcher.eventBus.addListener(\n      KetcherAsyncEvents.SUCCESS,\n      actionResultHandler\n    )\n    ketcher.eventBus.addListener(\n      KetcherAsyncEvents.FAILURE,\n      actionResultHandler\n    )\n  }\n\n  const unsubscribe = (ketcher: Ketcher) => {\n    ketcher.eventBus.removeListener(KetcherAsyncEvents.LOADING, loadingHandler)\n    ketcher.eventBus.removeListener(\n      KetcherAsyncEvents.SUCCESS,\n      actionResultHandler\n    )\n    ketcher.eventBus.removeListener(\n      KetcherAsyncEvents.FAILURE,\n      actionResultHandler\n    )\n  }\n\n  useEffect(() => {\n    const subscribeOnInit = () => {\n      subscribe(getKetcherInstance())\n    }\n\n    const unsubscribeOnUnMount = () => {\n      unsubscribe(getKetcherInstance())\n    }\n\n    window.addEventListener(KETCHER_INIT_EVENT_NAME, () => {\n      subscribeOnInit()\n    })\n    return () => {\n      unsubscribeOnUnMount()\n      window.removeEventListener(KETCHER_INIT_EVENT_NAME, subscribeOnInit)\n    }\n  }, [])\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from './ArrowScroll.module.less'\nimport clsx from 'clsx'\nimport { useEffect, useState } from 'react'\nimport { useInterval } from '../../../../../hooks'\n\ninterface ArrowScrollProps {\n  startInView: boolean\n  endInView: boolean\n  scrollUp: any\n  scrollDown: any\n}\n\nconst ArrowScroll = ({\n  startInView,\n  endInView,\n  scrollUp,\n  scrollDown\n}: ArrowScrollProps) => {\n  const [isScrollDown, setScrollDown] = useState(false)\n  const [isScrollUp, setScrollUp] = useState(false)\n  useInterval(scrollDown, isScrollDown ? 100 : null)\n  useInterval(scrollUp, isScrollUp ? 100 : null)\n\n  useEffect(() => {\n    return () => {\n      setScrollUp(false)\n    }\n  }, [startInView])\n\n  useEffect(() => {\n    return () => {\n      setScrollDown(false)\n    }\n  }, [endInView])\n\n  return (\n    <div className={classes.scroll}>\n      {endInView ? (\n        <></>\n      ) : (\n        <button\n          onClick={() => scrollDown()}\n          onMouseUp={() => setScrollDown(false)}\n          onMouseDown={() => setScrollDown(true)}\n          className={clsx(classes.button, classes.down)}\n        >\n          ▼\n        </button>\n      )}\n      {startInView ? (\n        <></>\n      ) : (\n        <button\n          onClick={() => scrollUp()}\n          onMouseUp={() => setScrollUp(false)}\n          onMouseDown={() => setScrollUp(true)}\n          className={clsx(classes.button, classes.up)}\n        >\n          ▲\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport { ArrowScroll }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nconst mediaSizes = {\n  topSeparatorsShowingWidth: 1080,\n  bondCollapsableHeight: 770,\n  rGroupCollapsableHeight: 1000,\n  shapeCollapsableHeight: 1000,\n  transformCollapsableHeight: 870\n}\n\nexport { mediaSizes }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../../ToolbarGroupItem'\nimport {\n  bondCommon,\n  bondQuery,\n  bondSpecial,\n  bondStereo,\n  groupDescriptors,\n  groupOptions\n} from './options'\n\nimport { ToolbarMultiToolItem } from '../../ToolbarGroupItem/ToolbarMultiToolItem'\nimport { mediaSizes } from '../../mediaSizes'\n\ninterface BondProps extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  height?: number\n}\ntype BondCallProps = ToolbarGroupItemCallProps\n\ntype Props = BondProps & BondCallProps\n\nconst Bond = (props: Props) => {\n  const { height, ...rest } = props\n\n  if (height && height <= mediaSizes.bondCollapsableHeight) {\n    return (\n      <ToolbarMultiToolItem\n        id=\"bonds\"\n        options={groupOptions}\n        variant=\"grouped\"\n        groups={groupDescriptors}\n        {...rest}\n      />\n    )\n  }\n\n  return (\n    <>\n      <ToolbarMultiToolItem id=\"bond-common\" options={bondCommon} {...rest} />\n      <ToolbarMultiToolItem id=\"bond-stereo\" options={bondStereo} {...rest} />\n      <ToolbarMultiToolItem id=\"bond-query\" options={bondQuery} {...rest} />\n      <ToolbarMultiToolItem id=\"bond-special\" options={bondSpecial} {...rest} />\n    </>\n  )\n}\n\nexport type { BondProps, BondCallProps }\nexport { Bond }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../../ToolbarGroupItem'\n\nimport { rGroupOptions } from '../leftToolbarOptions'\n\ninterface RGroupProps extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  height?: number\n}\ntype RGroupCallProps = ToolbarGroupItemCallProps\n\ntype Props = RGroupProps & RGroupCallProps\n\nconst RGroup = (props: Props) => {\n  return <ToolbarGroupItem id=\"rgroup\" options={rGroupOptions} {...props} />\n}\n\nexport type { RGroupProps, RGroupCallProps }\nexport { RGroup }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../../ToolbarGroupItem'\n\nimport { shapeOptions } from '../leftToolbarOptions'\n\ninterface ShapeProps extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  height?: number\n}\ntype ShapeCallProps = ToolbarGroupItemCallProps\n\ntype Props = ShapeProps & ShapeCallProps\n\nconst Shape = (props: Props) => {\n  return <ToolbarGroupItem id=\"shapes\" options={shapeOptions} {...props} />\n}\n\nexport type { ShapeProps, ShapeCallProps }\nexport { Shape }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../../ToolbarGroupItem'\n\nimport { transformOptions } from '../leftToolbarOptions'\nimport { mediaSizes } from '../../mediaSizes'\n\ninterface TransformProps extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  height?: number\n}\ntype TransformCallProps = ToolbarGroupItemCallProps\n\ntype Props = TransformProps & TransformCallProps\n\nconst Transform = (props: Props) => {\n  const { height, ...rest } = props\n\n  if (height && height <= mediaSizes.transformCollapsableHeight) {\n    return (\n      <ToolbarGroupItem id=\"transforms\" options={transformOptions} {...rest} />\n    )\n  }\n\n  return (\n    <>\n      <ToolbarGroupItem id=\"transform-rotate\" {...rest} />\n      <ToolbarGroupItem id=\"transform-flip-h\" {...rest} />\n      <ToolbarGroupItem id=\"transform-flip-v\" {...rest} />\n    </>\n  )\n}\n\nexport type { TransformProps, TransformCallProps }\nexport { Transform }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC, MutableRefObject, useRef } from 'react'\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../ToolbarGroupItem'\nimport { ToolbarItem, ToolbarItemVariant } from '../toolbar.types'\nimport {\n  arrowsOptions,\n  bondCommon,\n  bondQuery,\n  bondSpecial,\n  bondStereo,\n  mappingOptions,\n  rGroupOptions,\n  selectOptions,\n  shapeOptions,\n  transformOptions\n} from './leftToolbarOptions'\n\nimport { ArrowScroll } from '../ArrowScroll'\nimport { Bond } from './Bond'\nimport { RGroup } from './RGroup'\nimport { Shape } from './Shape'\nimport { Transform } from './Transform'\nimport classes from './LeftToolbar.module.less'\nimport clsx from 'clsx'\nimport { useInView } from 'react-intersection-observer'\nimport { useResizeObserver } from '../../../../../hooks'\n\ninterface LeftToolbarProps\n  extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  className?: string\n}\n\ntype LeftToolbarCallProps = ToolbarGroupItemCallProps\n\ntype Props = LeftToolbarProps & LeftToolbarCallProps\n\nconst LeftToolbar = (props: Props) => {\n  const { className, ...rest } = props\n  const { ref, height } = useResizeObserver<HTMLDivElement>()\n  const scrollRef = useRef() as MutableRefObject<HTMLDivElement>\n  const [startRef, startInView] = useInView({ threshold: 1 })\n  const [endRef, endInView] = useInView({ threshold: 1 })\n  const sizeRef = useRef() as MutableRefObject<HTMLDivElement>\n\n  type ItemProps = {\n    id: ToolbarItemVariant\n    options?: ToolbarItem[]\n  }\n  const Item = ({ id, options }: ItemProps) =>\n    ToolbarGroupItem({ id, options, ...rest })\n\n  const scrollUp = () => {\n    scrollRef.current.scrollTop -= sizeRef.current.offsetHeight\n  }\n\n  const scrollDown = () => {\n    scrollRef.current.scrollTop += sizeRef.current.offsetHeight\n  }\n\n  const status = rest.status\n\n  type GroupItem = ItemProps\n\n  const Group: FC<{ items?: GroupItem[]; className?: string }> = ({\n    items,\n    className\n  }) => {\n    const visibleItems: GroupItem[] = []\n    if (items) {\n      items.forEach((item) => {\n        let visible = true\n        if (status[item.id]?.hidden) {\n          visible = false\n        } else if (item.options?.every((option) => status[option.id]?.hidden)) {\n          visible = false\n        }\n        if (visible) visibleItems.push(item)\n      })\n    }\n    return visibleItems.length ? (\n      <div className={clsx(classes.group, className)}>\n        {visibleItems.map((item) => {\n          switch (item.id) {\n            case 'bond-common':\n              return <Bond {...rest} height={height} key={item.id} />\n            case 'transform-rotate':\n              return <Transform {...rest} height={height} key={item.id} />\n            case 'rgroup':\n              return <RGroup {...rest} key={item.id} />\n            case 'shapes':\n              return <Shape {...rest} key={item.id} />\n            default:\n              return <Item id={item.id} options={item.options} key={item.id} />\n          }\n        })}\n      </div>\n    ) : null\n  }\n\n  return (\n    <div className={clsx(classes.root, className)} ref={ref}>\n      <div className={classes.buttons} ref={scrollRef}>\n        <div className={classes.listener} ref={startRef}>\n          <Group\n            className={classes.groupItem}\n            items={[\n              { id: 'hand' },\n              { id: 'select', options: selectOptions },\n              { id: 'erase' }\n            ]}\n          />\n        </div>\n\n        <Group\n          className={classes.groupItem}\n          items={[\n            {\n              id: 'bonds',\n              options: [\n                ...bondCommon,\n                ...bondQuery,\n                ...bondSpecial,\n                ...bondStereo\n              ]\n            },\n            { id: 'chain' }\n          ]}\n        />\n\n        <Group\n          className={classes.groupItem}\n          items={[{ id: 'enhanced-stereo' }]}\n        />\n\n        <Group\n          className={classes.groupItem}\n          items={[{ id: 'charge-plus' }, { id: 'charge-minus' }]}\n        />\n\n        <Group\n          className={classes.groupItem}\n          items={[\n            {\n              id: 'transforms',\n              options: transformOptions\n            }\n          ]}\n        />\n\n        <Group className={classes.groupItem} items={[{ id: 'sgroup' }]} />\n\n        <Group\n          className={classes.groupItem}\n          items={[\n            { id: 'reaction-plus' },\n            { id: 'arrows', options: arrowsOptions },\n            {\n              id: 'reaction-mapping-tools',\n              options: mappingOptions\n            }\n          ]}\n        />\n        <div className={classes.listener} ref={sizeRef}>\n          <Group\n            className={classes.groupItem}\n            items={[{ id: 'rgroup', options: rGroupOptions }]}\n          />\n        </div>\n\n        <Group\n          className={classes.groupItem}\n          items={[{ id: 'shapes', options: shapeOptions }]}\n        />\n\n        <div ref={endRef}>\n          <Group className={classes.groupItem} items={[{ id: 'text' }]} />\n        </div>\n      </div>\n      {height && scrollRef?.current?.scrollHeight > height && (\n        <ArrowScroll\n          startInView={startInView}\n          endInView={endInView}\n          scrollUp={scrollUp}\n          scrollDown={scrollDown}\n        />\n      )}\n    </div>\n  )\n}\n\nexport type { LeftToolbarProps, LeftToolbarCallProps }\nexport { LeftToolbar }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  LeftToolbar,\n  LeftToolbarCallProps,\n  LeftToolbarProps\n} from './LeftToolbar'\n\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../state'\n\ntype StateProps = Omit<LeftToolbarProps, 'className'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  status: state.actionState || {},\n  opened: state.toolbar.opened,\n  indigoVerification: state.requestsStatuses.indigoVerification,\n  disableableButtons: []\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch): LeftToolbarCallProps => ({\n  onAction: (action) => dispatch(onAction(action)),\n  onOpen: (menuName, isSelected) =>\n    dispatch({\n      type: 'OPENED',\n      data: { menuName, isSelected }\n    })\n})\n\nconst LeftToolbarContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LeftToolbar)\n\nexport { LeftToolbarContainer }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from './Atom.module.less'\nimport clsx from 'clsx'\n\nfunction Atom({ el, shortcut, selected, ...props }) {\n  return (\n    <button\n      title={shortcut ? `${el.title} (${shortcut})` : el.title}\n      className={clsx(classes.atom, {\n        selected: selected\n      })}\n      value={el.number}\n      {...props}\n    >\n      <span>{el.label}</span>\n    </button>\n  )\n}\n\nexport default Atom\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/**\r\n * @module color-parse\r\n */\r\nimport names from 'color-name'\r\n\r\nexport default parse\r\n\r\n/**\r\n * Base hues\r\n * http://dev.w3.org/csswg/css-color/#typedef-named-hue\r\n */\r\n//FIXME: use external hue detector\r\nvar baseHues = {\r\n\tred: 0,\r\n\torange: 60,\r\n\tyellow: 120,\r\n\tgreen: 180,\r\n\tblue: 240,\r\n\tpurple: 300\r\n}\r\n\r\n/**\r\n * Parse color from the string passed\r\n *\r\n * @return {Object} A space indicator `space`, an array `values` and `alpha`\r\n */\r\nfunction parse (cstr) {\r\n\tvar m, parts = [], alpha = 1, space\r\n\r\n\tif (typeof cstr === 'string') {\r\n\t\t//keyword\r\n\t\tif (names[cstr]) {\r\n\t\t\tparts = names[cstr].slice()\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//reserved words\r\n\t\telse if (cstr === 'transparent') {\r\n\t\t\talpha = 0\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [0,0,0]\r\n\t\t}\r\n\r\n\t\t//hex\r\n\t\telse if (/^#[A-Fa-f0-9]+$/.test(cstr)) {\r\n\t\t\tvar base = cstr.slice(1)\r\n\t\t\tvar size = base.length\r\n\t\t\tvar isShort = size <= 4\r\n\t\t\talpha = 1\r\n\r\n\t\t\tif (isShort) {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[0], 16),\r\n\t\t\t\t\tparseInt(base[1] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[2], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 4) {\r\n\t\t\t\t\talpha = parseInt(base[3] + base[3], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[3], 16),\r\n\t\t\t\t\tparseInt(base[4] + base[5], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 8) {\r\n\t\t\t\t\talpha = parseInt(base[6] + base[7], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!parts[0]) parts[0] = 0\r\n\t\t\tif (!parts[1]) parts[1] = 0\r\n\t\t\tif (!parts[2]) parts[2] = 0\r\n\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//color space\r\n\t\telse if (m = /^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\\s*\\(([^\\)]*)\\)/.exec(cstr)) {\r\n\t\t\tvar name = m[1]\r\n\t\t\tvar isRGB = name === 'rgb'\r\n\t\t\tvar base = name.replace(/a$/, '')\r\n\t\t\tspace = base\r\n\t\t\tvar size = base === 'cmyk' ? 4 : base === 'gray' ? 1 : 3\r\n\t\t\tparts = m[2].trim()\r\n\t\t\t\t.split(/\\s*[,\\/]\\s*|\\s+/)\r\n\t\t\t\t.map(function (x, i) {\r\n\t\t\t\t\t//<percentage>\r\n\t\t\t\t\tif (/%$/.test(x)) {\r\n\t\t\t\t\t\t//alpha\r\n\t\t\t\t\t\tif (i === size)\treturn parseFloat(x) / 100\r\n\t\t\t\t\t\t//rgb\r\n\t\t\t\t\t\tif (base === 'rgb') return parseFloat(x) * 255 / 100\r\n\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//hue\r\n\t\t\t\t\telse if (base[i] === 'h') {\r\n\t\t\t\t\t\t//<deg>\r\n\t\t\t\t\t\tif (/deg$/.test(x)) {\r\n\t\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//<base-hue>\r\n\t\t\t\t\t\telse if (baseHues[x] !== undefined) {\r\n\t\t\t\t\t\t\treturn baseHues[x]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t})\r\n\r\n\t\t\tif (name === base) parts.push(1)\r\n\t\t\talpha = (isRGB) ? 1 : (parts[size] === undefined) ? 1 : parts[size]\r\n\t\t\tparts = parts.slice(0, size)\r\n\t\t}\r\n\r\n\t\t//named channels case\r\n\t\telse if (cstr.length > 10 && /[0-9](?:\\s|\\/)/.test(cstr)) {\r\n\t\t\tparts = cstr.match(/([0-9]+)/g).map(function (value) {\r\n\t\t\t\treturn parseFloat(value)\r\n\t\t\t})\r\n\r\n\t\t\tspace = cstr.match(/([a-z])/ig).join('').toLowerCase()\r\n\t\t}\r\n\t}\r\n\r\n\t//numeric case\r\n\telse if (!isNaN(cstr)) {\r\n\t\tspace = 'rgb'\r\n\t\tparts = [cstr >>> 16, (cstr & 0x00ff00) >>> 8, cstr & 0x0000ff]\r\n\t}\r\n\r\n\t//array-like\r\n\telse if (Array.isArray(cstr) || cstr.length) {\r\n\t\tparts = [cstr[0], cstr[1], cstr[2]]\r\n\t\tspace = 'rgb'\r\n\t\talpha = cstr.length === 4 ? cstr[3] : 1\r\n\t}\r\n\r\n\t//object case - detects css cases of rgb and hsl\r\n\telse if (cstr instanceof Object) {\r\n\t\tif (cstr.r != null || cstr.red != null || cstr.R != null) {\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.r || cstr.red || cstr.R || 0,\r\n\t\t\t\tcstr.g || cstr.green || cstr.G || 0,\r\n\t\t\t\tcstr.b || cstr.blue || cstr.B || 0\r\n\t\t\t]\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspace = 'hsl'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.h || cstr.hue || cstr.H || 0,\r\n\t\t\t\tcstr.s || cstr.saturation || cstr.S || 0,\r\n\t\t\t\tcstr.l || cstr.lightness || cstr.L || cstr.b || cstr.brightness\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\talpha = cstr.a || cstr.alpha || cstr.opacity || 1\r\n\r\n\t\tif (cstr.opacity != null) alpha /= 100\r\n\t}\r\n\r\n\treturn {\r\n\t\tspace: space,\r\n\t\tvalues: parts,\r\n\t\talpha: alpha\r\n\t}\r\n}\r\n","/**\r\n * @module  color-alpha\r\n */\r\nimport parse from 'color-parse';\r\n\r\nexport default function alpha (color, value) {\r\n\tvar obj = parse(color);\r\n\r\n\tif (value == null) value = obj.alpha;\r\n\r\n\t//catch percent\r\n\tif (obj.space[0] === 'h') {\r\n\t\treturn obj.space + ['a(', obj.values[0], ',', obj.values[1], '%,', obj.values[2], '%,', value, ')'].join('');\r\n\t}\r\n\r\n\treturn obj.space + ['a(', obj.values, ',', value, ')'].join('');\r\n}\r\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ElementColor, Elements } from 'ketcher-core'\nimport { atomCuts } from '../../../../action/atoms'\n\nimport Atom from '../../../../component/view/Atom'\nimport { UiActionAction } from '../../../../action'\nimport { forwardRef } from 'react'\nimport { shortcutStr } from '../../shortcutStr'\nimport styled from '@emotion/styled'\nimport α from 'color-alpha'\n\ninterface AtomsListProps {\n  atoms: string[]\n  active?: {\n    tool?: string\n    opts: {\n      label: string\n    }\n  }\n}\n\ninterface AtomsListCallProps {\n  onAction: (action: UiActionAction) => void\n}\n\ntype Props = AtomsListProps & AtomsListCallProps\n\nconst StyledAtom = styled(Atom)((props: any) => {\n  const atomColor = props?.el?.label ? ElementColor[props.el.label] : '#000'\n  return `\n       color: ${atomColor};\n       border: 1px solid ${atomColor};\n       background-color: transparent;\n       cursor: pointer;\n       &:hover {\n         background-color: ${α(atomColor, 0.2)};\n       }\n       &:active {\n         color: #fff;\n         background-color: ${α(atomColor, 0.8)};\n       }\n       &.selected {\n         color: #fff;\n         background-color: ${α(atomColor, 0.8)};\n         &:hover {\n           background-color: ${atomColor};\n         }\n       }\n   `\n})\n\nconst AtomsList = forwardRef<HTMLDivElement, Props>((props: Props, ref) => {\n  const { atoms, active, onAction } = props\n  const isAtom = active && active.tool === 'atom'\n\n  return (\n    <div ref={ref}>\n      {atoms.map((label) => {\n        const element = Elements.get(label)\n        const shortcut =\n          atoms.indexOf(label) > -1 ? shortcutStr(atomCuts[label]) : null\n        const isSelected = isAtom && active && active.opts.label === label\n        return (\n          <StyledAtom\n            key={label}\n            el={element}\n            shortcut={shortcut}\n            className={isSelected ? 'selected' : ''}\n            selected={isSelected}\n            onClick={() => onAction({ tool: 'atom', opts: { label } })}\n          />\n        )\n      })}\n    </div>\n  )\n})\n\nexport type { AtomsListProps, AtomsListCallProps }\nexport { AtomsList }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC, MutableRefObject, PropsWithChildren, useRef } from 'react'\nimport {\n  ToolbarGroupItem,\n  ToolbarGroupItemCallProps,\n  ToolbarGroupItemProps\n} from '../ToolbarGroupItem'\n\nimport { ArrowScroll } from '../ArrowScroll'\nimport { AtomsList } from './AtomsList'\nimport { basicAtoms } from '../../../action/atoms'\nimport classes from './RightToolbar.module.less'\nimport clsx from 'clsx'\nimport { useInView } from 'react-intersection-observer'\nimport { useResizeObserver } from '../../../../../hooks'\n\nconst Group: FC<{ className?: string } & PropsWithChildren> = ({\n  children,\n  className\n}) => <div className={clsx(classes.group, className)}>{children}</div>\n\ninterface RightToolbarProps\n  extends Omit<ToolbarGroupItemProps, 'id' | 'options'> {\n  className?: string\n  active?: {\n    opts: any\n    tool: string\n  }\n  freqAtoms: any[]\n}\n\ntype RightToolbarCallProps = ToolbarGroupItemCallProps\n\ntype Props = RightToolbarProps & RightToolbarCallProps\n\nconst RightToolbar = (props: Props) => {\n  const { className, ...rest } = props\n  const { active, onAction, freqAtoms } = rest\n  const { ref, height } = useResizeObserver<HTMLDivElement>()\n  const [startRef, startInView] = useInView({ threshold: 1 })\n  const [endRef, endInView] = useInView({ threshold: 1 })\n  const sizeRef = useRef() as MutableRefObject<HTMLDivElement>\n  const scrollRef = useRef() as MutableRefObject<HTMLDivElement>\n\n  const scrollUp = () => {\n    scrollRef.current.scrollTop -= sizeRef.current.offsetHeight\n  }\n\n  const scrollDown = () => {\n    scrollRef.current.scrollTop += sizeRef.current.offsetHeight\n  }\n\n  return (\n    <div className={clsx(classes.root, className)} ref={ref}>\n      <div className={classes.buttons} ref={scrollRef}>\n        <Group className={classes.atomsList}>\n          <AtomsList\n            ref={startRef}\n            atoms={basicAtoms.slice(0, 1)}\n            active={active}\n            onAction={onAction}\n          />\n          <AtomsList\n            atoms={basicAtoms.slice(1)}\n            active={active}\n            onAction={onAction}\n          />\n          <AtomsList atoms={freqAtoms} active={active} onAction={onAction} />\n          <ToolbarGroupItem id=\"period-table\" {...rest} />\n        </Group>\n\n        <Group>\n          <div ref={sizeRef}>\n            <ToolbarGroupItem id=\"any-atom\" {...rest} />\n            <div ref={endRef}>\n              <ToolbarGroupItem id=\"extended-table\" {...rest} />\n            </div>\n          </div>\n        </Group>\n      </div>\n      {height && scrollRef?.current?.scrollHeight > height && (\n        <ArrowScroll\n          startInView={startInView}\n          endInView={endInView}\n          scrollUp={scrollUp}\n          scrollDown={scrollDown}\n        />\n      )}\n    </div>\n  )\n}\n\nexport type { RightToolbarProps, RightToolbarCallProps }\nexport { RightToolbar }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  RightToolbar,\n  RightToolbarCallProps,\n  RightToolbarProps\n} from './RightToolbar'\n\nimport { ComponentType } from 'react'\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../state'\n\ntype StateProps = Omit<RightToolbarProps, 'className'>\ntype OwnProps = Pick<RightToolbarProps, 'className'>\n\nconst mapStateToProps = (state): StateProps => ({\n  active: state.actionState && state.actionState.activeTool,\n  status: state.actionState || {},\n  freqAtoms: state.toolbar.freqAtoms,\n  opened: state.toolbar.opened,\n  indigoVerification: state.requestsStatuses.indigoVerification,\n  disableableButtons: []\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch): RightToolbarCallProps => ({\n  onAction: (action) => dispatch(onAction(action)),\n  onOpen: (menuName, isSelected) =>\n    dispatch({\n      type: 'OPENED',\n      data: { menuName, isSelected }\n    })\n})\n\nconst RightToolbarContainer: ComponentType<OwnProps> = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RightToolbar)\n\nexport { RightToolbarContainer }\nexport default RightToolbarContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { IconButton as MuiButton } from '@mui/material'\nimport styled from '@emotion/styled'\n\nimport Icon from 'src/script/ui/component/view/icon'\n\nconst Button = styled(MuiButton)`\n  display: block;\n  color: #333;\n  border: 0;\n  position: relative;\n  background: inherit;\n\n  flex-shrink: 0;\n\n  border-radius: 4px;\n  margin: 0px;\n  padding: 2px;\n  height: 28px;\n  width: 28px;\n\n  &:hover {\n    color: #006775;\n    transform: none;\n    box-shadow: none;\n    transition: none;\n    background: none;\n  }\n\n  &:active {\n    background-color: #006775;\n    color: white;\n    &:hover {\n      background-color: #188794;\n    }\n  }\n\n  & svg {\n    width: 100%;\n    height: 100%;\n  }\n\n  &.Mui-disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n    background-color: initial;\n    color: #333;\n    pointer-events: auto;\n  }\n\n  @media only screen and (min-width: 1024px) {\n    height: 32px;\n    width: 32px;\n    padding: 4px;\n  }\n\n  @media only screen and (min-width: 1920px) {\n    height: 40px;\n    width: 40px;\n    padding: 5px;\n  }\n`\n\ninterface ButtonProps {\n  iconName: string\n  onClick: () => void\n  title: string\n  isHidden?: boolean\n  disabled?: boolean\n  shortcut?: string\n}\n\nexport const IconButton = ({\n  onClick,\n  iconName,\n  title,\n  shortcut,\n  isHidden = false,\n  disabled = false\n}: ButtonProps) => {\n  const combinedTitle = shortcut ? `${title} (${shortcut})` : title\n\n  if (isHidden) {\n    return null\n  }\n\n  return (\n    <Button title={combinedTitle} onClick={onClick} disabled={disabled}>\n      <Icon name={iconName} />\n    </Button>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { IconButton } from './IconButton'\n\ninterface FileControlsProps {\n  onFileOpen: () => void\n  onSave: () => void\n  shortcuts: { [key in string]: string }\n  hiddenButtons: string[]\n}\n\nexport const FileControls = ({\n  onFileOpen,\n  onSave,\n  shortcuts,\n  hiddenButtons\n}: FileControlsProps) => {\n  return (\n    <>\n      <IconButton\n        title=\"Open...\"\n        onClick={onFileOpen}\n        iconName=\"open\"\n        shortcut={shortcuts.open}\n        isHidden={hiddenButtons.includes('open')}\n      />\n      <IconButton\n        title=\"Save as...\"\n        onClick={onSave}\n        iconName=\"save\"\n        shortcut={shortcuts.save}\n        isHidden={hiddenButtons.includes('save')}\n      />\n    </>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { ClickAwayListener, Collapse, IconButton } from '@mui/material'\nimport styled from '@emotion/styled'\n\nimport Icon from 'src/script/ui/component/view/icon'\n\nconst ElementAndDropdown = styled('div')`\n  position: relative;\n`\n\nconst DropDownContent = styled('div')`\n  display: flex;\n  position: absolute;\n  left: 5px;\n  border-radius: 2px;\n  flex-direction: column;\n  z-index: 20;\n  white-space: nowrap;\n  word-break: keep-all;\n  padding: 2px;\n  background: white; // TODO use variable\n  border: 1px solid #cad3dd; // TODO use variable\n  border-radius: 5px;\n  box-shadow: 0 6px 12px rgb(0 0 0 / 18%);\n`\n\nconst DropDownButton = styled(IconButton)`\n  position: absolute;\n  padding: 0;\n  right: 0;\n  bottom: 0;\n\n  &.disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n    background-color: initial;\n    color: #333;\n    pointer-events: auto;\n  }\n`\n\nconst DropDownArrow = styled(Icon)`\n  display: block;\n  width: 7px;\n  height: 7px;\n  margin: 1px;\n\n  &:hover {\n    fill: #005662;\n    transform: none;\n    box-shadow: none;\n    transition: none;\n    background: none;\n  }\n\n  &svg {\n    width: 100%;\n    height: 100%;\n  }\n\n  &svg path {\n    fill: inherit;\n  }\n`\n\ninterface ElementWithDropdownProps {\n  topElement?: JSX.Element\n  dropDownElements: JSX.Element[]\n  onToolOpen: () => void\n}\n\nconst MenuItemWithDropdown = ({\n  topElement,\n  dropDownElements,\n  onToolOpen\n}: ElementWithDropdownProps) => {\n  const [isExpanded, setIsExpanded] = useState<boolean>(false)\n\n  const collapse = () => {\n    setIsExpanded(false)\n  }\n\n  const expand = () => {\n    onToolOpen()\n    setIsExpanded(true)\n  }\n\n  return (\n    <ElementAndDropdown>\n      {topElement && topElement}\n      {dropDownElements.filter((element) => !element.props.isHidden).length !==\n        0 && (\n        <DropDownButton\n          onClick={expand}\n          className={`expanded ${topElement?.props.disabled ? 'disabled' : ''}`}\n        >\n          {!isExpanded && <DropDownArrow name=\"dropdown\" />}\n        </DropDownButton>\n      )}\n      <Collapse in={isExpanded} timeout=\"auto\" onClick={collapse} unmountOnExit>\n        <ClickAwayListener onClickAway={collapse}>\n          <DropDownContent>{dropDownElements}</DropDownContent>\n        </ClickAwayListener>\n      </Collapse>\n    </ElementAndDropdown>\n  )\n}\n\n// TODO: refactor, workaround to fix top toolbar dropdowns and left toolbar dropdowns overlapping\nconst mapDispatchToProps = (dispatch) => ({\n  onToolOpen: () =>\n    dispatch({\n      type: 'OPENED',\n      data: { menuName: null, isSelected: null }\n    })\n})\n\nexport const ElementWithDropdown = connect(\n  null,\n  mapDispatchToProps\n)(MenuItemWithDropdown)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { IconButton } from './IconButton'\nimport { ElementWithDropdown } from './ElementWithDropdown'\n\ninterface ClipboardControlsProps {\n  onCopy: () => void\n  onCopyMol: () => void\n  onCopyKet: () => void\n  onCopyImage: () => void\n  onPaste: () => void\n  onCut: () => void\n  disabledButtons: string[]\n  hiddenButtons: string[]\n  shortcuts: { [key in string]: string }\n}\n\nexport const ClipboardControls = ({\n  onCopy,\n  onCopyMol,\n  onCopyKet,\n  onCopyImage,\n  onPaste,\n  onCut,\n  shortcuts,\n  disabledButtons,\n  hiddenButtons\n}: ClipboardControlsProps) => {\n  const copyButtons = [\n    {\n      name: 'copy',\n      title: 'Copy',\n      handler: onCopy\n    },\n    {\n      name: 'copy-mol',\n      title: 'Copy as MOL',\n      handler: onCopyMol\n    },\n    {\n      name: 'copy-ket',\n      title: 'Copy as KET',\n      handler: onCopyKet\n    },\n    {\n      name: 'copy-image',\n      title: 'Copy Image',\n      handler: onCopyImage\n    }\n  ]\n\n  const getButtonElement = (button) => (\n    <IconButton\n      title={button.title}\n      onClick={button.handler}\n      iconName={button.name}\n      shortcut={shortcuts[button.name]}\n      disabled={disabledButtons.includes(button.name)}\n      isHidden={hiddenButtons.includes(button.name)}\n      key={button.name}\n    />\n  )\n\n  const firstButtonObj = copyButtons.find(\n    (button) => !hiddenButtons.includes(button.name)\n  )\n  const collapsibleElements = copyButtons\n    .filter((button) => button !== firstButtonObj)\n    .map((button) => getButtonElement(button))\n\n  return (\n    <>\n      {!hiddenButtons.includes('copies') && (\n        <ElementWithDropdown\n          topElement={getButtonElement(firstButtonObj)}\n          dropDownElements={collapsibleElements}\n        />\n      )}\n      <IconButton\n        title=\"Paste\"\n        onClick={onPaste}\n        iconName=\"paste\"\n        shortcut={shortcuts.paste}\n        disabled={disabledButtons.includes('paste')}\n        isHidden={hiddenButtons.includes('paste')}\n      />\n      <IconButton\n        title=\"Cut\"\n        onClick={onCut}\n        iconName=\"cut\"\n        shortcut={shortcuts.cut}\n        disabled={disabledButtons.includes('cut')}\n        isHidden={hiddenButtons.includes('cut')}\n      />\n    </>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styled from '@emotion/styled'\n\nconst VerticalDivider = styled('hr')`\n  margin: 0px 3px;\n  flex-shrink: 0;\n  height: 45%;\n  align-self: center;\n  border-width: 0px thin 0px 0px;\n  border-style: solid;\n  border-color: #b4b9d6; // TODO: use variable\n`\n\nexport const Divider = () => <VerticalDivider />\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Divider } from './Divider'\nimport { IconButton } from './IconButton'\n\ninterface UndoRedoProps {\n  disabledButtons: string[]\n  hiddenButtons: string[]\n  shortcuts: { [key in string]: string }\n  onUndo: () => void\n  onRedo: () => void\n}\n\nexport const UndoRedo = ({\n  onUndo,\n  onRedo,\n  disabledButtons,\n  hiddenButtons,\n  shortcuts\n}: UndoRedoProps) => {\n  return (\n    <>\n      <Divider />\n      <IconButton\n        title=\"Undo\"\n        onClick={onUndo}\n        iconName=\"undo\"\n        disabled={disabledButtons.includes('undo')}\n        isHidden={hiddenButtons.includes('undo')}\n        shortcut={shortcuts.undo}\n      />\n      <IconButton\n        title=\"Redo\"\n        onClick={onRedo}\n        iconName=\"redo\"\n        disabled={disabledButtons.includes('redo')}\n        isHidden={hiddenButtons.includes('redo')}\n        shortcut={shortcuts.redo}\n      />\n      <Divider />\n    </>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  FocusEvent,\n  KeyboardEvent,\n  useEffect,\n  useCallback,\n  RefObject\n} from 'react'\nimport styled from '@emotion/styled'\n\nconst StyledInput = styled('input')`\n  border: 1px solid #cad3dd;\n  border-radius: 4px;\n  padding: 3px 8px;\n  color: #585858;\n  font-size: 14px;\n  line-height: 16px;\n  caret-color: #43b5c0;\n  margin-bottom: 8px;\n\n  &:hover {\n    border-color: #43b5c0;\n  }\n\n  &:active,\n  &:focus {\n    border-color: #167782;\n    outline: none;\n  }\n\n  &::after,\n  &::before {\n    display: none;\n  }\n`\n\nconst onFocusHandler = (event: FocusEvent<HTMLInputElement>) => {\n  const el = event.target\n  el.select()\n}\n\nexport const updateInputString = (\n  zoom: number,\n  inputElement: HTMLInputElement | null\n) => {\n  if (!inputElement) return\n  inputElement.value = `${zoom}%`\n}\n\nexport interface ZoomInputProps {\n  onZoomSubmit: () => void\n  currentZoom: number\n  inputRef: RefObject<HTMLInputElement>\n  shortcuts: { [key in string]: string }\n}\n\nexport const ZoomInput = ({\n  onZoomSubmit,\n  currentZoom,\n  inputRef,\n  shortcuts\n}: ZoomInputProps) => {\n  useEffect(() => {\n    const inputEl = inputRef.current\n    updateInputString(currentZoom, inputEl)\n    if (document.activeElement === inputEl) {\n      inputEl?.select()\n    }\n  }, [currentZoom, inputRef])\n\n  const onKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLInputElement>) => {\n      const inputEl = inputRef.current\n      if (!inputEl) {\n        return\n      }\n\n      // Prevent bubbling of keyDown events to capture input and Enter, allow bubbling of shortcuts\n      const zoomShortcuts = [shortcuts['zoom-out'], shortcuts['zoom-in']]\n      if (!zoomShortcuts.includes(event.key)) {\n        event.nativeEvent.stopImmediatePropagation()\n      }\n\n      if (event.key === 'Enter') {\n        onZoomSubmit()\n        inputEl.select()\n      }\n    },\n    [onZoomSubmit, inputRef, shortcuts]\n  )\n\n  // Focus on input field upon mounting\n  useEffect(() => {\n    const inputEl = inputRef.current\n    inputEl?.focus()\n    inputEl?.select()\n  }, [inputRef])\n\n  return (\n    <StyledInput\n      ref={inputRef}\n      onFocus={onFocusHandler}\n      onKeyDown={onKeyDown}\n    />\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useState, useRef, useCallback } from 'react'\nimport styled from '@emotion/styled'\nimport { Button, Popover } from '@mui/material'\n\nimport Icon from 'src/script/ui/component/view/icon'\nimport { zoomList } from 'src/script/ui/action/zoom'\nimport { ZoomInput, updateInputString } from './ZoomInput'\n\nconst ElementAndDropdown = styled('div')`\n  position: relative;\n`\n\nconst DropDownButton = styled(Button)`\n  display: flex;\n  color: #000000;\n  padding-right: 0;\n  padding-left: 0;\n\n  & svg {\n    margin-left: 2px;\n    width: 16px;\n    height: 16px;\n  }\n`\n\nconst ZoomLabel = styled('span')`\n  width: 35px;\n`\n\nconst Dropdown = styled(Popover)`\n  & .MuiPopover-paper {\n    padding: 8px;\n    width: 175px;\n    border: none;\n    border-radius: 0px 0px 4px 4px;\n    box-shadow: 0px 30px 48px -17px rgba(160, 165, 174, 0.3);\n    box-sizing: border-box;\n  }\n`\n\nconst DropDownContent = styled('div')`\n  display: flex;\n  flex-direction: column;\n  white-space: nowrap;\n  word-break: keep-all;\n  background: white;\n`\n\nconst ZoomControlButton = styled(Button)`\n  display: flex;\n  justify-content: space-between;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 14px;\n  padding: 7px 8px;\n  text-transform: none;\n  color: #333333;\n`\n\nconst ShortcutLabel = styled('span')`\n  color: #cad3dd;\n`\n\nconst getIntegerFromString = (zoomInput: string | undefined): number => {\n  const zoomNumber = parseInt(zoomInput || '')\n  if (isNaN(zoomNumber)) {\n    return 0\n  }\n  return zoomNumber\n}\n\nconst getValidZoom = (zoom: number, currentZoom: number): number => {\n  if (zoom === 0) {\n    return currentZoom\n  }\n\n  const minAllowed = Math.min(...zoomList) * 100\n  const maxAllowed = Math.max(...zoomList) * 100\n\n  if (zoom < minAllowed) {\n    return minAllowed\n  }\n  if (zoom > maxAllowed) {\n    return maxAllowed\n  }\n  return zoom\n}\n\ninterface ZoomProps {\n  currentZoom: number\n  onZoom: (arg: number) => void\n  onZoomIn: VoidFunction\n  onZoomOut: VoidFunction\n  disabledButtons: string[]\n  hiddenButtons: string[]\n  shortcuts: { [key in string]: string }\n}\n\nexport const ZoomControls = ({\n  currentZoom,\n  onZoom,\n  onZoomIn,\n  onZoomOut,\n  disabledButtons,\n  hiddenButtons,\n  shortcuts\n}: ZoomProps) => {\n  const [isExpanded, setIsExpanded] = useState<boolean>(false)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const onZoomSubmit = useCallback(() => {\n    const inputEl = inputRef.current\n    if (!inputEl) {\n      return\n    }\n    const userInput = getIntegerFromString(inputEl.value)\n    if (userInput && userInput !== currentZoom) {\n      const zoomToSet = getValidZoom(userInput, currentZoom)\n      updateInputString(zoomToSet, inputEl)\n      onZoom(zoomToSet)\n    } else {\n      updateInputString(currentZoom, inputEl)\n    }\n  }, [onZoom, currentZoom])\n\n  const onClose = (_, reason) => {\n    if (reason === 'backdropClick') {\n      onZoomSubmit()\n    }\n    setIsExpanded(false)\n  }\n\n  const onExpand = () => {\n    setIsExpanded(true)\n  }\n\n  const resetZoom = () => {\n    onZoom(100)\n  }\n\n  return (\n    <ElementAndDropdown ref={containerRef}>\n      <DropDownButton onClick={onExpand}>\n        <ZoomLabel>{Math.round(currentZoom)}%</ZoomLabel>\n        <Icon name=\"chevron\" />\n      </DropDownButton>\n\n      <Dropdown\n        open={isExpanded}\n        onClose={onClose}\n        anchorEl={containerRef.current}\n        container={containerRef.current}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left'\n        }}\n      >\n        <DropDownContent>\n          <ZoomInput\n            onZoomSubmit={onZoomSubmit}\n            inputRef={inputRef}\n            currentZoom={currentZoom}\n            shortcuts={shortcuts}\n          />\n          {!hiddenButtons.includes('zoom-out') && (\n            <ZoomControlButton\n              title=\"Zoom Out\"\n              onClick={onZoomOut}\n              disabled={disabledButtons.includes('zoom-out')}\n            >\n              <span>Zoom out</span>\n              <ShortcutLabel>{shortcuts['zoom-out']}</ShortcutLabel>\n            </ZoomControlButton>\n          )}\n          {!hiddenButtons.includes('zoom-in') && (\n            <ZoomControlButton\n              title=\"Zoom In\"\n              onClick={onZoomIn}\n              disabled={disabledButtons.includes('zoom-in')}\n            >\n              <span>Zoom in</span>\n              <ShortcutLabel>{shortcuts['zoom-in']}</ShortcutLabel>\n            </ZoomControlButton>\n          )}\n          <ZoomControlButton title=\"Zoom 100%\" onClick={resetZoom}>\n            <span>Zoom 100%</span>\n            <ShortcutLabel>{shortcuts.zoom}</ShortcutLabel>\n          </ZoomControlButton>\n        </DropDownContent>\n      </Dropdown>\n    </ElementAndDropdown>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styled from '@emotion/styled'\nimport { shortcutStr } from '../shortcutStr'\nimport { IconButton } from './IconButton'\n\ninterface SystemControlsProps {\n  disabledButtons: string[]\n  hiddenButtons: string[]\n  className?: string\n  onSettingsOpen: () => void\n  onAboutOpen: () => void\n  onHistoryClick: () => void\n  onFullscreen: () => void\n  onHelp: () => void\n}\n\nconst getIfFullScreen = () => {\n  return !!(\n    document.fullscreenElement ||\n    document.mozFullScreenElement ||\n    document.webkitFullscreenElement ||\n    document.msFullscreenElement\n  )\n}\n\nconst ControlsPanel = styled('div')`\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  justify-content: flex-end;\n`\n\nexport const SystemControls = ({\n  disabledButtons,\n  hiddenButtons,\n  onSettingsOpen,\n  // onHistoryClick,\n  onFullscreen,\n  onHelp,\n  onAboutOpen,\n  className\n}: SystemControlsProps) => {\n  return (\n    <ControlsPanel className={className}>\n      {/* Uncomment upon History log implementation */}\n      {/* <IconButton\n        title=\"History\"\n        onClick={onHistoryClick}\n        iconName=\"history\"\n        disabled={disabledButtons.includes('history')}\n        isHidden={hiddenButtons.includes('history')}\n      /> */}\n      <IconButton\n        title=\"Settings\"\n        onClick={onSettingsOpen}\n        iconName=\"settings\"\n        disabled={disabledButtons.includes('settings')}\n        isHidden={hiddenButtons.includes('settings')}\n      />\n      <IconButton\n        title={`Help (${shortcutStr(['?', '&', 'Shift+/'])})`}\n        onClick={onHelp}\n        iconName=\"help\"\n        disabled={disabledButtons.includes('help')}\n        isHidden={hiddenButtons.includes('help')}\n      />\n      {/* @TODO Temporary About button, when design is ready, reimplement */}\n      <IconButton\n        title=\"About\"\n        onClick={onAboutOpen}\n        iconName=\"about\"\n        disabled={disabledButtons.includes('about')}\n        isHidden={hiddenButtons.includes('about')}\n      />\n      <IconButton\n        title=\"Fullscreen mode\"\n        onClick={onFullscreen}\n        iconName={getIfFullScreen() ? 'fullscreen-exit' : 'fullscreen-enter'}\n        disabled={disabledButtons.includes('fullscreen')}\n        isHidden={hiddenButtons.includes('fullscreen')}\n      />\n    </ControlsPanel>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ElementWithDropdown } from './ElementWithDropdown'\nimport { IconButton } from './IconButton'\n\ninterface ExternalFuncProps {\n  isCollapsed: boolean\n  onLayout: () => void\n  onClean: () => void\n  onAromatize: () => void\n  onDearomatize: () => void\n  onCalculate: () => void\n  onCheck: () => void\n  onAnalyse: () => void\n  onMiew: () => void\n  disabledButtons: string[]\n  hiddenButtons: string[]\n  indigoVerification: boolean\n  shortcuts: { [key in string]: string }\n}\n\nexport const ExternalFuncControls = ({\n  isCollapsed,\n  onLayout,\n  onClean,\n  onAromatize,\n  onDearomatize,\n  onCalculate,\n  onCheck,\n  onAnalyse,\n  onMiew,\n  disabledButtons,\n  indigoVerification,\n  hiddenButtons,\n  shortcuts\n}: ExternalFuncProps) => {\n  const externalFuncButtons = [\n    {\n      name: 'arom',\n      title: 'Aromatize',\n      handler: onAromatize\n    },\n    {\n      name: 'dearom',\n      title: 'Dearomatize',\n      handler: onDearomatize\n    },\n    {\n      name: 'layout',\n      title: 'Layout',\n      handler: onLayout\n    },\n    {\n      name: 'clean',\n      title: 'Clean Up',\n      handler: onClean\n    },\n    {\n      name: 'cip',\n      title: 'Calculate CIP',\n      handler: onCalculate\n    },\n    {\n      name: 'check',\n      title: 'Check Structure',\n      handler: onCheck\n    },\n    {\n      name: 'analyse',\n      title: 'Calculated Values',\n      handler: onAnalyse\n    },\n    {\n      name: 'miew',\n      title: '3D Viewer',\n      handler: onMiew\n    }\n  ]\n\n  const getButtonElement = (button) => (\n    <IconButton\n      title={button.title}\n      onClick={button.handler}\n      iconName={button.name}\n      shortcut={shortcuts[button.name]}\n      disabled={indigoVerification || disabledButtons.includes(button.name)}\n      isHidden={hiddenButtons.includes(button.name)}\n      key={button.name}\n    />\n  )\n\n  const firstButtonObj = externalFuncButtons.find(\n    (button) => !hiddenButtons.includes(button.name)\n  )\n\n  const collapsibleElements = externalFuncButtons\n    .filter((button) => button !== firstButtonObj)\n    .map((button) => getButtonElement(button))\n\n  if (isCollapsed) {\n    return (\n      <ElementWithDropdown\n        topElement={getButtonElement(firstButtonObj)}\n        dropDownElements={collapsibleElements}\n      />\n    )\n  }\n\n  return (\n    <>\n      {firstButtonObj && getButtonElement(firstButtonObj)}\n      {<>{collapsibleElements}</>}\n    </>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styled from '@emotion/styled'\n\nimport { useResizeObserver } from 'src/hooks'\nimport { FileControls } from './FileControls'\nimport { ClipboardControls } from './ClipboardControls'\nimport { UndoRedo } from './UndoRedo'\nimport { ZoomControls } from './ZoomControls'\n\nimport { SystemControls } from './SystemControls'\nimport { IconButton } from './IconButton'\nimport { ExternalFuncControls } from './ExternalFuncControls'\nimport { Divider } from './Divider'\n\ntype VoidFunction = () => void\n\nexport interface PanelProps {\n  className: string\n  disabledButtons: string[]\n  indigoVerification: boolean\n  hiddenButtons: string[]\n  shortcuts: { [key in string]: string }\n  onClear: VoidFunction\n  onFileOpen: VoidFunction\n  onSave: VoidFunction\n  onUndo: VoidFunction\n  onRedo: VoidFunction\n  onCopy: VoidFunction\n  onCopyMol: VoidFunction\n  onCopyKet: VoidFunction\n  onCopyImage: VoidFunction\n  onCut: VoidFunction\n  onPaste: VoidFunction\n  currentZoom: number | undefined\n  onZoom: (zoom: number) => void\n  onZoomIn: VoidFunction\n  onZoomOut: VoidFunction\n  onSettingsOpen: VoidFunction\n  onLayout: VoidFunction\n  onClean: VoidFunction\n  onAromatize: VoidFunction\n  onDearomatize: VoidFunction\n  onCalculate: VoidFunction\n  onCheck: VoidFunction\n  onAnalyse: VoidFunction\n  onMiew: VoidFunction\n  onFullscreen: VoidFunction\n  onAbout: VoidFunction\n  onHelp: VoidFunction\n}\n\nconst collapseLimit = 650\n\nconst ControlsPanel = styled('div')`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0px;\n  height: 36px;\n  padding: 0px 8px;\n\n  .group {\n    display: flex;\n    flex-direction: row;\n    gap: 0px;\n  }\n\n  & * {\n    box-sizing: border-box;\n  }\n\n  @media only screen and (min-width: 1024px) {\n    height: 40px;\n    gap: 4px;\n\n    .group {\n      gap: 4px;\n    }\n  }\n\n  @media only screen and (min-width: 1920px) {\n    height: 64px;\n    gap: 12px;\n  }\n`\n\nexport const TopToolbar = ({\n  className,\n  disabledButtons,\n  indigoVerification,\n  hiddenButtons,\n  shortcuts,\n  onClear,\n  onFileOpen,\n  onSave,\n  onUndo,\n  onRedo,\n  onCopy,\n  onCopyMol,\n  onCopyKet,\n  onCopyImage,\n  onCut,\n  onPaste,\n  currentZoom,\n  onZoom,\n  onZoomIn,\n  onZoomOut,\n  onSettingsOpen,\n  onLayout,\n  onClean,\n  onAromatize,\n  onDearomatize,\n  onCalculate,\n  onCheck,\n  onAnalyse,\n  onMiew,\n  onFullscreen,\n  onAbout,\n  onHelp\n}: PanelProps) => {\n  const { ref: resizeRef, width = 50 } = useResizeObserver<HTMLDivElement>()\n\n  return (\n    <ControlsPanel className={className} ref={resizeRef}>\n      <IconButton\n        title=\"Clear Canvas\"\n        onClick={onClear}\n        iconName=\"clear\"\n        shortcut={shortcuts.clear}\n        isHidden={hiddenButtons.includes('clear')}\n      />\n      <FileControls\n        onFileOpen={onFileOpen}\n        onSave={onSave}\n        shortcuts={shortcuts}\n        hiddenButtons={hiddenButtons}\n      />\n      <ClipboardControls\n        onCopy={onCopy}\n        onCopyMol={onCopyMol}\n        onCopyKet={onCopyKet}\n        onCopyImage={onCopyImage}\n        onPaste={onPaste}\n        onCut={onCut}\n        shortcuts={shortcuts}\n        disabledButtons={disabledButtons}\n        hiddenButtons={hiddenButtons}\n      />\n      <UndoRedo\n        onUndo={onUndo}\n        onRedo={onRedo}\n        disabledButtons={disabledButtons}\n        hiddenButtons={hiddenButtons}\n        shortcuts={shortcuts}\n      />\n      <ExternalFuncControls\n        onLayout={onLayout}\n        onClean={onClean}\n        onAromatize={onAromatize}\n        onDearomatize={onDearomatize}\n        onCalculate={onCalculate}\n        onCheck={onCheck}\n        onAnalyse={onAnalyse}\n        onMiew={onMiew}\n        disabledButtons={disabledButtons}\n        hiddenButtons={hiddenButtons}\n        shortcuts={shortcuts}\n        indigoVerification={indigoVerification}\n        isCollapsed={width < collapseLimit}\n      />\n      <SystemControls\n        onHistoryClick={() => {\n          console.log('History button clicked') // @TODO Implement handler when History log is ready\n        }}\n        onSettingsOpen={onSettingsOpen}\n        onFullscreen={onFullscreen}\n        onHelp={onHelp}\n        onAboutOpen={onAbout}\n        disabledButtons={disabledButtons}\n        hiddenButtons={hiddenButtons}\n      />\n      <Divider />\n      {!hiddenButtons.includes('zoom-list') && (\n        <ZoomControls\n          currentZoom={currentZoom || 1}\n          onZoomIn={onZoomIn}\n          onZoomOut={onZoomOut}\n          onZoom={onZoom}\n          shortcuts={shortcuts}\n          disabledButtons={disabledButtons}\n          hiddenButtons={hiddenButtons}\n        />\n      )}\n    </ControlsPanel>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { TopToolbar } from './TopToolbar'\n\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../state'\nimport action from 'src/script/ui/action/index.js'\nimport { shortcutStr } from '../shortcutStr'\nimport { removeStructAction } from 'src/script/ui/state/shared'\n\nconst shortcuts = Object.keys(action).reduce((acc, key) => {\n  if (action[key]?.shortcut) {\n    const shortcut = action[key].shortcut\n    const processedShortcut = shortcutStr(shortcut)\n    acc[key] = processedShortcut\n  }\n  return acc\n}, {})\n\nconst mapStateToProps = (state: any) => {\n  const actionState = state.actionState || {}\n\n  const disabledButtons = Object.keys(actionState).reduce(\n    (acc: string[], item) => {\n      if (actionState[item]?.disabled) {\n        acc.push(item)\n      }\n      return acc\n    },\n    []\n  )\n\n  const hiddenButtons = Object.keys(actionState).reduce(\n    (acc: string[], item) => {\n      if (actionState[item]?.hidden) {\n        acc.push(item)\n      }\n      return acc\n    },\n    []\n  )\n\n  return {\n    currentZoom: Math.round(state.actionState?.zoom?.selected * 100),\n    disabledButtons,\n    hiddenButtons,\n    shortcuts,\n    status: state.actionState || {},\n    opened: state.toolbar.opened,\n    indigoVerification: state.requestsStatuses.indigoVerification,\n    disableableButtons: [\n      'layout',\n      'clean',\n      'arom',\n      'dearom',\n      'cip',\n      'enhanced-stereo'\n    ]\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  const dispatchAction = (actionName) => {\n    dispatch(onAction(action[actionName].action))\n  }\n\n  return {\n    onClear: () => dispatchAction('clear'),\n    onFileOpen: () => dispatchAction('open'),\n    onSave: () => {\n      dispatch(removeStructAction())\n      dispatchAction('save')\n    },\n    onUndo: () => dispatchAction('undo'),\n    onRedo: () => dispatchAction('redo'),\n    onCopy: () => dispatchAction('copy'),\n    onCopyMol: () => dispatchAction('copy-mol'),\n    onCopyKet: () => dispatchAction('copy-ket'),\n    onCopyImage: () => dispatchAction('copy-image'),\n    onCut: () => dispatchAction('cut'),\n    onPaste: () => dispatchAction('paste'),\n    onZoomIn: () => dispatchAction('zoom-in'),\n    onZoomOut: () => dispatchAction('zoom-out'),\n    onZoom: (zoomValue: number) =>\n      dispatch(onAction((editor) => editor.zoom(zoomValue / 100))),\n    onSettingsOpen: () => dispatchAction('settings'),\n    onLayout: () => dispatchAction('layout'),\n    onClean: () => dispatchAction('clean'),\n    onAromatize: () => dispatchAction('arom'),\n    onDearomatize: () => dispatchAction('dearom'),\n    onCalculate: () => dispatchAction('cip'),\n    onCheck: () => dispatchAction('check'),\n    onAnalyse: () => dispatchAction('analyse'),\n    onMiew: () => dispatchAction('miew'),\n    onAction: (action) => dispatch(onAction(action)),\n    onOpen: (menuName, isSelected) =>\n      dispatch({\n        type: 'OPENED',\n        data: { menuName, isSelected }\n      }),\n    onFullscreen: () => dispatchAction('fullscreen'),\n    onHelp: () => dispatchAction('help'),\n    onAbout: () => dispatchAction('about')\n  }\n}\n\nconst TopToolbarContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TopToolbar)\n\nexport { TopToolbarContainer }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport * as KN from 'w3c-keyname'\n\nconst mac =\n  typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false // eslint-disable-line no-undef\n\nfunction normalizeKeyName(name) {\n  const parts = name.split(/\\+(?!$)/)\n  let result = parts[parts.length - 1]\n  if (result === 'Space') result = ' '\n  let alt\n  let ctrl\n  let shift\n  let meta\n\n  for (let i = 0; i < parts.length - 1; i++) {\n    const mod = parts[i]\n    if (/^(cmd|meta|m)$/i.test(mod)) meta = true\n    else if (/^a(lt)?$/i.test(mod)) alt = true\n    else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true\n    else if (/^s(hift)?$/i.test(mod)) shift = true\n    else if (/^mod$/i.test(mod))\n      if (mac) meta = true\n      else ctrl = true\n    else throw new Error('Unrecognized modifier name: ' + mod)\n  }\n\n  if (alt) result = 'Alt+' + result\n  if (ctrl) result = 'Ctrl+' + result\n  if (meta) result = 'Meta+' + result\n  if (shift) result = 'Shift+' + result\n\n  return result\n}\n\nfunction normalizeKeyMap(map) {\n  const copy = Object.create(null)\n\n  Object.keys(map).forEach((prop) => {\n    copy[normalizeKeyName(prop)] = map[prop]\n  })\n\n  return copy\n}\n\nfunction modifiers(name, event, shift) {\n  if (event.altKey) name = 'Alt+' + name\n  if (event.ctrlKey) name = 'Ctrl+' + name\n  if (event.metaKey) name = 'Meta+' + name\n  if (shift !== false && event.shiftKey) name = 'Shift+' + name\n\n  return name\n}\n\nfunction rusToEng(name, event) {\n  return name\n    .replace(/[а-я]/, KN.base[event.keyCode])\n    .replace(/[А-Я]/, KN.shift[event.keyCode])\n}\n\nfunction normalizeKeyEvent(event, base = false) {\n  const name = rusToEng(KN.keyName(event), event)\n  const isChar = name.length === 1 && name !== ' '\n\n  return isChar && !base\n    ? modifiers(name, event, !isChar)\n    : modifiers(KN.base[event.keyCode], event, true)\n}\n\nfunction keyNorm(obj) {\n  if (obj instanceof KeyboardEvent)\n    // eslint-disable-line no-undef\n    return normalizeKeyEvent(...arguments) // eslint-disable-line prefer-rest-params\n\n  return typeof obj === 'object' ? normalizeKeyMap(obj) : normalizeKeyName(obj)\n}\n\nfunction lookup(map, event) {\n  let name = rusToEng(KN.keyName(event), event)\n  if (name === 'Add') name = '+' // numpad '+' and '-'\n  if (name === 'Subtract') name = '-'\n\n  const isChar = name.length === 1 && name !== ' '\n  let res = map[modifiers(name, event, !isChar)]\n  let baseName\n\n  if (event.shiftKey && isChar && (baseName = KN.base[event.keyCode]))\n    res = map[modifiers(baseName, event, true)] || res\n\n  return res\n}\n\nkeyNorm.lookup = lookup\n\nexport default keyNorm\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FunctionalGroup, Vec2 } from 'ketcher-core'\n\nfunction getElementsInRectangle(restruct, p0, p1) {\n  const bondList: Array<number> = []\n  const atomList: Array<number> = []\n  const sGroups = restruct.sgroups\n  const functionalGroups = restruct.molecule.functionalGroups\n\n  const x0 = Math.min(p0.x, p1.x)\n  const x1 = Math.max(p0.x, p1.x)\n  const y0 = Math.min(p0.y, p1.y)\n  const y1 = Math.max(p0.y, p1.y)\n\n  restruct.bonds.forEach((bond, bid) => {\n    const centre = Vec2.lc2(\n      restruct.atoms.get(bond.b.begin).a.pp,\n      0.5,\n      restruct.atoms.get(bond.b.end).a.pp,\n      0.5\n    )\n    if (\n      centre.x > x0 &&\n      centre.x < x1 &&\n      centre.y > y0 &&\n      centre.y < y1 &&\n      !FunctionalGroup.isBondInContractedFunctionalGroup(\n        bond.b,\n        sGroups,\n        functionalGroups\n      )\n    ) {\n      bondList.push(bid)\n    }\n  })\n\n  restruct.atoms.forEach((atom, aid) => {\n    const relatedFGId = FunctionalGroup.findFunctionalGroupByAtom(\n      functionalGroups,\n      aid\n    )\n    const sGroup = restruct.sgroups.get(relatedFGId)\n    if (\n      atom.a.pp.x > x0 &&\n      atom.a.pp.x < x1 &&\n      atom.a.pp.y > y0 &&\n      atom.a.pp.y < y1 &&\n      (!FunctionalGroup.isAtomInContractedFunctionalGroup(\n        atom.a,\n        sGroups,\n        functionalGroups,\n        true\n      ) ||\n        aid === sGroup.item.atoms[0])\n    ) {\n      atomList.push(aid)\n    }\n  })\n\n  const rxnArrowsList: Array<number> = []\n  const rxnPlusesList: Array<number> = []\n  const simpleObjectsList: Array<number> = []\n\n  restruct.rxnArrows.forEach((item, id) => {\n    if (\n      item.item.center().x > x0 &&\n      item.item.center().x < x1 &&\n      item.item.center().y > y0 &&\n      item.item.center().y < y1\n    ) {\n      rxnArrowsList.push(id)\n    }\n  })\n\n  restruct.rxnPluses.forEach((item, id) => {\n    if (\n      item.item.pp.x > x0 &&\n      item.item.pp.x < x1 &&\n      item.item.pp.y > y0 &&\n      item.item.pp.y < y1\n    ) {\n      rxnPlusesList.push(id)\n    }\n  })\n\n  restruct.simpleObjects.forEach((item, id) => {\n    const referencePoints = item.getReferencePoints(true)\n    const referencePointInRectangle = referencePoints.find(\n      (point) => point.x > x0 && point.x < x1 && point.y > y0 && point.y < y1\n    )\n    if (referencePointInRectangle) {\n      simpleObjectsList.push(id)\n    }\n  })\n\n  const enhancedFlagList: Array<number> = []\n  restruct.enhancedFlags.forEach((item, id) => {\n    if (!item.pp) return\n    if (item.pp.x > x0 && item.pp.x < x1 && item.pp.y > y0 && item.pp.y < y1) {\n      enhancedFlagList.push(id)\n    }\n  })\n\n  const sgroupDataList: Array<number> = []\n  restruct.sgroupData.forEach((item, id) => {\n    if (\n      item.sgroup.pp.x > x0 &&\n      item.sgroup.pp.x < x1 &&\n      item.sgroup.pp.y > y0 &&\n      item.sgroup.pp.y < y1\n    ) {\n      sgroupDataList.push(id)\n    }\n  })\n\n  const textsList: Array<number> = []\n  restruct.texts.forEach((item, id) => {\n    const referencePoints = item.getReferencePoints()\n    const referencePointInRectangle = referencePoints.find((point) => {\n      return point.x > x0 && point.x < x1 && point.y > y0 && point.y < y1\n    })\n\n    if (referencePointInRectangle) {\n      textsList.push(id)\n    }\n  })\n\n  return {\n    atoms: atomList,\n    bonds: bondList,\n    rxnArrows: rxnArrowsList,\n    rxnPluses: rxnPlusesList,\n    enhancedFlags: enhancedFlagList,\n    sgroupData: sgroupDataList,\n    simpleObjects: simpleObjectsList,\n    texts: textsList\n  }\n}\n\nfunction getElementsInPolygon(restruct, rr) {\n  // eslint-disable-line max-statements\n  const bondList: Array<number> = []\n  const atomList: Array<number> = []\n  const r: any = []\n  const sGroups = restruct.sgroups\n  const functionalGroups = restruct.molecule.functionalGroups\n\n  for (let i = 0; i < rr.length; ++i) {\n    r[i] = new Vec2(rr[i].x, rr[i].y)\n  }\n\n  restruct.bonds.forEach((bond, bid) => {\n    const centre = Vec2.lc2(\n      restruct.atoms.get(bond.b.begin).a.pp,\n      0.5,\n      restruct.atoms.get(bond.b.end).a.pp,\n      0.5\n    )\n    if (\n      isPointInPolygon(r, centre) &&\n      !FunctionalGroup.isBondInContractedFunctionalGroup(\n        bond.b,\n        sGroups,\n        functionalGroups\n      )\n    ) {\n      bondList.push(bid)\n    }\n  })\n\n  restruct.atoms.forEach((atom, aid) => {\n    const relatedFGId = FunctionalGroup.findFunctionalGroupByAtom(\n      functionalGroups,\n      aid\n    )\n    const sGroup = restruct.sgroups.get(relatedFGId)\n    if (\n      isPointInPolygon(r, atom.a.pp) &&\n      (!FunctionalGroup.isAtomInContractedFunctionalGroup(\n        atom.a,\n        sGroups,\n        functionalGroups,\n        true\n      ) ||\n        aid === sGroup.item.atoms[0])\n    ) {\n      atomList.push(aid)\n    }\n  })\n\n  const rxnArrowsList: Array<number> = []\n  const rxnPlusesList: Array<number> = []\n  const simpleObjectsList: Array<number> = []\n  const textsList: Array<number> = []\n\n  restruct.rxnArrows.forEach((item, id) => {\n    const referencePoints = item.getReferencePoints(true)\n    const referencePointInPolygon = referencePoints.find((point) =>\n      isPointInPolygon(r, point)\n    )\n    if (referencePointInPolygon) {\n      rxnArrowsList.push(id)\n    }\n  })\n\n  restruct.rxnPluses.forEach((item, id) => {\n    if (isPointInPolygon(r, item.item.pp)) {\n      rxnPlusesList.push(id)\n    }\n  })\n\n  restruct.simpleObjects.forEach((item, id) => {\n    const referencePoints = item.getReferencePoints(true)\n    const referencePointInPolygon = referencePoints.find((point) =>\n      isPointInPolygon(r, point)\n    )\n    if (referencePointInPolygon) {\n      simpleObjectsList.push(id)\n    }\n  })\n\n  restruct.texts.forEach((item, id) => {\n    const referencePoints = item.getReferencePoints()\n    const referencePointInPolygon = referencePoints.find((point) =>\n      isPointInPolygon(r, point)\n    )\n\n    if (referencePointInPolygon) {\n      textsList.push(id)\n    }\n  })\n\n  const enhancedFlagList: Array<number> = []\n  restruct.enhancedFlags.forEach((item, id) => {\n    if (item.pp && isPointInPolygon(r, item.pp)) {\n      enhancedFlagList.push(id)\n    }\n  })\n\n  const sgroupDataList: Array<number> = []\n  restruct.sgroupData.forEach((item, id) => {\n    if (isPointInPolygon(r, item.sgroup.pp)) {\n      sgroupDataList.push(id)\n    }\n  })\n\n  return {\n    atoms: atomList,\n    bonds: bondList,\n    rxnArrows: rxnArrowsList,\n    rxnPluses: rxnPlusesList,\n    enhancedFlags: enhancedFlagList,\n    sgroupData: sgroupDataList,\n    simpleObjects: simpleObjectsList,\n    texts: textsList\n  }\n}\n\n// TODO: test me see testPolygon from\n// 'Remove unused methods from render' commit\nfunction isPointInPolygon(r, p) {\n  // eslint-disable-line max-statements\n  const d = new Vec2(0, 1)\n  const n = d.rotate(Math.PI / 2)\n  let v0 = Vec2.diff(r[r.length - 1], p)\n  let n0 = Vec2.dot(n, v0)\n  let d0 = Vec2.dot(d, v0)\n  let w0 = new Vec2(0, 0)\n  let counter = 0\n  const eps = 1e-5\n  let flag1 = false\n  let flag0 = false\n\n  for (let i = 0; i < r.length; ++i) {\n    const v1 = Vec2.diff(r[i], p)\n    const w1 = Vec2.diff(v1, v0)\n    const n1 = Vec2.dot(n, v1)\n    const d1 = Vec2.dot(d, v1)\n    flag1 = false\n    if (n1 * n0 < 0) {\n      if (d1 * d0 > -eps) {\n        if (d0 > -eps) flag1 = true\n        /* eslint-disable no-mixed-operators */\n      } else if (\n        (Math.abs(n0) * Math.abs(d1) - Math.abs(n1) * Math.abs(d0)) * d1 >\n        0\n      ) {\n        /* eslint-enable no-mixed-operators */\n        flag1 = true\n      }\n    }\n    if (flag1 && flag0 && Vec2.dot(w1, n) * Vec2.dot(w0, n) >= 0) {\n      flag1 = false\n    }\n    if (flag1) {\n      counter++\n    }\n    v0 = v1\n    n0 = n1\n    d0 = d1\n    w0 = w1\n    flag0 = flag1\n  }\n  return counter % 2 !== 0\n}\n\nexport default {\n  inRectangle: getElementsInRectangle,\n  inPolygon: getElementsInPolygon\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Scale } from 'ketcher-core'\nimport locate from './locate'\nimport Editor from '../../Editor'\n\nclass LassoHelper {\n  mode: any\n  editor: Editor\n  fragment: any\n  points: any\n  selection: any\n\n  constructor(mode, editor, fragment) {\n    this.mode = mode\n    this.fragment = fragment\n    this.editor = editor\n  }\n\n  getSelection() {\n    const rnd = this.editor.render\n\n    if (this.mode === 0) {\n      return locate.inPolygon(rnd.ctab, this.points)\n    }\n\n    if (this.mode === 1) {\n      return locate.inRectangle(rnd.ctab, this.points[0], this.points[1])\n    }\n\n    throw new Error('Selector mode unknown') // eslint-disable-line no-else-return\n  }\n\n  begin(event) {\n    const rnd = this.editor.render\n    this.points = [rnd.page2obj(event)]\n    if (this.mode === 1) {\n      this.points.push(this.points[0])\n    }\n  }\n\n  running() {\n    return !!this.points\n  }\n\n  addPoint(event) {\n    if (!this.points) {\n      return null\n    }\n\n    const rnd = this.editor.render\n\n    if (this.mode === 0) {\n      this.points.push(rnd.page2obj(event))\n    } else if (this.mode === 1) {\n      this.points = [this.points[0], rnd.page2obj(event)]\n    }\n\n    this.update()\n    return this.getSelection()\n  }\n\n  update() {\n    if (this.selection) {\n      this.selection.remove()\n      this.selection = null\n    }\n\n    if (this.points && this.points.length > 1) {\n      const rnd = this.editor.render\n      const dp = this.points.map((p) =>\n        Scale.obj2scaled(p, rnd.options).add(rnd.options.offset)\n      )\n      this.selection =\n        this.mode === 0\n          ? rnd.selectionPolygon(dp)\n          : rnd.selectionRectangle(dp[0], dp[1])\n    }\n  }\n\n  end() {\n    const ret = this.getSelection()\n    this.points = null\n    this.update()\n    return ret\n  }\n\n  cancel() {\n    this.points = null\n    this.update()\n  }\n}\n\nexport default LassoHelper\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Vec2, fracAngle, Struct, FunctionalGroup } from 'ketcher-core'\n\nimport { inRange } from 'lodash'\n\nfunction calcAngle(pos0, pos1) {\n  const v = Vec2.diff(pos1, pos0)\n  return Math.atan2(v.y, v.x)\n}\n\nfunction calcNewAtomPos(pos0, pos1, ctrlKey) {\n  const v = new Vec2(1, 0).rotate(\n    ctrlKey ? calcAngle(pos0, pos1) : fracAngle(pos0, pos1)\n  )\n  v.add_(pos0) // eslint-disable-line no-underscore-dangle\n  return v\n}\n\nfunction degrees(angle) {\n  let degree = Math.round((angle / Math.PI) * 180)\n  if (degree > 180) degree -= 360\n  else if (degree <= -180) degree += 360\n  return degree\n}\n\nconst BONDS_MERGE_ANGLE = 10 // 'º'\nconst BONDS_MERGE_SCALE = 0.2\n\nfunction mergeBondsParams(struct1, bond1, struct2, bond2) {\n  const begin1 = struct1.atoms.get(bond1.begin)\n  const begin2 = struct2.atoms.get(bond2.begin)\n  const end1 = struct1.atoms.get(bond1.end)\n  const end2 = struct2.atoms.get(bond2.end)\n\n  const angle = calcAngle(begin1.pp, end1.pp) - calcAngle(begin2.pp, end2.pp)\n  const mergeAngle = Math.abs(degrees(angle) % 180)\n\n  const scale = Vec2.dist(begin1.pp, end1.pp) / Vec2.dist(begin2.pp, end2.pp)\n\n  const merged =\n    !inRange(mergeAngle, BONDS_MERGE_ANGLE, 180 - BONDS_MERGE_ANGLE) &&\n    inRange(scale, 1 - BONDS_MERGE_SCALE, 1 + BONDS_MERGE_SCALE)\n\n  return { merged, angle, scale, cross: Math.abs(degrees(angle)) > 90 }\n}\n\n/**\n * Get all items IDs that do not belong to sgroups\n * @param items {{ atoms?: number[]; bonds?: number[] } | null}\n * @param struct {Struct}\n * @returns {{ atoms: number[], bonds: number[] }}\n */\nfunction getOnlyNonGroupItems(items, struct) {\n  const atoms =\n    items.atoms?.filter((key) => struct.getGroupIdFromAtomId(key) === null) ||\n    []\n  const bonds =\n    items.bonds?.filter((key) => struct.getGroupIdFromBondId(key) === null) ||\n    []\n\n  return { atoms, bonds }\n}\n\n/**\n * Get all items IDs that do not belong to sgroups (except their attachment points)\n * @param items {{ atoms?: number[]; bonds?: number[] } | null}\n * @param struct {Struct}\n * @returns {{ atoms: number[], bonds: number[] }}\n */\nfunction getNonGroupItemsAndAttachmentPoints(items, struct) {\n  const atoms =\n    items.atoms?.filter(\n      (key) =>\n        struct.getGroupIdFromAtomId(key) === null ||\n        FunctionalGroup.isAttachmentPointAtom(key, struct)\n    ) || []\n  const bonds =\n    items.bonds?.filter((key) => struct.getGroupIdFromBondId(key) === null) ||\n    []\n\n  return { atoms, bonds }\n}\n\nexport default {\n  calcAngle,\n  fracAngle,\n  calcNewAtomPos,\n  degrees,\n  mergeBondsParams,\n  getOnlyNonGroupItems,\n  getNonGroupItemsAndAttachmentPoints\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Action,\n  Atom,\n  Bond,\n  FunctionalGroup,\n  SGroup,\n  fromAtomAddition,\n  fromAtomsAttrs,\n  fromBondAddition,\n  fromFragmentDeletion,\n  fromSgroupDeletion,\n  ElementColor\n} from 'ketcher-core'\n\nimport Editor from '../Editor'\nimport utils from '../shared/utils'\nimport { Tool } from './Tool'\n\nclass AtomTool implements Tool {\n  private readonly editor: Editor\n  private readonly atomProps: any\n  private dragCtx: any\n  readonly #bondProps: { stereo: number; type: number }\n  isNotActiveTool: boolean | undefined\n\n  constructor(editor, atomProps) {\n    this.editor = editor\n    this.atomProps = atomProps\n    this.#bondProps = { type: 1, stereo: Bond.PATTERN.STEREO.NONE }\n\n    const editorSelection = editor.selection()\n\n    if (editorSelection) {\n      if (editorSelection.atoms) {\n        const action = fromAtomsAttrs(\n          editor.render.ctab,\n          editorSelection.atoms,\n          atomProps,\n          true\n        )\n        editor.update(action)\n        editor.selection(null)\n      }\n\n      this.isNotActiveTool = true\n    } else {\n      this.editor.hoverIcon.show()\n      this.editor.hoverIcon.label = atomProps.label\n      this.editor.hoverIcon.fill = ElementColor[atomProps.label] ?? '#000000'\n      this.editor.hoverIcon.updatePosition()\n    }\n  }\n\n  mousedown(event) {\n    const {\n      editor,\n      editor: {\n        render: {\n          ctab: {\n            molecule,\n            molecule: { functionalGroups }\n          }\n        }\n      }\n    } = this\n\n    editor.hover(null)\n    editor.selection(null)\n\n    const eventMaps = ['atoms', 'functionalGroups']\n    const ci = editor.findItem(event, eventMaps)\n\n    if (ci?.map === 'atoms') {\n      const atomId = ci.id\n\n      const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n        functionalGroups,\n        atomId\n      )\n\n      if (fgId !== null) {\n        editor.event.removeFG.dispatch({ fgIds: [fgId] })\n        return\n      }\n    }\n\n    const ciFunctionalGroupName =\n      ci?.map === 'functionalGroups'\n        ? molecule.sgroups.get(ci?.id)?.data.name\n        : undefined\n    const isSaltOrSolvent = ciFunctionalGroupName\n      ? SGroup.isSaltOrSolvent(ciFunctionalGroupName)\n      : false\n\n    this.dragCtx = {\n      item: ci,\n      isSaltOrSolvent\n    }\n  }\n\n  mousemove(event) {\n    const {\n      dragCtx,\n      atomProps,\n      editor,\n      editor: {\n        render: rnd,\n        render: {\n          ctab: reStruct,\n          ctab: { molecule }\n        }\n      }\n    } = this\n\n    const eventMaps = ['atoms', 'functionalGroups']\n    const ci = editor.findItem(event, eventMaps)\n\n    if (\n      !dragCtx?.item ||\n      dragCtx?.isSaltOrSolvent ||\n      (ci?.id !== undefined && ci.id === dragCtx.item.id)\n    ) {\n      editor.hoverIcon.show()\n      editor.hoverIcon.updatePosition()\n      editor.hover(editor.findItem(event, eventMaps), null, event)\n\n      if (dragCtx?.action) {\n        const action = dragCtx.action.perform(reStruct)\n\n        delete dragCtx.action\n\n        editor.update(action, true)\n      }\n\n      return\n    }\n\n    editor.hoverIcon.hide()\n\n    let atomId: number | undefined\n    if (dragCtx.item.map === 'atoms') {\n      atomId = dragCtx.item.id\n    } else if (dragCtx.item.map === 'functionalGroups') {\n      const sGroup = molecule.sgroups.get(dragCtx.item.id)\n      const attachmentAtomId = sGroup?.getAttAtomId(molecule)\n      atomId = attachmentAtomId\n    }\n\n    if (atomId !== undefined) {\n      const atom = molecule.atoms.get(atomId)\n      let angle = utils.calcAngle(atom?.pp, rnd.page2obj(event))\n      if (!event.ctrlKey) angle = utils.fracAngle(angle, null)\n      const degrees = utils.degrees(angle)\n      editor.event.message.dispatch({ info: degrees + 'º' })\n      const newAtomPos = utils.calcNewAtomPos(\n        atom?.pp,\n        rnd.page2obj(event),\n        event.ctrlKey\n      )\n\n      if (dragCtx.action) {\n        dragCtx.action.perform(reStruct)\n      }\n\n      dragCtx.action = fromBondAddition(\n        rnd.ctab,\n        this.#bondProps,\n        atomId,\n        Object.assign({}, atomProps),\n        undefined,\n        newAtomPos\n      )[0]\n\n      editor.update(dragCtx.action, true)\n    }\n  }\n\n  mouseup(event) {\n    const {\n      dragCtx,\n      atomProps,\n      editor,\n      editor: {\n        render: rnd,\n        render: {\n          ctab: reStruct,\n          ctab: {\n            molecule,\n            molecule: { functionalGroups }\n          }\n        }\n      }\n    } = this\n\n    const ci = editor.findItem(event, ['atoms', 'bonds', 'functionalGroups'])\n    const action = new Action()\n\n    if ((!dragCtx.item || dragCtx?.isSaltOrSolvent) && !ci) {\n      action.mergeWith(\n        fromAtomAddition(reStruct, rnd.page2obj(event), atomProps)\n      )\n    } else if (dragCtx.item && ci) {\n      if (dragCtx.item.id === ci.id) {\n        if (\n          ci.map === 'functionalGroups' &&\n          FunctionalGroup.isContractedFunctionalGroup(ci.id, functionalGroups)\n        ) {\n          const sGroup = molecule.sgroups.get(ci.id)\n          const attachmentAtomId = sGroup?.getAttAtomId(molecule)\n\n          if (attachmentAtomId !== undefined) {\n            const atomsToDelete = [...SGroup.getAtoms(molecule, sGroup)].filter(\n              (atomId) => atomId !== attachmentAtomId\n            )\n            const bondsToDelete = [...SGroup.getBonds(molecule, sGroup)]\n            action.mergeWith(fromSgroupDeletion(reStruct, ci.id))\n            action.mergeWith(\n              fromFragmentDeletion(reStruct, {\n                atoms: atomsToDelete,\n                bonds: bondsToDelete\n              })\n            )\n            action.mergeWith(\n              fromAtomsAttrs(reStruct, attachmentAtomId, atomProps, true)\n            )\n          }\n        } else if (ci.map === 'atoms') {\n          const atomId = ci.id\n\n          if (\n            dragCtx.action === undefined &&\n            FunctionalGroup.atomsInFunctionalGroup(functionalGroups, atomId) ===\n              null\n          ) {\n            action.mergeWith(fromAtomsAttrs(reStruct, atomId, atomProps, true))\n          }\n        }\n      }\n    }\n\n    editor.event.message.dispatch({\n      info: false\n    })\n    editor.hover(\n      this.editor.findItem(event, ['atoms', 'functionalGroups']),\n      null,\n      event\n    )\n\n    delete this.dragCtx\n\n    editor.update(dragCtx.action ? action.mergeWith(dragCtx.action) : action)\n  }\n}\n\nexport function atomLongtapEvent(tool, render) {\n  const { dragCtx, editor } = tool\n  const atomid = dragCtx.item?.id\n  const fgs = render.ctab.molecule.functionalGroups\n  // edit atom or add atom\n  const atom =\n    atomid !== undefined && atomid !== null\n      ? render.ctab.molecule.atoms.get(atomid)\n      : new Atom({ label: '' })\n  const fgId = FunctionalGroup.findFunctionalGroupByAtom(fgs, atomid)\n  // TODO: longtab event\n  dragCtx.timeout = setTimeout(() => {\n    delete tool.dragCtx\n    if (fgId != null) {\n      editor.event.removeFG.dispatch({ fgIds: [fgId] })\n      return\n    }\n    editor.selection(null)\n    const res = editor.event.quickEdit.dispatch(atom)\n    Promise.resolve(res)\n      .then((newatom) => {\n        const action = atomid\n          ? fromAtomsAttrs(render.ctab, atomid, newatom, null)\n          : fromAtomAddition(render.ctab, dragCtx.xy0, newatom)\n        editor.update(action)\n      })\n      .catch(() => null) // w/o changes\n  }, 750)\n\n  dragCtx.stopTapping = function () {\n    if (dragCtx.timeout) {\n      clearTimeout(dragCtx.timeout)\n      delete dragCtx.timeout\n    }\n  }\n}\n\nexport default AtomTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Pile,\n  SgContexts,\n  checkOverlapping,\n  fromSeveralSgroupAddition,\n  fromSgroupAction,\n  fromSgroupDeletion,\n  FunctionalGroup,\n  SGroup,\n  Pool,\n  expandSGroupWithMultipleAttachmentPoint\n} from 'ketcher-core'\n\nimport LassoHelper from './helper/lasso'\nimport { isEqual } from 'lodash/fp'\nimport { selMerge } from './select'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nconst searchMaps = [\n  'atoms',\n  'bonds',\n  'sgroups',\n  'functionalGroups',\n  'sgroupData'\n]\n\nclass SGroupTool implements Tool {\n  private readonly editor: Editor\n  private readonly lassoHelper: any\n  isNotActiveTool: boolean | undefined\n\n  constructor(editor) {\n    this.editor = editor\n    this.lassoHelper = new LassoHelper(1, editor, null)\n\n    this.checkSelection()\n  }\n\n  checkSelection() {\n    const selection = this.editor.selection() || {}\n\n    if (selection.atoms && selection.bonds) {\n      const selectedAtoms = this.editor.selection()?.atoms\n      const struct = this.editor.render.ctab\n      const molecule = struct.molecule\n      const sgroups: Pool<SGroup> = molecule.sgroups\n      const newSelected: { atoms: Array<any>; bonds: Array<any> } = {\n        atoms: [],\n        bonds: []\n      }\n      let actualSgroupId\n      let atomsResult: Array<number> = []\n      let extraAtoms\n      const functionalGroups = molecule.functionalGroups\n      const result: Array<number> = []\n\n      const id = sgroups.find((_, sgroup) =>\n        isEqual(sgroup.atoms, selectedAtoms)\n      )\n\n      if (selectedAtoms && functionalGroups.size) {\n        for (const atom of selectedAtoms) {\n          const atomId = FunctionalGroup.atomsInFunctionalGroup(\n            functionalGroups,\n            atom\n          )\n\n          if (atomId == null) {\n            extraAtoms = true\n          }\n\n          const atomFromStruct = atomId !== null && struct.atoms.get(atomId)?.a\n\n          if (atomFromStruct) {\n            for (const sgId of atomFromStruct.sgs.values()) {\n              actualSgroupId = sgId\n            }\n          }\n\n          if (\n            atomFromStruct &&\n            (FunctionalGroup.isAtomInContractedFunctionalGroup(\n              atomFromStruct,\n              sgroups,\n              functionalGroups,\n              false\n            ) ||\n              SGroup.isAtomInContractedSGroup(atomFromStruct, sgroups))\n          ) {\n            const sgroupAtoms =\n              actualSgroupId !== undefined &&\n              SGroup.getAtoms(molecule, sgroups.get(actualSgroupId))\n            const sgroupBonds =\n              actualSgroupId !== undefined &&\n              SGroup.getBonds(molecule, sgroups.get(actualSgroupId))\n            atom === sgroupAtoms[0] &&\n              newSelected.atoms.push(...(sgroupAtoms as Array<any>)) &&\n              newSelected.bonds.push(...(sgroupBonds as Array<any>))\n          }\n\n          if (atomFromStruct) {\n            atomsResult.push(atomId)\n          }\n        }\n      }\n\n      if (extraAtoms) {\n        atomsResult = []\n      }\n\n      if (atomsResult && atomsResult.length > 0) {\n        for (const id of atomsResult) {\n          const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n            functionalGroups,\n            id\n          )\n\n          if (fgId !== null && !result.includes(fgId)) {\n            result.push(fgId)\n          }\n        }\n      }\n\n      if (result.length) {\n        this.editor.selection(null)\n        this.editor.event.removeFG.dispatch({ fgIds: result })\n        return\n      }\n\n      SGroupTool.sgroupDialog(this.editor, id ?? null)\n      this.isNotActiveTool = true\n    }\n  }\n\n  mousedown(event) {\n    const ci = this.editor.findItem(event, searchMaps)\n    const struct = this.editor.render.ctab\n    const sgroups = struct.sgroups\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n      const atomFromStruct = atomId !== null && struct.atoms.get(atomId)?.a\n\n      if (\n        atomFromStruct &&\n        !(\n          FunctionalGroup.isAtomInContractedFunctionalGroup(\n            atomFromStruct,\n            sgroups,\n            functionalGroups,\n            true\n          ) || SGroup.isAtomInContractedSGroup(atomFromStruct, sgroups)\n        )\n      ) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (ci && functionalGroups.size && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n      const bondFromStruct = bondId !== null && struct.bonds.get(bondId)?.b\n\n      if (\n        bondFromStruct &&\n        !(\n          FunctionalGroup.isBondInContractedFunctionalGroup(\n            bondFromStruct,\n            sgroups,\n            functionalGroups\n          ) || SGroup.isBondInContractedSGroup(bondFromStruct, sgroups)\n        )\n      ) {\n        bondResult.push(bondId)\n      }\n    }\n\n    if (ci && functionalGroups.size && ci.map === 'functionalGroups') {\n      const sgroup = sgroups.get(ci.id)\n\n      if (FunctionalGroup.isFunctionalGroup(sgroup?.item)) {\n        this.editor.event.removeFG.dispatch({ fgIds: [ci.id] })\n        return\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      this.lassoHelper.begin(event)\n    }\n  }\n\n  mousemove(event) {\n    if (this.lassoHelper.running(event)) {\n      this.editor.selection(this.lassoHelper.addPoint(event))\n    } else {\n      this.editor.hover(this.editor.findItem(event, searchMaps), null, event)\n    }\n  }\n\n  mouseleave(event) {\n    if (this.lassoHelper.running(event)) {\n      this.lassoHelper.end(event)\n    }\n  }\n\n  mouseup(event) {\n    const struct = this.editor.render.ctab\n    const sgroups = struct.sgroups\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const ci = this.editor.findItem(event, searchMaps)\n    const selected = this.editor.selection()\n    const newSelected: Record<string, Array<any>> = { atoms: [], bonds: [] }\n    let actualSgroupId\n    let atomsResult: Array<number> | null = []\n    let extraAtoms\n    let bondsResult: Array<number> | null = []\n    let extraBonds\n    const result: Array<number> = []\n    if (\n      ci &&\n      ci.map === 'functionalGroups' &&\n      functionalGroups.size &&\n      FunctionalGroup.isContractedFunctionalGroup(ci.id, functionalGroups)\n    )\n      return\n\n    if (selected && functionalGroups.size && selected.atoms) {\n      for (const atom of selected.atoms) {\n        const atomId = FunctionalGroup.atomsInFunctionalGroup(\n          functionalGroups,\n          atom\n        )\n\n        if (atomId == null) {\n          extraAtoms = true\n        }\n\n        const atomFromStruct = atomId !== null && struct.atoms.get(atomId)?.a\n\n        if (atomFromStruct) {\n          for (const sgId of atomFromStruct.sgs.values()) {\n            actualSgroupId = sgId\n          }\n        }\n\n        if (\n          atomFromStruct &&\n          (FunctionalGroup.isAtomInContractedFunctionalGroup(\n            atomFromStruct,\n            sgroups,\n            functionalGroups,\n            true\n          ) ||\n            SGroup.isAtomInContractedSGroup(atomFromStruct, sgroups))\n        ) {\n          const sgroupAtoms =\n            actualSgroupId !== undefined &&\n            SGroup.getAtoms(molecule, struct.sgroups.get(actualSgroupId)?.item)\n          const sgroupBonds =\n            actualSgroupId !== undefined &&\n            SGroup.getBonds(molecule, struct.sgroups.get(actualSgroupId)?.item)\n          atom === sgroupAtoms[0] &&\n            newSelected.atoms.push(...(sgroupAtoms as Array<any>)) &&\n            newSelected.bonds.push(...(sgroupBonds as Array<any>))\n        }\n\n        if (atomFromStruct) {\n          atomsResult.push(atomId)\n        }\n      }\n    }\n\n    if (selected && functionalGroups.size && selected.bonds) {\n      for (const bond of selected.bonds) {\n        const bondId = FunctionalGroup.bondsInFunctionalGroup(\n          molecule,\n          functionalGroups,\n          bond\n        )\n\n        if (bondId === null) {\n          extraBonds = true\n        }\n\n        const bondFromStruct = bondId !== null && struct.bonds.get(bondId)?.b\n        if (bondFromStruct) {\n          bondsResult.push(bondId)\n        }\n      }\n    }\n\n    if (atomsResult.length) {\n      atomsResult.forEach((id) => {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        ) as number\n        const sgroupAtoms = SGroup.getAtoms(\n          molecule,\n          struct.sgroups.get(fgId)?.item\n        )\n        newSelected.atoms.push(...sgroupAtoms)\n      })\n    }\n\n    if (bondsResult.length) {\n      bondsResult.forEach((id) => {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        ) as number\n        const sgroupBonds = SGroup.getBonds(\n          molecule,\n          struct.sgroups.get(fgId)?.item\n        )\n        newSelected.bonds.push(...sgroupBonds)\n      })\n    }\n\n    if (extraAtoms || extraBonds) {\n      atomsResult = null\n      bondsResult = null\n    }\n\n    if (atomsResult && atomsResult.length > 0) {\n      for (const id of atomsResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n    }\n\n    if (bondsResult && bondsResult.length > 0) {\n      for (const id of bondsResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n    }\n\n    if (result.length === 1) {\n      this.editor.selection(null)\n      this.lassoHelper.cancel()\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    let id = null // id of an existing group, if we're editing one\n    let selection: any = null // atoms to include in a newly created group\n\n    if (this.lassoHelper.running(event)) {\n      // TODO it catches more events than needed, to be re-factored\n      selection =\n        newSelected.atoms.length > 0\n          ? selMerge(this.lassoHelper.end(event), newSelected, false)\n          : this.lassoHelper.end(event)\n      this.editor.selection(selection)\n    } else {\n      if (!ci) {\n        // ci.type == 'Canvas'\n        return\n      }\n\n      this.editor.hover(this.editor.findItem(event, searchMaps), null, event)\n      if (ci.map === 'atoms') {\n        // if we click the SGroup tool on a single atom or bond, make a group out of those\n        selection = { atoms: [ci.id] }\n      } else if (ci.map === 'bonds') {\n        const bond = this.editor.render.ctab.bonds.get(ci.id)\n        selection = {\n          atoms: [bond?.b.begin, bond?.b.end],\n          bonds: [ci.id]\n        }\n      } else if (ci.map === 'sgroups' || ci.map === 'sgroupData') {\n        id = ci.id\n      } else {\n        return\n      }\n    }\n\n    const isAtomsOrBondsSelected =\n      selection?.atoms?.length || selection?.bonds?.length\n    // TODO: handle click on an existing group?\n    if (id !== null || isAtomsOrBondsSelected) {\n      this.editor.selection(selection)\n      SGroupTool.sgroupDialog(this.editor, id)\n    }\n  }\n\n  cancel() {\n    if (this.lassoHelper.running()) {\n      this.lassoHelper.end()\n    }\n    this.editor.selection(null)\n  }\n\n  static sgroupDialog(editor, id) {\n    const restruct = editor.render.ctab\n    const struct = restruct.molecule\n    const selection = editor.selection() || {}\n    const sg = id !== null ? struct.sgroups.get(id) : null\n\n    let attrs\n    if (sg) {\n      attrs = sg.getAttrs()\n      if (!attrs.context) attrs.context = getContextBySgroup(restruct, sg.atoms)\n    } else {\n      attrs = {\n        context: getContextBySelection(restruct, selection)\n      }\n    }\n\n    const res = editor.event.sgroupEdit.dispatch({\n      type: sg?.type,\n      attrs\n    })\n\n    Promise.resolve(res)\n      .then((newSg) => {\n        // TODO: check before signal\n        if (\n          newSg.type !== 'DAT' && // when data s-group separates\n          checkOverlapping(struct, selection.atoms || [])\n        ) {\n          editor.event.message.dispatch({\n            error: 'Partial S-group overlapping is not allowed.'\n          })\n        } else {\n          if (\n            !sg &&\n            newSg.type !== 'DAT' &&\n            (!selection.atoms || selection.atoms.length === 0)\n          )\n            return\n\n          const isDataSg = sg && sg.getAttrs().context === newSg.attrs.context\n\n          if (isDataSg) {\n            const action = fromSeveralSgroupAddition(\n              restruct,\n              newSg.type,\n              sg.atoms,\n              newSg.attrs\n            ).mergeWith(fromSgroupDeletion(restruct, id))\n\n            action.mergeWith(expandSGroupWithMultipleAttachmentPoint(restruct))\n\n            editor.update(action)\n            editor.selection(selection)\n            return\n          }\n\n          const result = fromContextType(id, editor, newSg, selection)\n          editor.update(result.action)\n          editor.selection(null)\n        }\n      })\n      .catch(() => null)\n  }\n}\n\nfunction getContextBySgroup(restruct, sgAtoms) {\n  const struct = restruct.molecule\n\n  if (sgAtoms.length === 1) {\n    return SgContexts.Atom\n  }\n\n  if (manyComponentsSelected(restruct, sgAtoms)) {\n    return SgContexts.Multifragment\n  }\n\n  if (singleComponentSelected(restruct, sgAtoms)) {\n    return SgContexts.Fragment\n  }\n\n  const atomSet = new Pile(sgAtoms)\n\n  const sgBonds = Array.from(struct.bonds.values()).filter(\n    (bond: any) => atomSet.has(bond.begin) && atomSet.has(bond.end)\n  )\n\n  return anyChainedBonds(sgBonds) ? SgContexts.Group : SgContexts.Bond\n}\n\nfunction getContextBySelection(restruct, selection) {\n  const struct = restruct.molecule\n\n  if (selection.atoms && !selection.bonds) {\n    return SgContexts.Atom\n  }\n\n  const bonds = selection.bonds.map((bondid) => struct.bonds.get(bondid))\n\n  if (!anyChainedBonds(bonds)) {\n    return SgContexts.Bond\n  }\n\n  selection.atoms = selection.atoms || []\n\n  const atomSet = new Pile(selection.atoms)\n  const allBondsSelected = bonds.every(\n    (bond) => atomSet.has(bond.begin) && atomSet.has(bond.end)\n  )\n\n  if (singleComponentSelected(restruct, selection.atoms) && allBondsSelected) {\n    return SgContexts.Fragment\n  }\n\n  return manyComponentsSelected(restruct, selection.atoms)\n    ? SgContexts.Multifragment\n    : SgContexts.Group\n}\n\nfunction fromContextType(id, editor, newSg, currSelection) {\n  const restruct = editor.render.ctab\n  const sg = restruct.molecule.sgroups.get(id)\n  const sourceAtoms = (sg && sg.atoms) || currSelection.atoms || []\n  const context = newSg.attrs.context\n\n  if (newSg.type === SGroup.TYPES.SUP) {\n    newSg.attrs.expanded = true\n  }\n\n  const result = fromSgroupAction(\n    context,\n    restruct,\n    newSg,\n    sourceAtoms,\n    currSelection\n  )\n\n  result.selection = result.selection || currSelection\n\n  if (id !== null && id !== undefined) {\n    result.action = result.action.mergeWith(fromSgroupDeletion(restruct, id))\n  }\n\n  editor.selection(result.selection)\n\n  return result\n}\n\nfunction anyChainedBonds(bonds) {\n  if (bonds.length === 0) {\n    return true\n  }\n\n  for (let i = 0; i < bonds.length; ++i) {\n    const fixedBond = bonds[i]\n    for (let j = 0; j < bonds.length; ++j) {\n      if (i === j) continue\n\n      const bond = bonds[j]\n\n      if (fixedBond.end === bond.begin || fixedBond.end === bond.end) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\nfunction singleComponentSelected(restruct, atoms) {\n  return countOfSelectedComponents(restruct, atoms) === 1\n}\n\nfunction manyComponentsSelected(restruct, atoms) {\n  return countOfSelectedComponents(restruct, atoms) > 1\n}\n\nfunction countOfSelectedComponents(restruct, atoms): any {\n  const atomSet = new Pile(atoms)\n\n  return Array.from(restruct.connectedComponents.values()).reduce(\n    (acc: number, component) =>\n      acc + (atomSet.isSuperset(component as Pile) ? 1 : 0),\n    0\n  )\n}\n\nexport default SGroupTool\n","import { mergeMapOfItemsToSet, Struct } from 'ketcher-core'\n\ntype Items = {\n  atoms?: number[]\n  bonds?: number[]\n}\n\nfunction getGroupIdsFromItemArrays(struct: Struct, items?: Items): number[] {\n  if (!struct.sgroups.size) return []\n\n  const groupsIds = new Set<number>()\n\n  items?.atoms?.forEach((atomId) => {\n    const groupId = struct.getGroupIdFromAtomId(atomId)\n    if (groupId !== null) groupsIds.add(groupId)\n  })\n\n  items?.bonds?.forEach((bondId) => {\n    const groupId = struct.getGroupIdFromBondId(bondId)\n    if (groupId !== null) groupsIds.add(groupId)\n  })\n\n  return Array.from(groupsIds)\n}\n\ntype MergeItems = {\n  atoms: Map<number, number>\n  bonds: Map<number, number>\n}\n\nfunction getGroupIdsFromItemMaps(\n  struct: Struct,\n  mergeMaps: MergeItems | null\n): number[] {\n  const atoms =\n    mergeMaps?.atoms && Array.from(mergeMapOfItemsToSet(mergeMaps.atoms))\n  const bonds =\n    mergeMaps?.bonds && Array.from(mergeMapOfItemsToSet(mergeMaps.bonds))\n\n  return getGroupIdsFromItemArrays(struct, { atoms, bonds })\n}\n\nexport { getGroupIdsFromItemArrays, getGroupIdsFromItemMaps }\n","import {\n  Action,\n  fromFragmentDeletion,\n  fromItemsFuse,\n  fromSgroupDeletion,\n  ReStruct,\n  setExpandSGroup,\n  SGroup,\n  ReBond\n} from 'ketcher-core'\nimport Editor from '../../Editor'\nimport { getGroupIdsFromItemMaps } from './getGroupIdsFromItems'\n\ntype MergeItems = {\n  atoms: Map<number, number>\n  bonds: Map<number, number>\n  atomToFunctionalGroup?: Map<number, number>\n}\n\nexport function dropAndMerge(\n  editor: Editor,\n  mergeItems: any,\n  action?: Action,\n  resizeCanvas?: boolean\n): Action {\n  const restruct = editor.render.ctab\n  const isMerging = !!mergeItems\n  let dropItemAction = new Action()\n\n  if (isMerging) {\n    const expandGroupsAction = getExpandGroupsInMergeAction(\n      editor.render.ctab,\n      mergeItems\n    )\n    dropItemAction = dropItemAction.mergeWith(expandGroupsAction)\n    if (mergeItems.atomToFunctionalGroup) {\n      const [newMergeItems, extractAttachmentAtomAction] =\n        extractAttachmentAtom(mergeItems, editor)\n      mergeItems = newMergeItems\n      dropItemAction = dropItemAction.mergeWith(extractAttachmentAtomAction)\n    }\n    dropItemAction = fromItemsFuse(restruct, mergeItems).mergeWith(\n      dropItemAction\n    )\n  }\n\n  if (action) {\n    dropItemAction = dropItemAction.mergeWith(action)\n  }\n\n  const bonds = editor.selection()?.bonds ?? []\n  for (const bondId of bonds) {\n    const rebond = restruct.bonds.get(bondId)\n    if (rebond) {\n      ReBond.bondRecalc(rebond, restruct, editor.options())\n    }\n  }\n\n  editor.hover(null)\n  if (isMerging) editor.selection(null)\n\n  if (dropItemAction?.operations.length > 0) {\n    editor.update(dropItemAction, false, { resizeCanvas: !!resizeCanvas })\n  }\n\n  return dropItemAction\n}\n\nfunction getExpandGroupsInMergeAction(\n  restruct: ReStruct,\n  mergeItems: MergeItems\n): Action {\n  const action = new Action()\n  const groupsInMerge = getGroupIdsFromItemMaps(restruct.molecule, mergeItems)\n  if (groupsInMerge.length) {\n    groupsInMerge.forEach((groupId) => {\n      action.mergeWith(setExpandSGroup(restruct, groupId, { expanded: true }))\n    })\n  }\n\n  return action\n}\n\n/**\n * @example\n * const mergeItems = {\n *   atomToFunctionalGroup: { 3 => 1 } // Drag atom-3 and drop on functional-group-1\n * }\n * // Given functional-group-1's attachment atom is atom-0\n * const [\n *   newMergeItems, // { atoms: { 3 => 0 } }\n *   action // action to remove non-attachment atoms and that S-Group\n * ] = extractAttachmentAtom(mergeItems)\n */\nfunction extractAttachmentAtom(mergeItems: MergeItems, editor: Editor) {\n  const struct = editor.struct()\n  const reStruct = editor.render.ctab\n\n  const newMergeItems = {\n    atoms: new Map(mergeItems.atoms),\n    bonds: new Map(mergeItems.bonds)\n  }\n\n  const action = new Action()\n\n  mergeItems.atomToFunctionalGroup?.forEach((functionalGroupId, srcAtomId) => {\n    const sGroup = struct.sgroups.get(functionalGroupId)\n\n    const attachmentAtomId = sGroup?.getAttAtomId(struct)\n\n    if (attachmentAtomId !== undefined) {\n      const atomsToDelete = [...SGroup.getAtoms(struct, sGroup)].filter(\n        (atomId) => atomId !== attachmentAtomId\n      )\n      const bondsToDelete = [...SGroup.getBonds(struct, sGroup)]\n      action.mergeWith(fromSgroupDeletion(reStruct, functionalGroupId))\n      action.mergeWith(\n        fromFragmentDeletion(reStruct, {\n          atoms: atomsToDelete,\n          bonds: bondsToDelete\n        })\n      )\n      newMergeItems.atoms.set(srcAtomId, attachmentAtomId)\n    }\n  })\n\n  return [newMergeItems, action] as const\n}\n","function castAtomPropToType(property, value) {\n  const typesMapping = {\n    charge: Number,\n    exactChangeFlag: Number,\n    unsaturatedAtom: Number\n  }\n  if (typesMapping[property]) {\n    return typesMapping[property](value)\n  }\n  return value\n}\n\nexport function updateOnlyChangedProperties(\n  unchangedElement,\n  userChangedElement\n) {\n  const updatedKeys = Object.getOwnPropertyNames(userChangedElement).filter(\n    (key) => userChangedElement[key] !== ''\n  )\n  return Object.getOwnPropertyNames(unchangedElement).reduce(\n    (updatedElement, key) => {\n      updatedElement[key] = updatedKeys.includes(key)\n        ? castAtomPropToType(key, userChangedElement[key])\n        : unchangedElement[key]\n      return updatedElement\n    },\n    {}\n  )\n}\n","import { Action, Atom, fromAtomsAttrs } from 'ketcher-core'\nimport { updateOnlyChangedProperties } from './utils'\n\nexport function isAtomsArray(selectedElements: Atom | Atom[]): boolean {\n  return (\n    Array.isArray(selectedElements) &&\n    selectedElements?.every((element) => element instanceof Atom)\n  )\n}\n\nexport function updateSelectedAtoms({\n  atoms,\n  changeAtomPromise,\n  editor\n}: {\n  atoms: number[]\n  editor\n  changeAtomPromise: Promise<Atom>\n}) {\n  const action = new Action()\n  const struct = editor.render.ctab\n  const { molecule } = struct\n  if (atoms) {\n    Promise.resolve(changeAtomPromise)\n      .then((userChangedAtom) => {\n        // TODO: deep compare to not produce dummy, e.g.\n        // atom.label != attrs.label || !atom.atomList.equals(attrs.atomList)\n        atoms.forEach((atomId) => {\n          const unchangedAtom = molecule.atoms.get(atomId)\n          const atomWithChangedProperties = updateOnlyChangedProperties(\n            unchangedAtom,\n            userChangedAtom\n          )\n          action.mergeWith(\n            fromAtomsAttrs(struct, atomId, atomWithChangedProperties, false)\n          )\n        })\n        editor.update(action)\n      })\n      .catch(() => null)\n  }\n}\n","import { Action, Bond, fromBondsAttrs } from 'ketcher-core'\nimport { updateOnlyChangedProperties } from './utils'\n\nexport function updateSelectedBonds({\n  bonds,\n  changeBondPromise,\n  editor\n}: {\n  bonds: number[]\n  changeBondPromise: Promise<Bond>\n  editor\n}) {\n  const action = new Action()\n  const struct = editor.render.ctab\n  const { molecule } = struct\n  if (bonds) {\n    Promise.resolve(changeBondPromise)\n      .then((userChangedBond) => {\n        bonds.forEach((bondId) => {\n          const unchangedBond = molecule.bonds.get(bondId)\n          const bondWithChangedProperties = updateOnlyChangedProperties(\n            unchangedBond,\n            userChangedBond\n          )\n          action.mergeWith(\n            fromBondsAttrs(\n              struct,\n              bondId,\n              bondWithChangedProperties as Bond,\n              false\n            )\n          )\n        })\n        editor.update(action)\n      })\n      .catch(() => null)\n  }\n}\n","import { Atom } from 'ketcher-core'\n\nexport function hasAtomsOutsideCanvas(atoms: Atom[], render, scale: number) {\n  return atoms.some((atom) => {\n    const canvasSize = render.sz\n    const { offset } = render.options\n    const xSize = atom.pp.x * scale\n    const ySize = atom.pp.y * scale\n    return (\n      xSize > canvasSize.x ||\n      xSize + offset.x < 0 ||\n      ySize > canvasSize.y ||\n      ySize + offset.y < 0\n    )\n  })\n}\n","import { Struct, FunctionalGroup } from 'ketcher-core'\n\n/**\n * return only such elements ids that not part of collapsed group\n * Addition: if an atom in the collapsed SGroup, but is an AttachmentPoint it will be returned as well.\n */\nexport function filterNotInCollapsedSGroup(\n  itemsToFilter: { atoms?: number[]; bonds?: number[] },\n  struct: Struct\n) {\n  return {\n    atoms:\n      itemsToFilter.atoms?.filter((atomId) => {\n        const groupId = struct.getGroupIdFromAtomId(atomId)\n        if (isNotCollapsedSGroup(groupId, struct)) {\n          return true\n        } else {\n          return FunctionalGroup.isAttachmentPointAtom(atomId, struct)\n        }\n      }) ?? [],\n    bonds:\n      itemsToFilter.bonds?.filter((bondId) => {\n        const groupId = struct.getGroupIdFromBondId(bondId)\n        return isNotCollapsedSGroup(groupId, struct)\n      }) ?? []\n  }\n}\n\nfunction isNotCollapsedSGroup(groupId: number | null, struct: Struct): boolean {\n  if (groupId === null) {\n    return true\n  }\n  const sGroup = struct.sgroups.get(groupId)\n  if (!sGroup) {\n    throw new Error(\n      `sGroup with id = \"${groupId}\" must be defined, unexpected behaviour`\n    )\n  }\n  return sGroup.checkAttr('expanded', true)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  SGroup,\n  fromItemsFuse,\n  fromMultipleMove,\n  fromTextDeletion,\n  fromTextUpdating,\n  getHoverToFuse,\n  FunctionalGroup,\n  fromSimpleObjectResizing,\n  fromArrowResizing,\n  ReStruct,\n  ReSGroup,\n  Vec2,\n  Atom,\n  Bond,\n  getDirections,\n  isCloseToEdgeOfCanvas,\n  isCloseToEdgeOfScreen,\n  scrollByVector,\n  shiftAndExtendCanvasByVector,\n  getItemsToFuse\n} from 'ketcher-core'\n\nimport LassoHelper from './helper/lasso'\nimport { atomLongtapEvent } from './atom'\nimport SGroupTool from './sgroup'\nimport utils from '../shared/utils'\nimport { xor } from 'lodash/fp'\nimport { Editor } from '../Editor'\nimport { dropAndMerge } from './helper/dropAndMerge'\nimport { getGroupIdsFromItemArrays } from './helper/getGroupIdsFromItems'\nimport { updateSelectedAtoms } from 'src/script/ui/state/modal/atoms'\nimport { updateSelectedBonds } from 'src/script/ui/state/modal/bonds'\nimport { hasAtomsOutsideCanvas } from './helper/isAtomOutSideCanvas'\nimport { filterNotInCollapsedSGroup } from './helper/filterNotInCollapsedSGroup'\nimport { Tool } from './Tool'\n\ntype SelectMode = 'lasso' | 'fragment' | 'rectangle'\n\nclass SelectTool implements Tool {\n  readonly #mode: SelectMode\n  readonly #lassoHelper: LassoHelper\n  private readonly editor: Editor\n  private dragCtx: any\n  isMousedDown = false\n\n  constructor(editor: Editor, mode: SelectMode) {\n    this.editor = editor\n    this.#mode = mode\n    this.#lassoHelper = new LassoHelper(\n      this.#mode === 'lasso' ? 0 : 1,\n      editor,\n      this.#mode === 'fragment'\n    )\n  }\n\n  isSelectionRunning() {\n    return this.#lassoHelper.running()\n  }\n\n  mousedown(event) {\n    this.isMousedDown = true\n    const rnd = this.editor.render\n    const ctab = rnd.ctab\n    const molecule = ctab.molecule\n\n    const map = getMapsForClosestItem(\n      this.#lassoHelper.fragment || event.ctrlKey\n    )\n    const ci = this.editor.findItem(event, map, null)\n\n    const selected = {\n      ...(ci?.map === 'atoms' && { atoms: [ci.id] }),\n      ...(ci?.map === 'bonds' && { bonds: [ci.id] })\n    }\n    const selectedSgroups = ci\n      ? getGroupIdsFromItemArrays(molecule, selected)\n      : []\n    const newSelected = getNewSelectedItems(this.editor, selectedSgroups)\n    if (newSelected.atoms?.length || newSelected.bonds?.length) {\n      this.editor.selection(newSelected)\n    }\n\n    this.dragCtx = {\n      item: ci,\n      xy0: rnd.page2obj(event)\n    }\n\n    if (!ci || ci.map === 'atoms') {\n      atomLongtapEvent(this, rnd)\n    }\n\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      if (!event.shiftKey) this.editor.selection(null)\n      delete this.dragCtx.item\n      if (!this.#lassoHelper.fragment) this.#lassoHelper.begin(event)\n      return true\n    }\n\n    let sel = closestToSel(ci)\n    const sgroups = ctab.sgroups.get(ci.id)\n    const selection = this.editor.selection()\n    if (ci.map === 'frags') {\n      const frag = ctab.frags.get(ci.id)\n      sel = {\n        atoms: frag.fragGetAtoms(ctab, ci.id),\n        bonds: frag.fragGetBonds(ctab, ci.id)\n      }\n    } else if (\n      (ci.map === 'sgroups' || ci.map === 'functionalGroups') &&\n      sgroups\n    ) {\n      const sgroup = sgroups.item\n      sel = {\n        atoms: SGroup.getAtoms(molecule, sgroup),\n        bonds: SGroup.getBonds(molecule, sgroup)\n      }\n    } else if (ci.map === 'rgroups') {\n      const rgroup = ctab.rgroups.get(ci.id)\n      sel = {\n        atoms: rgroup.getAtoms(rnd),\n        bonds: rgroup.getBonds(rnd)\n      }\n    } else if (ci.map === 'sgroupData') {\n      if (isSelected(selection, ci)) return true\n    }\n\n    if (event.shiftKey) {\n      this.editor.selection(selMerge(sel, selection, true))\n    } else {\n      this.editor.selection(null)\n      this.editor.selection(isSelected(selection, ci) ? selection : sel)\n    }\n    return true\n  }\n\n  mousemove(event) {\n    const editor = this.editor\n    const rnd = editor.render\n    const restruct = editor.render.ctab\n    const dragCtx = this.dragCtx\n    if (dragCtx?.stopTapping) dragCtx.stopTapping()\n    if (dragCtx?.item) {\n      const atoms = restruct.molecule.atoms\n      const selection = editor.selection()\n\n      /* handle atoms */\n      const shouldDisplayDegree =\n        dragCtx.item.map === 'atoms' &&\n        atoms?.get(dragCtx.item.id)?.neighbors.length === 1 &&\n        selection?.atoms?.length === 1 &&\n        !selection.bonds\n      if (shouldDisplayDegree) {\n        // moving selected objects\n        const pos = rnd.page2obj(event)\n        const angle = utils.calcAngle(dragCtx.xy0, pos)\n        const degrees = utils.degrees(angle)\n        editor.event.message.dispatch({ info: degrees + 'º' })\n      }\n      /* end */\n\n      /* handle simpleObjects */\n      if (dragCtx.item.map === 'simpleObjects' && dragCtx.item.ref) {\n        if (dragCtx.action) dragCtx.action.perform(rnd.ctab)\n        const props = getResizingProps(editor, dragCtx, event)\n        dragCtx.action = fromSimpleObjectResizing(...props, event.shiftKey)\n        editor.update(dragCtx.action, true)\n        return true\n      }\n      /* end + fullstop */\n\n      /* handle rxnArrows */\n      if (dragCtx.item.map === 'rxnArrows' && dragCtx.item.ref) {\n        if (dragCtx?.action) dragCtx.action.perform(rnd.ctab)\n        const props = getResizingProps(editor, dragCtx, event)\n        dragCtx.action = fromArrowResizing(...props)\n        editor.update(dragCtx.action, true)\n        return true\n      }\n      /* end + fullstop */\n\n      /* handle functionalGroups */\n      if (dragCtx.item.map === 'functionalGroups' && !dragCtx.action) {\n        editor.event.showInfo.dispatch(null)\n      }\n      /* end */\n\n      if (dragCtx.action) {\n        dragCtx.action.perform(restruct)\n      }\n\n      const expSel = editor.explicitSelected()\n      dragCtx.action = fromMultipleMove(\n        restruct,\n        expSel,\n        editor.render.page2obj(event).sub(dragCtx.xy0)\n      )\n\n      const visibleSelectedItems = filterNotInCollapsedSGroup(\n        expSel,\n        this.editor.struct()\n      )\n      dragCtx.mergeItems = getItemsToFuse(editor, visibleSelectedItems)\n      editor.hover(getHoverToFuse(dragCtx.mergeItems))\n\n      resizeCanvas(rnd, event)\n      editor.update(dragCtx.action, true, { resizeCanvas: false })\n      return true\n    }\n\n    if (this.#lassoHelper.running()) {\n      const sel = this.#lassoHelper.addPoint(event)\n      editor.selection(\n        !event.shiftKey ? sel : selMerge(sel, editor.selection(), false)\n      )\n      return true\n    }\n\n    const maps = getMapsForClosestItem(\n      this.#lassoHelper.fragment || event.ctrlKey\n    )\n    editor.hover(editor.findItem(event, maps, null), null, event)\n\n    return true\n  }\n\n  mouseup(event) {\n    if (!this.isMousedDown) {\n      return\n    }\n    this.isMousedDown = false\n\n    const editor = this.editor\n    const selected = editor.selection()\n    const struct = editor.render.ctab\n    const molecule = struct.molecule\n\n    // add all items of all selectedSGroups to selection\n    const selectedSgroups = selected\n      ? getGroupIdsFromItemArrays(molecule, selected)\n      : []\n    const newSelected = getNewSelectedItems(editor, selectedSgroups)\n\n    if (this.dragCtx?.stopTapping) this.dragCtx.stopTapping()\n\n    /* ignore salts and solvents */\n    const possibleSaltOrSolvent = struct.sgroups.get(\n      selectedSgroups[selectedSgroups.length - 1]\n    )\n    const isDraggingSaltOrSolventOnStructure = SGroup.isSaltOrSolvent(\n      possibleSaltOrSolvent?.item.data.name\n    )\n    const isDraggingCustomSgroupOnStructure =\n      SGroup.isSuperAtom(possibleSaltOrSolvent?.item) &&\n      !FunctionalGroup.isFunctionalGroup(possibleSaltOrSolvent?.item)\n    if (\n      this.dragCtx &&\n      (isDraggingCustomSgroupOnStructure ||\n        isDraggingSaltOrSolventOnStructure ||\n        this.isDraggingStructureOnSaltOrSolvent(this.dragCtx, struct.sgroups))\n    ) {\n      preventSaltAndSolventsMerge(struct, this.dragCtx, editor)\n      delete this.dragCtx\n    }\n    /* end */\n\n    if (this.dragCtx?.item) {\n      const atoms = Array.from(editor.struct().atoms.values())\n      const shouldResizeCanvas = hasAtomsOutsideCanvas(\n        atoms,\n        editor.render,\n        editor.options().scale\n      )\n      dropAndMerge(\n        editor,\n        this.dragCtx.mergeItems,\n        this.dragCtx.action,\n        shouldResizeCanvas\n      )\n      delete this.dragCtx\n    } else if (this.#lassoHelper.running()) {\n      // TODO it catches more events than needed, to be re-factored\n      this.selectElementsOnCanvas(newSelected, editor, event)\n    } else if (this.#lassoHelper.fragment) {\n      if (\n        !event.shiftKey &&\n        this.editor.render.clientArea.contains(event.target)\n      )\n        editor.selection(null)\n    }\n    editor.event.message.dispatch({\n      info: false\n    })\n\n    this.editor.rotateController.rerender()\n  }\n\n  dblclick(event) {\n    const editor = this.editor\n    const struct = editor.render.ctab\n    const { molecule, sgroups } = struct\n    const functionalGroups = molecule.functionalGroups\n    const ci = editor.findItem(\n      event,\n      ['atoms', 'bonds', 'sgroups', 'functionalGroups', 'sgroupData', 'texts'],\n      null\n    )\n\n    const atomResult: any[] = []\n    const bondResult: any[] = []\n    const result: any[] = []\n    if (ci && functionalGroups && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n      const atomFromStruct = atomId !== null && struct.atoms.get(atomId)?.a\n      if (\n        atomFromStruct &&\n        !FunctionalGroup.isAtomInContractedFunctionalGroup(\n          // TODO: examine if this code is really needed, seems like its a hack\n          atomFromStruct,\n          sgroups,\n          functionalGroups,\n          true\n        )\n      )\n        atomResult.push(atomId)\n    }\n    if (ci && functionalGroups && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n      const bondFromStruct = bondId !== null && struct.bonds.get(bondId)?.b\n      if (\n        bondFromStruct &&\n        !FunctionalGroup.isBondInContractedFunctionalGroup(\n          // TODO: examine if this code is really needed, seems like its a hack\n          bondFromStruct,\n          sgroups,\n          functionalGroups\n        )\n      )\n        bondResult.push(bondId)\n    }\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n    if (!ci) return\n\n    const selection = this.editor.selection()\n\n    if (ci.map === 'atoms') {\n      const atoms = getSelectedAtoms(selection, molecule)\n      const changeAtomPromise = editor.event.elementEdit.dispatch(atoms)\n      updateSelectedAtoms({\n        atoms: selection?.atoms || [],\n        editor,\n        changeAtomPromise\n      })\n    } else if (ci.map === 'bonds') {\n      const bonds = getSelectedBonds(selection, molecule)\n      const changeBondPromise = editor.event.bondEdit.dispatch(bonds)\n      updateSelectedBonds({\n        bonds: selection?.bonds || [],\n        changeBondPromise,\n        editor\n      })\n    } else if (\n      (ci.map === 'sgroups' &&\n        !FunctionalGroup.isFunctionalGroup(molecule.sgroups.get(ci.id))) ||\n      ci.map === 'sgroupData'\n    ) {\n      editor.selection(closestToSel(ci))\n      SGroupTool.sgroupDialog(editor, ci.id)\n    } else if (ci.map === 'texts') {\n      editor.selection(closestToSel(ci))\n      const text = molecule.texts.get(ci.id)\n      const dialog = editor.event.elementEdit.dispatch({\n        ...text,\n        type: 'text'\n      })\n\n      dialog\n        .then(({ content }) => {\n          if (!content) {\n            editor.update(fromTextDeletion(struct, ci.id))\n          } else if (content !== text?.content) {\n            editor.update(fromTextUpdating(struct, ci.id, content))\n          }\n        })\n        .catch(() => null)\n    }\n    return true\n  }\n\n  mouseleave() {\n    if (this.dragCtx && this.dragCtx.stopTapping) this.dragCtx.stopTapping()\n\n    if (this.dragCtx && this.dragCtx.action) {\n      const action = this.dragCtx.action\n      this.editor.update(action)\n    }\n    if (this.#lassoHelper.running())\n      this.editor.selection(this.#lassoHelper.end())\n\n    delete this.dragCtx\n\n    this.editor.hover(null)\n  }\n\n  private selectElementsOnCanvas(\n    elements: { atoms: number[]; bonds: number[] },\n    editor: Editor,\n    event\n  ) {\n    const sel =\n      elements.atoms.length > 0\n        ? selMerge(this.#lassoHelper.end(), elements, false)\n        : this.#lassoHelper.end()\n    editor.selection(\n      !event.shiftKey ? sel : selMerge(sel, editor.selection(), false)\n    )\n  }\n\n  private isDraggingStructureOnSaltOrSolvent(\n    dragCtx,\n    sgroups: Map<number, ReSGroup>\n  ) {\n    let isDraggingOnSaltOrSolventAtom\n    let isDraggingOnSaltOrSolventBond\n    if (dragCtx?.mergeItems) {\n      const mergeAtoms = Array.from(dragCtx.mergeItems.atoms.values())\n      const mergeBonds = Array.from(dragCtx.mergeItems.bonds.values())\n      const sgroupsOnCanvas = Array.from(sgroups.values()).map(\n        ({ item }) => item\n      )\n      isDraggingOnSaltOrSolventAtom = mergeAtoms.some((atomId) =>\n        SGroup.isAtomInSaltOrSolvent(atomId as number, sgroupsOnCanvas)\n      )\n      isDraggingOnSaltOrSolventBond = mergeBonds.some((bondId) =>\n        SGroup.isBondInSaltOrSolvent(bondId as number, sgroupsOnCanvas)\n      )\n    }\n    return isDraggingOnSaltOrSolventAtom || isDraggingOnSaltOrSolventBond\n  }\n}\n\nfunction resizeCanvas(render, event) {\n  const offset = 1\n  const {\n    isCloseToLeftEdgeOfCanvas,\n    isCloseToTopEdgeOfCanvas,\n    isCloseToRightEdgeOfCanvas,\n    isCloseToBottomEdgeOfCanvas\n  } = isCloseToEdgeOfCanvas(event, render.sz)\n  const {\n    isCloseToLeftEdgeOfScreen,\n    isCloseToTopEdgeOfScreen,\n    isCloseToRightEdgeOfScreen,\n    isCloseToBottomEdgeOfScreen\n  } = isCloseToEdgeOfScreen(event)\n  const { isMovingLeft, isMovingRight, isMovingTop, isMovingBottom } =\n    getDirections(event)\n\n  if (isCloseToLeftEdgeOfCanvas && isMovingLeft) {\n    shiftAndExtendCanvasByVector(new Vec2(-offset, 0, 0), render)\n  }\n\n  if (isCloseToTopEdgeOfCanvas && isMovingTop) {\n    shiftAndExtendCanvasByVector(new Vec2(0, -offset, 0), render)\n  }\n\n  if (isCloseToRightEdgeOfCanvas && isMovingRight) {\n    shiftAndExtendCanvasByVector(new Vec2(offset, 0, 0), render)\n  }\n\n  if (isCloseToBottomEdgeOfCanvas && isMovingBottom) {\n    shiftAndExtendCanvasByVector(new Vec2(0, offset, 0), render)\n  }\n\n  const isCloseToSomeEdgeOfCanvas = [\n    isCloseToTopEdgeOfCanvas && isMovingTop,\n    isCloseToRightEdgeOfCanvas && isMovingRight,\n    isCloseToBottomEdgeOfCanvas && isMovingBottom,\n    isCloseToLeftEdgeOfCanvas && isMovingLeft\n  ].some((isCloseToEdge) => isCloseToEdge)\n\n  if (isCloseToSomeEdgeOfCanvas) {\n    return\n  }\n\n  if (isCloseToTopEdgeOfScreen && isMovingTop) {\n    scrollByVector(new Vec2(0, -offset), render)\n  }\n\n  if (isCloseToBottomEdgeOfScreen && isMovingBottom) {\n    scrollByVector(new Vec2(0, offset), render)\n  }\n\n  if (isCloseToLeftEdgeOfScreen && isMovingLeft) {\n    scrollByVector(new Vec2(-offset, 0), render)\n  }\n\n  if (isCloseToRightEdgeOfScreen && isMovingRight) {\n    scrollByVector(new Vec2(offset, 0), render)\n  }\n}\n\nfunction closestToSel(ci) {\n  const res = {}\n  res[ci.map] = [ci.id]\n  return res\n}\n\n// TODO: deep-merge?\nexport function selMerge(selection, add, reversible: boolean) {\n  if (add) {\n    Object.keys(add).forEach((item) => {\n      if (!selection[item]) selection[item] = add[item].slice()\n      else selection[item] = uniqArray(selection[item], add[item], reversible)\n    })\n  }\n  return selection\n}\n\nfunction isSelected(selection, item) {\n  return (\n    selection && selection[item.map] && selection[item.map].includes(item.id)\n  )\n}\n\nexport function getSelectedAtoms(selection, molecule) {\n  if (selection?.atoms) {\n    return mapAtomIdsToAtoms(selection?.atoms, molecule)\n  }\n  return []\n}\n\nexport function getSelectedBonds(selection, molecule) {\n  if (selection?.bonds) {\n    return mapBondIdsToBonds(selection?.bonds, molecule)\n  }\n  return []\n}\n\nexport function mapAtomIdsToAtoms(atomsIds: number[], molecule): Atom[] {\n  return atomsIds.map((atomId) => {\n    const atomOrReAtom = molecule.atoms.get(atomId)\n    return atomOrReAtom.a || atomOrReAtom\n  })\n}\n\nexport function mapBondIdsToBonds(bondsIds: number[], molecule): Bond[] {\n  return bondsIds.map((bondId) => {\n    const bondOrReBond = molecule.bonds.get(bondId)\n    return bondOrReBond?.b || bondOrReBond\n  })\n}\n\nfunction uniqArray(dest, add, reversible: boolean) {\n  return add.reduce((_, item) => {\n    if (reversible) dest = xor(dest, [item])\n    else if (!dest.includes(item)) dest.push(item)\n    return dest\n  }, [])\n}\n\nfunction preventSaltAndSolventsMerge(\n  struct: ReStruct,\n  dragCtx,\n  editor: Editor\n) {\n  const action = dragCtx.action\n    ? fromItemsFuse(struct, null).mergeWith(dragCtx.action)\n    : fromItemsFuse(struct, null)\n  editor.hover(null)\n  if (dragCtx.mergeItems) {\n    editor.selection(null)\n  }\n  editor.update(action)\n  editor.event.message.dispatch({\n    info: false\n  })\n}\n\nfunction getMapsForClosestItem(selectFragment: boolean) {\n  return [\n    'sgroups',\n    'functionalGroups',\n    'sgroupData',\n    'rgroups',\n    'rxnArrows',\n    'rxnPluses',\n    'enhancedFlags',\n    'simpleObjects',\n    'texts',\n    ...(selectFragment ? ['frags'] : ['atoms', 'bonds'])\n  ]\n}\n\nfunction getResizingProps(\n  editor: Editor,\n  dragCtx,\n  event\n): [ReStruct, number, Vec2, Vec2, any] {\n  const current = editor.render.page2obj(event)\n  const diff = current.sub(dragCtx.xy0)\n  return [editor.render.ctab, dragCtx.item.id, diff, current, dragCtx.item.ref]\n}\n\nfunction getNewSelectedItems(\n  editor: Editor,\n  selectedSgroups: number[]\n): { atoms: number[]; bonds: number[] } {\n  const newSelected: Record<'atoms' | 'bonds', number[]> = {\n    atoms: [],\n    bonds: []\n  }\n\n  for (const sgId of selectedSgroups) {\n    const sgroup = editor.render.ctab.sgroups.get(sgId)\n    if (sgroup) {\n      const sgroupAtoms = SGroup.getAtoms(editor.struct(), sgroup.item)\n      const sgroupBonds = SGroup.getBonds(editor.struct(), sgroup.item)\n      newSelected.atoms.push(...sgroupAtoms)\n      newSelected.bonds.push(...sgroupBonds)\n    }\n  }\n\n  return newSelected\n}\n\nexport default SelectTool\n","import { Dispatch } from 'redux'\nimport {\n  fromAtomAddition,\n  fromAtomsAttrs,\n  fromBondAddition,\n  fromBondsAttrs,\n  fromFragmentDeletion,\n  FunctionalGroup,\n  Atom\n} from 'ketcher-core'\nimport { STRUCT_TYPE } from 'src/constants'\nimport { openDialog } from './modal'\nimport { getSelectedAtoms } from '../../editor/tool/select'\nimport { onAction } from './shared'\nimport { Editor } from '../../editor'\nimport { updateSelectedAtoms } from 'src/script/ui/state/modal/atoms'\nimport { fromAtom, toAtom, fromBond, toBond } from '../data/convert/structconv'\nimport SGroupTool from '../../editor/tool/sgroup'\n\ntype TNewAction = {\n  tool?: string\n  dialog?: string\n  opts?: any\n}\n\ntype HandlersProps = {\n  hoveredItemId: number\n  newAction: TNewAction\n  editor: Editor\n  dispatch: Dispatch\n}\n\ntype HandleHotkeyOverItemProps = {\n  hoveredItem: Record<string, number>\n  newAction: TNewAction\n  editor: Editor\n  dispatch: Dispatch\n}\n\nexport function handleHotkeyOverItem(props: HandleHotkeyOverItemProps) {\n  if (props.newAction.tool === 'eraser') {\n    handleEraser(props)\n  } else if (props.newAction.dialog) {\n    handleDialog(props)\n  } else if (props.newAction.tool) {\n    handleTool(props)\n  } else {\n    handleOtherActions(props)\n  }\n}\n\nfunction handleOtherActions({\n  dispatch,\n  newAction\n}: HandleHotkeyOverItemProps) {\n  dispatch(onAction(newAction))\n}\n\nfunction eraseItem({\n  editor,\n  item\n}: {\n  editor: Editor\n  item: Record<string, number[]>\n}) {\n  const action = fromFragmentDeletion(editor.render.ctab, item)\n\n  editor.update(action)\n  editor.hover(null)\n}\n\nfunction handleEraser({\n  editor,\n  hoveredItem,\n  newAction,\n  dispatch\n}: HandleHotkeyOverItemProps) {\n  const item = mapItemsToArrays(hoveredItem)\n  const itemType = Object.keys(hoveredItem)[0]\n\n  if ([STRUCT_TYPE.atoms, STRUCT_TYPE.bonds].includes(itemType)) {\n    isFunctionalGroupChange(\n      { editor, hoveredItemId: item[itemType][0], newAction, dispatch },\n      itemType\n    ).then((res) => {\n      res && eraseItem({ editor, item })\n    })\n\n    return\n  }\n\n  eraseItem({ editor, item })\n}\n\nfunction handleDialog({\n  hoveredItem,\n  newAction,\n  editor,\n  dispatch\n}: HandleHotkeyOverItemProps) {\n  const dialogType = Object.keys(hoveredItem)[0]\n  const dialogHandler = getDialogHandler(dialogType)\n  const hoveredItemId = hoveredItem[dialogType]\n\n  if (dialogHandler) {\n    const props: HandlersProps = {\n      hoveredItemId,\n      newAction,\n      editor,\n      dispatch\n    }\n    return dialogHandler(props)\n  }\n}\n\nfunction getDialogHandler(itemType: string) {\n  const dialogs = {\n    atoms: (props: HandlersProps) => handleAtomPropsDialog(props),\n    bonds: (props: HandlersProps) => handleBondPropsDialog(props)\n  }\n\n  const dialog = dialogs[itemType]\n  return dialog\n}\n\nfunction handleAtomPropsDialog({\n  hoveredItemId,\n  newAction,\n  editor,\n  dispatch\n}: HandlersProps) {\n  const selection = editor.selection()\n  const atomsSelected = selection?.atoms\n  const restruct = editor.render.ctab\n\n  if (atomsSelected && atomsSelected.includes(hoveredItemId)) {\n    const atoms = getSelectedAtoms(selection, restruct.molecule)\n    const changeAtomPromise = editor.event.elementEdit.dispatch(atoms)\n\n    updateSelectedAtoms({\n      atoms: selection.atoms || [],\n      editor,\n      changeAtomPromise\n    })\n  } else {\n    const atomFromStruct = restruct.atoms.get(hoveredItemId)\n    const convertedAtomForModal = fromAtom(atomFromStruct?.a)\n\n    openDialog(dispatch, newAction.dialog, convertedAtomForModal)\n      .then((res) => {\n        const updatedAtom = fromAtomsAttrs(\n          restruct,\n          hoveredItemId,\n          toAtom(res),\n          false\n        )\n\n        editor.update(updatedAtom)\n      })\n      .catch(() => null)\n  }\n}\n\nfunction handleBondPropsDialog({\n  hoveredItemId,\n  newAction,\n  editor,\n  dispatch\n}: HandlersProps) {\n  const restruct = editor.render.ctab\n  const bondFromStruct = restruct.bonds.get(hoveredItemId)\n  const convertedBondForModal = fromBond(bondFromStruct?.b)\n\n  openDialog(dispatch, newAction.dialog, convertedBondForModal)\n    .then((res) => {\n      const updatedBond = fromBondsAttrs(\n        restruct,\n        hoveredItemId,\n        toBond(res),\n        false\n      )\n\n      editor.update(updatedBond)\n    })\n    .catch(() => null)\n}\n\nfunction handleTool({\n  hoveredItem,\n  newAction,\n  editor,\n  dispatch\n}: HandleHotkeyOverItemProps) {\n  for (const item in hoveredItem) {\n    const toolHandler = getToolHandler(item, newAction.tool)\n    const isChangeStructureTool = newAction.tool !== 'hand'\n    const hoveredItemId = hoveredItem[item]\n\n    if (toolHandler) {\n      const props: HandlersProps = {\n        hoveredItemId,\n        editor,\n        newAction,\n        dispatch\n      }\n      isFunctionalGroupChange(props, item).then((result) => {\n        if (!result && isChangeStructureTool) return\n        toolHandler(props)\n      })\n    }\n  }\n}\n\nasync function isFunctionalGroupChange(\n  props: HandlersProps,\n  type: string\n): Promise<boolean> {\n  return await isChangingFunctionalGroup(props, type)\n}\n\nfunction getToolHandler(itemType: string, toolName = '') {\n  const items = {\n    atoms: {\n      atom: (props: HandlersProps) => handleAtomTool(props),\n      bond: (props: HandlersProps) => handleBondTool(props),\n      charge: (props: HandlersProps) => handleChargeTool(props),\n      rgroupatom: (props: HandlersProps) => handleRGroupAtomTool(props),\n      sgroup: ({ editor, hoveredItemId }: HandlersProps) => {\n        SGroupTool.sgroupDialog(editor, hoveredItemId)\n      },\n      hand: ({ dispatch }: HandlersProps) =>\n        dispatch(onAction({ tool: 'hand' }))\n    },\n    _default: {}\n  }\n\n  const item = items[itemType]\n\n  if (item) {\n    return item[toolName]\n  }\n  return items._default[toolName]\n}\n\nfunction handleAtomTool({ hoveredItemId, newAction, editor }: HandlersProps) {\n  const atomProps = { ...newAction.opts }\n  const updatedAtoms = fromAtomsAttrs(\n    editor.render.ctab,\n    hoveredItemId,\n    atomProps,\n    true\n  )\n  editor.update(updatedAtoms)\n}\n\nfunction handleBondTool({ hoveredItemId, newAction, editor }: HandlersProps) {\n  const newBond = fromBondAddition(\n    editor.render.ctab,\n    newAction.opts,\n    hoveredItemId,\n    { label: 'C' }\n  )[0]\n  editor.update(newBond)\n}\n\nfunction handleChargeTool({ hoveredItemId, newAction, editor }: HandlersProps) {\n  const existingAtom = editor.render.ctab.atoms.get(hoveredItemId)?.a\n  if (existingAtom) {\n    const updatedAtom = fromAtomsAttrs(\n      editor.render.ctab,\n      hoveredItemId,\n      {\n        charge: existingAtom.charge + newAction.opts\n      },\n      null\n    )\n    editor.update(updatedAtom)\n  }\n}\n\nfunction mapItemsToArrays(\n  items: Record<string, number>\n): Record<string, number[]> {\n  const mappedItems = {}\n  for (const item in items) {\n    mappedItems[item] = [items[item]]\n  }\n  return mappedItems\n}\n\nasync function handleRGroupAtomTool({ hoveredItemId, editor }: HandlersProps) {\n  const struct = editor.render.ctab.molecule\n  const atom =\n    hoveredItemId || hoveredItemId === 0\n      ? struct.atoms.get(hoveredItemId)\n      : null\n  const rglabel = atom ? atom.rglabel : 0\n  const label = atom ? atom.label : 'R#'\n\n  try {\n    let element = await editor.event.elementEdit.dispatch({\n      label: 'R#',\n      rglabel,\n      fragId: atom ? atom.fragment : null\n    })\n    element = Object.assign({}, Atom.attrlist, element)\n\n    if (!hoveredItemId && hoveredItemId !== 0 && element.rglabel) {\n      editor.update(fromAtomAddition(editor.render.ctab, null, element))\n    } else if (rglabel !== element.rglabel) {\n      if (!element.rglabel && label !== 'R#') {\n        element.label = label\n      }\n\n      editor.update(\n        fromAtomsAttrs(editor.render.ctab, hoveredItemId, element, false)\n      )\n    }\n  } catch (error) {} // w/o changes\n}\n\nfunction getFunctionalGroupIdByItem(\n  editor: Editor,\n  hoveredItemId: number,\n  type: string\n): number | null {\n  const molecule = editor.render.ctab.molecule\n  const functionalGroups = molecule.functionalGroups\n\n  return type === 'atoms'\n    ? FunctionalGroup.findFunctionalGroupByAtom(functionalGroups, hoveredItemId)\n    : FunctionalGroup.findFunctionalGroupByBond(\n        molecule,\n        functionalGroups,\n        hoveredItemId\n      )\n}\n\nasync function isChangingFunctionalGroup(\n  { hoveredItemId, editor }: HandlersProps,\n  type: string\n) {\n  const fgId = getFunctionalGroupIdByItem(editor, hoveredItemId, type)\n\n  if (fgId !== null) {\n    await editor.event.removeFG.dispatch({ fgIds: [fgId] })\n\n    return false\n  }\n\n  return true\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport * as clipArea from '../component/cliparea/cliparea'\n\nimport {\n  KetSerializer,\n  MolSerializer,\n  formatProperties,\n  ChemicalMimeType\n} from 'ketcher-core'\nimport { debounce, isEqual } from 'lodash/fp'\nimport { load, onAction, removeStructAction } from './shared'\n\nimport actions from '../action'\nimport keyNorm from '../data/convert/keynorm'\nimport { isIE } from 'react-device-detect'\nimport { handleHotkeyOverItem } from './handleHotkeysOverItem'\nimport { SettingsManager } from '../utils/settingsManager'\n\nexport function initKeydownListener(element) {\n  return function (dispatch, getState) {\n    const hotKeys = initHotKeys()\n    element.addEventListener('keydown', (event) =>\n      keyHandle(dispatch, getState(), hotKeys, event)\n    )\n  }\n}\n\nfunction removeNotRenderedStruct(actionTool, group, dispatch) {\n  const affectedTools = ['paste', 'template']\n  if (affectedTools.includes(actionTool.tool) && group?.includes('save')) {\n    dispatch(removeStructAction())\n  }\n}\n\n/* HotKeys */\nfunction keyHandle(dispatch, state, hotKeys, event) {\n  if (state.modal) return\n\n  const { editor } = state\n  const { render } = editor\n  const actionState = state.actionState\n  const actionTool = actionState.activeTool\n\n  const key = keyNorm(event)\n\n  let group: any = null\n\n  if (key && key.length === 1 && key.match('/')) {\n    const hotkeyDialogTypes = {\n      atoms: actions['atom-props'].action,\n      bonds: actions['bond-props'].action\n    }\n\n    const hoveredItem = getHoveredItem(render.ctab)\n    if (!hoveredItem) {\n      return\n    }\n    const dialogType = Object.keys(hoveredItem)[0]\n\n    if (Object.hasOwn(hotkeyDialogTypes, dialogType)) {\n      handleHotkeyOverItem({\n        hoveredItem,\n        newAction: hotkeyDialogTypes[dialogType],\n        editor,\n        dispatch\n      })\n    }\n\n    event.preventDefault()\n  } else if (editor.rotateController.isRotating && key === 'Escape') {\n    editor.rotateController.revert()\n  } else if ((group = keyNorm.lookup(hotKeys, event)) !== undefined) {\n    const index = checkGroupOnTool(group, actionTool) // index currentTool in group || -1\n    const groupLength = group !== null ? group.length : 1\n    const newIndex = (index + 1) % groupLength\n\n    const actName = group[newIndex]\n    if (actionState[actName] && actionState[actName].disabled === true) {\n      event.preventDefault()\n      return\n    }\n    // Removing from what should be saved - structure, which was added to paste tool,\n    // but not yet rendered on canvas\n    removeNotRenderedStruct(actionTool, group, dispatch)\n\n    if (clipArea.actions.indexOf(actName) === -1) {\n      let newAction = actions[actName].action\n      const hoveredItem = getHoveredItem(render.ctab)\n      // check if atom is currently hovered over\n      // in this case we do not want to activate the corresponding tool\n      // and just insert the atom directly\n      if (\n        hoveredItem &&\n        newAction.tool !== 'select' &&\n        newAction.dialog !== 'templates'\n      ) {\n        newAction = getCurrentAction(group[index]) || newAction\n        handleHotkeyOverItem({\n          hoveredItem,\n          newAction,\n          editor,\n          dispatch\n        })\n      } else {\n        if (newAction.tool === 'select') {\n          newAction = SettingsManager.getSettings().selectionTool\n        }\n\n        dispatch(onAction(newAction))\n      }\n\n      event.preventDefault()\n    } else if (isIE) {\n      clipArea.exec(event)\n    }\n  }\n}\n\nfunction getCurrentAction(prevActName) {\n  return actions[prevActName]?.action\n}\n\nfunction getHoveredItem(\n  ctab: Record<string, Map<number, Record<string, unknown>>>\n): Record<string, number> | null {\n  const hoveredItem = {}\n\n  for (const ctabItem in ctab) {\n    if (Object.keys(hoveredItem).length) {\n      break\n    }\n\n    if (!(ctab[ctabItem] instanceof Map)) {\n      continue\n    }\n\n    ctab[ctabItem].forEach((item, id) => {\n      if (item.hover) {\n        hoveredItem[ctabItem] = id\n      }\n    })\n  }\n\n  return Object.keys(hoveredItem).length ? hoveredItem : null\n}\n\nfunction setHotKey(key, actName, hotKeys) {\n  if (Array.isArray(hotKeys[key])) hotKeys[key].push(actName)\n  else hotKeys[key] = [actName]\n}\n\nfunction initHotKeys() {\n  const hotKeys = {}\n  let act\n\n  Object.keys(actions).forEach((actName) => {\n    act = actions[actName]\n    if (!act.shortcut) return\n\n    if (Array.isArray(act.shortcut)) {\n      act.shortcut.forEach((key) => {\n        setHotKey(key, actName, hotKeys)\n      })\n    } else {\n      setHotKey(act.shortcut, actName, hotKeys)\n    }\n  })\n\n  return keyNorm(hotKeys)\n}\n\nfunction checkGroupOnTool(group, actionTool) {\n  let index = group.indexOf(actionTool.tool)\n\n  group.forEach((actName, i) => {\n    if (isEqual(actions[actName].action, actionTool)) index = i\n  })\n\n  return index\n}\n\nconst rxnTextPlain = /\\$RXN\\n+\\s+0\\s+0\\s+0\\n*/\n\n/* ClipArea */\nexport function initClipboard(dispatch) {\n  const formats = Object.keys(formatProperties).map(\n    (format) => formatProperties[format].mime\n  )\n\n  const debAction = debounce(0, (action) => dispatch(onAction(action)))\n  const loadStruct = debounce(0, (structStr, opts) =>\n    dispatch(load(structStr, opts))\n  )\n\n  return {\n    formats,\n    focused() {\n      const state = global.currentState\n      return !state.modal\n    },\n    onCut() {\n      const state = global.currentState\n      const editor = state.editor\n      const data = clipData(editor)\n      if (data) debAction({ tool: 'eraser', opts: 1 })\n      else editor.selection(null)\n      return data\n    },\n    onCopy() {\n      const state = global.currentState\n      const editor = state.editor\n      const data = clipData(editor)\n      editor.selection(null)\n      return data\n    },\n    onPaste(data) {\n      const structStr =\n        data[ChemicalMimeType.KET] ||\n        data[ChemicalMimeType.Mol] ||\n        data[ChemicalMimeType.Rxn] ||\n        data['text/plain']\n\n      if (structStr || !rxnTextPlain.test(data['text/plain']))\n        loadStruct(structStr, { fragment: true })\n    }\n  }\n}\n\nfunction clipData(editor) {\n  const res = {}\n  const struct = editor.structSelected()\n  const errorHandler = editor.errorHandler\n\n  if (struct.isBlank()) return null\n  const simpleObjectOrText = Boolean(\n    struct.simpleObjects.size || struct.texts.size\n  )\n  if (simpleObjectOrText && isIE) {\n    errorHandler(\n      'The structure you are trying to copy contains Simple object or/and Text object.' +\n        'To copy Simple object or Text object in Internet Explorer try \"Copy as KET\" button'\n    )\n    return null\n  }\n  const molSerializer = new MolSerializer()\n  try {\n    const serializer = new KetSerializer()\n    const ket = serializer.serialize(struct)\n    res[ChemicalMimeType.KET] = ket\n\n    const type = struct.isReaction ? ChemicalMimeType.Mol : ChemicalMimeType.Rxn\n    const data = molSerializer.serialize(struct)\n    res['text/plain'] = data\n    res[type] = data\n\n    // res['chemical/x-daylight-smiles'] = smiles.stringify(struct);\n    return res\n  } catch (e: any) {\n    errorHandler(e.message)\n  }\n\n  return null\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport ClipArea from '../component/cliparea/cliparea'\nimport { connect } from 'react-redux'\nimport { initClipboard } from '../state/hotkeys'\n\nconst AppClipArea = connect(null, (dispatch) => dispatch(initClipboard as any))(\n  ClipArea\n)\n\nexport default AppClipArea\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useEffect, useRef } from 'react'\nimport { useSettingsContext } from '../../../../hooks'\n\ninterface AppHiddenCallProps {\n  onInitTmpls: (cacheEl, url) => void\n}\n\ntype Props = AppHiddenCallProps\n// todo: come up with better name\nconst AppHidden = (props: Props) => {\n  const { onInitTmpls } = props\n\n  const ref = useRef(null)\n  const { staticResourcesUrl } = useSettingsContext()\n\n  useEffect(() => {\n    if (typeof requestIdleCallback === 'function') {\n      requestIdleCallback(() => onInitTmpls(ref.current, staticResourcesUrl))\n    } else {\n      onInitTmpls(ref.current, staticResourcesUrl)\n    }\n  }, [])\n\n  return <div style={{ display: 'none' }} ref={ref} />\n}\n\nexport type { AppHiddenCallProps }\nexport { AppHidden }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AppHidden, AppHiddenCallProps } from './AppHidden'\n\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { initTmplLib } from '../../state/templates'\n\nconst mapDispatchToProps = (dispatch: Dispatch): AppHiddenCallProps => ({\n  onInitTmpls: (cacheEl, url) => {\n    initTmplLib(dispatch, url, cacheEl)\n  }\n})\n\nconst AppHiddenContainer = connect(null, mapDispatchToProps)(AppHidden)\n\nexport { AppHiddenContainer }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nconst mediaSizes = {\n  smallWidth: 600,\n  smallHeight: 600\n}\n\nexport default mediaSizes\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport * as KN from 'w3c-keyname'\n\nimport {\n  FC,\n  PropsWithChildren,\n  ReactElement,\n  useLayoutEffect,\n  useRef\n} from 'react'\n\nimport Icon from '../../../component/view/icon'\nimport clsx from 'clsx'\nimport styles from './Dialog.module.less'\n\ninterface DialogParamsCallProps {\n  onCancel: () => void\n  onOk: (result: any) => void\n}\n\nexport interface DialogParams extends DialogParamsCallProps {\n  className?: string\n}\n\ninterface DialogProps {\n  title?: string\n  params: DialogParams\n  buttons?: Array<string | ReactElement>\n  className?: string\n  needMargin?: boolean\n  withDivider?: boolean\n  headerContent?: ReactElement\n  footerContent?: ReactElement\n  buttonsNameMap?: {\n    [key in string]: string\n  }\n  focusable?: boolean\n}\n\ninterface DialogCallProps {\n  result?: () => any\n  valid?: () => boolean\n}\n\ntype Props = DialogProps & DialogCallProps\n\nconst Dialog: FC<PropsWithChildren & Props> = (props) => {\n  const {\n    children,\n    title,\n    params,\n    result = () => null,\n    valid = () => !!result(),\n    buttons = ['OK'],\n    headerContent,\n    footerContent,\n    className,\n    buttonsNameMap,\n    needMargin = true,\n    withDivider = false,\n    focusable = true,\n    ...rest\n  } = props\n  const dialogRef = useRef<HTMLDivElement>(null)\n\n  useLayoutEffect(() => {\n    if (focusable) {\n      ;(dialogRef.current as HTMLElement).focus()\n    }\n\n    return () => {\n      ;(\n        dialogRef.current\n          ?.closest('.Ketcher-root')\n          ?.getElementsByClassName('cliparea')[0] as HTMLElement\n      ).focus()\n    }\n  }, [focusable])\n\n  const isButtonOk = (button) => {\n    return button === 'OK' || button === 'Save'\n  }\n\n  const exit = (mode) => {\n    const key = isButtonOk(mode) ? 'onOk' : 'onCancel'\n    if (params && key in params && (key !== 'onOk' || valid())) {\n      params[key](result())\n    }\n  }\n\n  const keyDown = (event) => {\n    const key = KN.keyName(event)\n    const active = document.activeElement\n    const activeTextarea = active && active.tagName === 'TEXTAREA'\n    if (key === 'Escape' || (key === 'Enter' && !activeTextarea)) {\n      exit(key === 'Enter' ? 'OK' : 'Cancel')\n      event.preventDefault()\n      event.stopPropagation()\n    }\n  }\n\n  return (\n    <div\n      ref={dialogRef}\n      role=\"dialog\"\n      onSubmit={(event) => event.preventDefault()}\n      onKeyDown={keyDown}\n      tabIndex={-1}\n      className={clsx(styles.dialog, className, params.className)}\n      {...rest}\n    >\n      <header\n        className={clsx(styles.header, withDivider && styles.withDivider)}\n      >\n        {headerContent || <span>{title}</span>}\n        <div className={styles.btnContainer}>\n          <button className={styles.buttonTop} onClick={() => exit('Cancel')}>\n            <Icon name={'close'} className={styles.closeButton} />\n          </button>\n        </div>\n      </header>\n      <div className={clsx(styles.body, needMargin && styles.withMargin)}>\n        {children}\n      </div>\n\n      {(footerContent || buttons.length > 0) && (\n        <footer className={styles.footer}>\n          {footerContent}\n          {buttons.length > 0 &&\n            buttons.map((button) =>\n              typeof button !== 'string' ? (\n                button\n              ) : (\n                <input\n                  key={button}\n                  type=\"button\"\n                  className={clsx(\n                    isButtonOk(button) ? styles.ok : styles.cancel,\n                    button === 'Save' && styles.save\n                  )}\n                  value={\n                    buttonsNameMap && buttonsNameMap[button]\n                      ? buttonsNameMap[button]\n                      : button\n                  }\n                  disabled={isButtonOk(button) && !valid()}\n                  onClick={() => exit(button)}\n                />\n              )\n            )}\n        </footer>\n      )}\n    </div>\n  )\n}\n\nexport default Dialog\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styles from './LoadingCircles.module.less'\n\nexport const LoadingCircles = () => (\n  <div className={styles.container}>\n    <span />\n    <span />\n    <span />\n  </div>\n)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Fragment, FunctionalGroup, Vec2, Scale, SGroup } from 'ketcher-core'\n\nconst SELECTION_DISTANCE_COEFFICIENT = 0.4\nconst SELECTION_WITHIN_TEXT = 0\n\nconst findMaps = {\n  atoms: findClosestAtom,\n  bonds: findClosestBond,\n  enhancedFlags: findClosestEnhancedFlag,\n  sgroupData: findClosestDataSGroupData,\n  sgroups: findClosestSGroup,\n  functionalGroups: findClosestFG,\n  rxnArrows: findClosestRxnArrow,\n  rxnPluses: findClosestRxnPlus,\n  frags: findClosestFrag,\n  rgroups: findClosestRGroup,\n  simpleObjects: findClosestSimpleObject,\n  texts: findClosestText\n}\n\nfunction rectangleContainsPoint(startX, startY, width, height, x, y) {\n  return (\n    startX <= x && x <= startX + width && startY <= y && y <= startY + height\n  )\n}\n\nfunction findClosestText(restruct, cursorPosition) {\n  let minDist = null\n  let ret = null\n\n  restruct.texts.forEach((text, id) => {\n    const referencePoints = text.getReferencePoints(restruct)\n    const topX = referencePoints[0].x\n    const topY = referencePoints[0].y\n    const bottomX = referencePoints[2].x\n    const bottomY = referencePoints[2].y\n\n    const distances = []\n\n    if (cursorPosition.x >= topX && cursorPosition.x <= bottomX) {\n      if (cursorPosition.y < topY) {\n        distances.push(topY - cursorPosition.y)\n      } else if (cursorPosition.y > bottomY) {\n        distances.push(cursorPosition.y - bottomY)\n      } else {\n        distances.push(cursorPosition.y - topY, bottomY - cursorPosition.y)\n      }\n    }\n\n    if (cursorPosition.x < topX && cursorPosition.y < topY) {\n      distances.push(Vec2.dist(new Vec2(topX, topY), cursorPosition))\n    }\n\n    if (cursorPosition.x > bottomX && cursorPosition.y > bottomY) {\n      distances.push(Vec2.dist(new Vec2(bottomX, bottomY), cursorPosition))\n    }\n\n    if (cursorPosition.x < topX && cursorPosition.y > bottomY) {\n      distances.push(Vec2.dist(new Vec2(topX, bottomY), cursorPosition))\n    }\n\n    if (cursorPosition.x > bottomX && cursorPosition.y < topY) {\n      distances.push(Vec2.dist(new Vec2(bottomX, topY), cursorPosition))\n    }\n\n    if (cursorPosition.y >= topY && cursorPosition.y <= bottomY) {\n      if (cursorPosition.x < topX) {\n        distances.push(topX - cursorPosition.x)\n      } else if (cursorPosition.x > bottomX) {\n        distances.push(cursorPosition.x - bottomX)\n      } else {\n        distances.push(SELECTION_WITHIN_TEXT)\n      }\n    }\n\n    const dist = Math.min(...distances)\n\n    if (dist < SELECTION_DISTANCE_COEFFICIENT && (!ret || dist < minDist)) {\n      minDist = dist\n      ret = { id, dist: minDist }\n    }\n  })\n  return ret\n}\n\nfunction findClosestSimpleObject(restruct, pos) {\n  let minDist = null\n  let refPoint = null\n  let ret = null\n\n  restruct.simpleObjects.forEach((simpleObject, id) => {\n    const dist = simpleObject.calcDistance(pos, restruct.render.options.scale)\n\n    if (dist.minDist < 0.3 && (!ret || dist.minDist < minDist)) {\n      minDist = dist.minDist\n      refPoint = dist.refPoint\n\n      ret = { id, dist: minDist, ref: refPoint }\n    }\n  })\n  return ret\n}\n\nfunction findClosestAtom(restruct, pos, skip, minDist) {\n  let closestAtom = null\n  const maxMinDist = SELECTION_DISTANCE_COEFFICIENT\n  const skipId = skip && skip.map === 'atoms' ? skip.id : null\n  const sGroups = restruct.sgroups\n  const functionalGroups = restruct.molecule.functionalGroups\n\n  minDist = minDist || maxMinDist\n  minDist = Math.min(minDist, maxMinDist)\n\n  restruct.atoms.forEach((atom, aid) => {\n    if (\n      FunctionalGroup.isAtomInContractedFunctionalGroup(\n        atom.a,\n        sGroups,\n        functionalGroups,\n        true\n      )\n    ) {\n      return null\n    }\n    if (aid === skipId) return\n\n    const dist = Vec2.dist(pos, atom.a.pp)\n\n    if (dist < minDist) {\n      closestAtom = aid\n      minDist = dist\n    }\n  })\n\n  if (closestAtom !== null) {\n    return {\n      id: closestAtom,\n      dist: minDist\n    }\n  }\n\n  return null\n}\n\nfunction findClosestBond(restruct, pos, skip, minDist, options) {\n  // eslint-disable-line max-params\n  let closestBond = null\n  let closestBondCenter = null\n  const maxMinDist = 0.8 * SELECTION_DISTANCE_COEFFICIENT\n  const skipId = skip && skip.map === 'bonds' ? skip.id : null\n  const sGroups = restruct.sgroups\n  const functionalGroups = restruct.molecule.functionalGroups\n\n  minDist = minDist || maxMinDist\n  minDist = Math.min(minDist, maxMinDist)\n\n  let minCDist = minDist\n\n  restruct.bonds.forEach((bond, bid) => {\n    if (bid === skipId) return\n\n    const p1 = restruct.atoms.get(bond.b.begin).a.pp\n    const p2 = restruct.atoms.get(bond.b.end).a.pp\n\n    if (\n      FunctionalGroup.isBondInContractedFunctionalGroup(\n        bond.b,\n        sGroups,\n        functionalGroups\n      ) ||\n      SGroup.isBondInContractedSGroup(bond.b, sGroups)\n    ) {\n      return null\n    }\n\n    const mid = Vec2.lc2(p1, 0.5, p2, 0.5)\n    const cdist = Vec2.dist(pos, mid)\n\n    const { render } = restruct\n    const hitboxPoints = bond.getSelectionPoints(render)\n    const position = Scale.obj2scaled(pos, options)\n    const isPosInsidePolygon = position.isInsidePolygon(hitboxPoints)\n\n    if (isPosInsidePolygon) {\n      minCDist = cdist\n      closestBondCenter = bid\n    }\n\n    const hb = restruct.molecule.halfBonds.get(bond.b.hb1)\n    const dir = hb.dir\n    const norm = hb.norm\n\n    const inStripe = Vec2.dot(pos.sub(p1), dir) * Vec2.dot(pos.sub(p2), dir) < 0\n\n    if (inStripe) {\n      const dist = Math.abs(Vec2.dot(pos.sub(p1), norm))\n\n      if (dist < minDist) {\n        closestBond = bid\n        minDist = dist\n      }\n    }\n  })\n\n  if (closestBondCenter !== null) {\n    return {\n      id: closestBondCenter,\n      dist: minCDist\n    }\n  }\n\n  if (\n    closestBond !== null &&\n    minDist > SELECTION_DISTANCE_COEFFICIENT * options.scale\n  ) {\n    return {\n      id: closestBond,\n      dist: minDist\n    }\n  }\n\n  return null\n}\n\nfunction findClosestEnhancedFlag(restruct, pos, skip, _minDist, options) {\n  let minDist\n  let ret = null\n  restruct.enhancedFlags.forEach((item, id) => {\n    const fragment = restruct.molecule.frags.get(id)\n\n    if (!fragment || !fragment.enhancedStereoFlag || !options.showStereoFlags)\n      return\n\n    const p = fragment.stereoFlagPosition\n      ? new Vec2(fragment.stereoFlagPosition.x, fragment.stereoFlagPosition.y)\n      : Fragment.getDefaultStereoFlagPosition(restruct.molecule, id)\n    if (!p || Math.abs(pos.x - p.x) >= 1.0) return\n\n    const dist = Math.abs(pos.y - p.y)\n\n    if (dist < 0.3 && (!ret || dist < minDist)) {\n      minDist = dist\n      ret = { id, dist: minDist }\n    }\n  })\n  return ret\n}\n\nfunction findClosestDataSGroupData(restruct, pos) {\n  let minDist = null\n  let ret = null\n\n  restruct.sgroupData.forEach((item, id) => {\n    if (item.sgroup.type !== 'DAT') throw new Error('Data group expected')\n\n    if (item.sgroup.data.fieldName !== 'MRV_IMPLICIT_H') {\n      const box = item.sgroup.dataArea\n      const inBox =\n        box.p0.y < pos.y &&\n        box.p1.y > pos.y &&\n        box.p0.x < pos.x &&\n        box.p1.x > pos.x\n      const xDist = Math.min(\n        Math.abs(box.p0.x - pos.x),\n        Math.abs(box.p1.x - pos.x)\n      )\n\n      if (inBox && (ret === null || xDist < minDist)) {\n        ret = { id, dist: xDist }\n        minDist = xDist\n      }\n    }\n  })\n\n  return ret\n}\n\nfunction findClosestFrag(restruct, pos, skip, minDist, options) {\n  minDist = Math.min(\n    minDist || SELECTION_DISTANCE_COEFFICIENT,\n    SELECTION_DISTANCE_COEFFICIENT\n  )\n\n  const struct = restruct.molecule\n\n  const closestAtom = findClosestAtom(restruct, pos, skip, minDist)\n\n  if (closestAtom) {\n    return {\n      id: struct.atoms.get(closestAtom.id).fragment,\n      dist: closestAtom.dist\n    }\n  }\n\n  const closestBond = findClosestBond(restruct, pos, skip, minDist, options)\n\n  if (closestBond) {\n    const atomId = struct.bonds.get(closestBond.id).begin\n    return {\n      id: struct.atoms.get(atomId).fragment,\n      dist: closestBond.dist\n    }\n  }\n\n  return null\n}\n\nfunction findClosestRGroup(restruct, pos, skip, minDist) {\n  minDist = Math.min(\n    minDist || SELECTION_DISTANCE_COEFFICIENT,\n    SELECTION_DISTANCE_COEFFICIENT\n  )\n\n  let ret = null\n\n  restruct.rgroups.forEach((rgroup, rgid) => {\n    if (\n      rgid !== skip &&\n      rgroup.labelBox &&\n      rgroup.labelBox.contains(pos, 0.5)\n    ) {\n      const dist = Vec2.dist(rgroup.labelBox.centre(), pos)\n\n      if (!ret || dist < minDist) {\n        minDist = dist\n        ret = { id: rgid, dist: minDist }\n      }\n    }\n  })\n\n  return ret\n}\n\nfunction findClosestRxnArrow(restruct, pos) {\n  let minDist = null\n  let refPoint = null\n  let ret = null\n\n  restruct.rxnArrows.forEach((rxnArrow, id) => {\n    const dist = rxnArrow.calcDistance(pos, restruct.render.options.scale)\n\n    if (dist.minDist < 0.3 && (!ret || dist.minDist < minDist)) {\n      minDist = dist.minDist\n      refPoint = dist.refPoint\n\n      ret = { id, dist: minDist, ref: refPoint }\n    }\n  })\n  return ret\n}\n\nfunction findClosestRxnPlus(restruct, pos) {\n  let minDist = null\n  let ret = null\n\n  restruct.rxnPluses.forEach((plus, id) => {\n    const p = plus.item.pp\n    const dist = Math.max(Math.abs(pos.x - p.x), Math.abs(pos.y - p.y))\n\n    if (dist < 0.3 && (!ret || dist < minDist)) {\n      minDist = dist\n      ret = { id, dist: minDist }\n    }\n  })\n\n  return ret\n}\n\nfunction findClosestSGroup(restruct, pos) {\n  let ret = null\n  let minDist = SELECTION_DISTANCE_COEFFICIENT\n\n  restruct.molecule.sgroups.forEach((sg, sgid) => {\n    if (sg.functionalGroup && !sg.expanded && sg.firstSgroupAtom) return null\n\n    const d = sg.bracketDir\n    const n = d.rotateSC(1, 0)\n    const pg = new Vec2(Vec2.dot(pos, d), Vec2.dot(pos, n))\n\n    sg.areas.forEach((box) => {\n      const inBox =\n        box.p0.y < pg.y && box.p1.y > pg.y && box.p0.x < pg.x && box.p1.x > pg.x\n      const xDist = Math.min(\n        Math.abs(box.p0.x - pg.x),\n        Math.abs(box.p1.x - pg.x)\n      )\n\n      if (inBox && (ret === null || xDist < minDist)) {\n        ret = sgid\n        minDist = xDist\n      }\n    })\n  })\n\n  if (ret !== null) {\n    return {\n      id: ret,\n      dist: minDist\n    }\n  }\n\n  return null\n}\n\nfunction findClosestFG(restruct, pos, skip) {\n  const sGroups = restruct.sgroups\n  const skipId = skip && skip.map === 'functionalGroups' ? skip.id : null\n  for (const [reSGroupId, reSGroup] of sGroups.entries()) {\n    if (reSGroupId === skipId) continue\n\n    const { startX, startY, width, height } =\n      reSGroup.getTextHighlightDimensions(0, restruct.render)\n    const { x, y } = Scale.obj2scaled(pos, restruct.render.options)\n    if (rectangleContainsPoint(startX, startY, width, height, x, y)) {\n      const centerX = startX + width / 2\n      const centerY = startY + height / 2\n      const rectangleCenter = new Vec2(centerX, centerY)\n      const cursorPosition = new Vec2(x, y)\n\n      const dist = Vec2.dist(rectangleCenter, cursorPosition)\n      const { id } = reSGroup.item\n      return { id, dist }\n    }\n  }\n  return null\n}\n\nfunction findClosestItem(restruct, pos, maps, skip, options) {\n  // eslint-disable-line max-params\n  maps = maps || Object.keys(findMaps)\n\n  let priorityItem = null\n\n  const closestItem = maps.reduce((res, mp) => {\n    const minDist = res ? res.dist : null\n    const item = findMaps[mp](restruct, pos, skip, minDist, options)\n\n    if (item !== null) {\n      const enrichedItem = {\n        map: mp,\n        ...item\n      }\n\n      if (mp === 'sgroupData') {\n        priorityItem = enrichedItem\n      } else if (res === null || item.dist < res.dist) {\n        return enrichedItem\n      }\n    }\n\n    return res\n  }, null)\n\n  return priorityItem || closestItem\n}\n\n/**\n * @param restruct { ReStruct }\n * @param selected { object }\n * @param maps { Array<string> }\n * @param options { RenderOption }\n * @return {{\n * \t\tatoms: Map<number, number>?\n * \t\tbonds: Map<number, number>?\n *    atomToFunctionalGroup: Map<number, number>?\n * }}\n */\nfunction findCloseMerge(\n  restruct,\n  selected,\n  maps = ['atoms', 'bonds'],\n  options\n) {\n  const pos = {\n    atoms: new Map(), // aid -> position\n    bonds: new Map() // bid -> position\n  }\n\n  const struct = restruct.molecule\n\n  selected.atoms.forEach((aid) => {\n    pos.atoms.set(aid, struct.atoms.get(aid).pp)\n  })\n\n  selected.bonds.forEach((bid) => {\n    const bond = struct.bonds.get(bid)\n    pos.bonds.set(\n      bid,\n      Vec2.lc2(\n        struct.atoms.get(bond.begin).pp,\n        0.5,\n        struct.atoms.get(bond.end).pp,\n        0.5\n      )\n    )\n  })\n\n  const result = {\n    atoms: new Map(),\n    atomToFunctionalGroup: new Map()\n  }\n\n  maps.forEach((map) => {\n    if (map === 'atoms') {\n      Array.from(pos.atoms.keys()).forEach((atomId) => {\n        const atomPosition = pos.atoms.get(atomId)\n        mergeAtomToAtom(atomId, restruct, atomPosition, selected, result) ||\n          mergeAtomToFunctionalGroup(atomId, restruct, atomPosition, result)\n      })\n    } else {\n      result[map] = Array.from(pos[map].keys()).reduce((res, srcId) => {\n        const skip = { map, id: srcId }\n        const item = findMaps[map](\n          restruct,\n          pos[map].get(srcId),\n          skip,\n          null,\n          options\n        )\n\n        if (item && !selected[map].includes(item.id)) {\n          res.set(srcId, item.id)\n        }\n\n        return res\n      }, new Map())\n    }\n  })\n\n  return result\n}\n\nfunction mergeAtomToAtom(atomId, restruct, atomPosition, selected, result) {\n  const skip = { map: 'atoms', id: atomId }\n  const closestAtom = findClosestAtom(restruct, atomPosition, skip, null)\n\n  if (closestAtom && !selected.atoms.includes(closestAtom.id)) {\n    result.atoms.set(atomId, closestAtom.id)\n    return true\n  }\n\n  return false\n}\n\nfunction mergeAtomToFunctionalGroup(atomId, restruct, atomPosition, result) {\n  if (FunctionalGroup.isAttachmentPointAtom(atomId, restruct.molecule)) {\n    return false\n  }\n\n  const closestFunctionalGroup = findClosestFG(restruct, atomPosition, null)\n  if (closestFunctionalGroup) {\n    result.atomToFunctionalGroup.set(atomId, closestFunctionalGroup.id)\n    return true\n  }\n\n  return false\n}\n\nexport default {\n  atom: findClosestAtom, // used in Actions\n  item: findClosestItem,\n  merge: findCloseMerge\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { OperationType } from 'ketcher-core'\n\ntype Position = {\n  x: number\n  y: number\n}\n\ntype ArrowPosition = [Position, Position]\n\ntype Data = {\n  operation: any\n  id?: number\n  label?: string\n  position?: Position | ArrowPosition\n  attribute?: any\n  from?: any\n  to?: any\n  atomId?: any\n  fragId?: any\n  sGroupId?: any\n  type?: any\n  mode?: any\n}\n\nexport function customOnChangeHandler(action, handler) {\n  const data: Data[] = []\n\n  action.operations.reverse().forEach((operation) => {\n    const op = operation._inverted\n    switch (op.type) {\n      case OperationType.ATOM_ADD:\n      case OperationType.ATOM_DELETE:\n        data.push({\n          operation: op.type,\n          id: op.data.aid,\n          label: op.data.atom.label ? op.data.atom.label : '',\n          position: {\n            x: +op.data.pos.x.toFixed(2),\n            y: +op.data.pos.y.toFixed(2)\n          }\n        })\n        break\n\n      case OperationType.ATOM_ATTR:\n        data.push({\n          operation: operation.type,\n          id: operation.data.aid,\n          attribute: operation.data.attribute,\n          from: operation.data.value,\n          to: operation.data2.value\n        })\n        break\n\n      case OperationType.ATOM_MOVE:\n        data.push({\n          operation: op.type,\n          id: op.data.aid,\n          position: {\n            x: +op.data.d.x.toFixed(2),\n            y: +op.data.d.y.toFixed(2)\n          }\n        })\n        break\n\n      case OperationType.BOND_ADD:\n      case OperationType.BOND_DELETE:\n        data.push({\n          operation: op.type,\n          id: op.data.bid\n        })\n        break\n\n      case OperationType.FRAGMENT_ADD:\n      case OperationType.FRAGMENT_DELETE:\n        data.push({\n          operation: op.type,\n          id: op.frid\n        })\n        break\n\n      case OperationType.FRAGMENT_ADD_STEREO_ATOM:\n      case OperationType.FRAGMENT_DELETE_STEREO_ATOM:\n        data.push({\n          operation: op.type,\n          atomId: op.data.aid,\n          fragId: op.data.frid\n        })\n        break\n\n      case OperationType.S_GROUP_ATOM_ADD:\n      case OperationType.S_GROUP_ATOM_REMOVE:\n        data.push({\n          operation: op.type,\n          atomId: op.data.aid,\n          sGroupId: op.data.sgid\n        })\n        break\n\n      case OperationType.S_GROUP_CREATE:\n      case OperationType.S_GROUP_DELETE:\n        data.push({\n          operation: op.type,\n          type: op.data.type,\n          sGroupId: op.data.sgid\n        })\n        break\n\n      case OperationType.RXN_ARROW_ADD:\n      case OperationType.RXN_ARROW_DELETE:\n        data.push({\n          operation: op.type,\n          id: op.data.id,\n          mode: op.data.mode,\n          position: op.data.pos.map((pos) => ({\n            x: +pos.x.toFixed(2),\n            y: +pos.y.toFixed(2)\n          }))\n        })\n        break\n\n      case OperationType.RXN_ARROW_RESIZE:\n        data.push({\n          operation: op.type,\n          id: op.data.id\n        })\n        break\n\n      case OperationType.RXN_ARROW_MOVE:\n        data.push({\n          operation: op.type,\n          id: op.data.id,\n          position: {\n            x: +op.data.d.x.toFixed(2),\n            y: +op.data.d.y.toFixed(2)\n          }\n        })\n        break\n\n      case OperationType.R_GROUP_FRAGMENT:\n        data.push({\n          operation: operation.type,\n          id: op.frid\n        })\n        break\n\n      case OperationType.SIMPLE_OBJECT_ADD:\n      case OperationType.SIMPLE_OBJECT_DELETE:\n        data.push({\n          operation: op.type,\n          id: op.data.id,\n          mode: op.data.mode\n        })\n        break\n\n      case OperationType.SIMPLE_OBJECT_RESIZE:\n        data.push({\n          operation: op.type,\n          id: op.data.id\n        })\n        break\n\n      case OperationType.SIMPLE_OBJECT_MOVE:\n        data.push({\n          operation: operation.type,\n          id: operation.data.id,\n          position: {\n            x: +operation.data.d.x.toFixed(2),\n            y: +operation.data.d.y.toFixed(2)\n          }\n        })\n        break\n\n      default:\n        data.push({\n          operation: op.type\n        })\n    }\n  })\n\n  return handler(data)\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { fromAtomsAttrs, FunctionalGroup } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass APointTool implements Tool {\n  private readonly editor: Editor\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousemove(event) {\n    const struct = this.editor.render.ctab.molecule\n    const closestItem = this.editor.findItem(event, ['atoms'])\n    if (closestItem) {\n      const atom = struct.atoms.get(closestItem.id)\n      if (atom?.label !== 'R#' && atom?.rglabel === null)\n        this.editor.hover(closestItem, null, event)\n    } else {\n      this.editor.hover(null)\n    }\n  }\n\n  click(event) {\n    const editor = this.editor\n    const struct = editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const ci = editor.findItem(event, ['atoms'])\n    const atomResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (ci && ci.map === 'atoms') {\n      this.editor.hover(null)\n      const atom = molecule.atoms.get(ci.id)\n\n      if (atom?.label === 'R#' && atom?.rglabel !== null) return\n\n      const res = editor.event.elementEdit.dispatch({\n        attpnt: atom?.attpnt\n      })\n      Promise.resolve(res)\n        .then((newatom) => {\n          if (atom?.attpnt !== newatom.attpnt) {\n            const action = fromAtomsAttrs(\n              editor.render.ctab,\n              ci.id,\n              newatom,\n              null\n            )\n            editor.update(action)\n          }\n        })\n        .catch(() => null) // w/o changes\n      return true\n    }\n    return true\n  }\n}\n\nexport default APointTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Elements, FunctionalGroup } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass AttachTool implements Tool {\n  private readonly attach: { atomid: number; bondid: number }\n  private readonly editor: Editor\n\n  constructor(editor, attachPoints) {\n    this.attach = {\n      atomid: attachPoints.atomid || 0,\n      bondid: attachPoints.bondid || 0\n    }\n    this.editor = editor\n    this.editor.selection({\n      atoms: [this.attach.atomid],\n      bonds: [this.attach.bondid]\n    })\n  }\n\n  mousemove(event) {\n    const rnd = this.editor.render\n\n    const ci = this.editor.findItem(event, ['atoms', 'bonds'])\n    const struct = rnd.ctab.molecule\n    if (\n      ci &&\n      ((ci.map === 'atoms' &&\n        Elements.get(struct.atoms.get(ci.id)?.label as string)) ||\n        ci.map === 'bonds')\n    ) {\n      this.editor.hover(ci)\n    } else {\n      this.editor.hover(null)\n    }\n    return true\n  }\n\n  click(event) {\n    const editor = this.editor\n    const rnd = editor.render\n    const molecule = rnd.ctab.molecule\n    const functionalGroups = molecule.functionalGroups\n    const ci = editor.findItem(event, ['atoms', 'bonds'])\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (ci && functionalGroups.size && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n\n      if (bondId !== null) {\n        bondResult.push(bondId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (\n      ci &&\n      ((ci.map === 'atoms' &&\n        Elements.get(molecule.atoms.get(ci.id)?.label as string)) ||\n        ci.map === 'bonds')\n    ) {\n      if (ci.map === 'atoms') {\n        this.attach.atomid = ci.id\n      } else this.attach.bondid = ci.id\n\n      this.editor.selection({\n        atoms: [this.attach.atomid],\n        bonds: [this.attach.bondid]\n      })\n      this.editor.event.attachEdit.dispatch(this.attach)\n    }\n    return true\n  }\n}\n\nexport default AttachTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Bond,\n  Vec2,\n  bondChangingAction,\n  fromBondAddition,\n  fromBondsAttrs,\n  FunctionalGroup,\n  SGroup,\n  fromOneBondDeletion,\n  Struct\n} from 'ketcher-core'\n\nimport utils from '../shared/utils'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass BondTool implements Tool {\n  private readonly editor: Editor\n  private readonly atomProps: { label: string }\n  private readonly bondProps: any\n  private dragCtx: any\n  isNotActiveTool: boolean | undefined\n\n  constructor(editor, bondProps) {\n    this.editor = editor\n    this.atomProps = { label: 'C' }\n    this.bondProps = bondProps\n    if (editor.selection() && editor.selection()?.bonds) {\n      const action = fromBondsAttrs(\n        editor.render.ctab,\n        editor.selection().bonds,\n        bondProps\n      )\n      editor.update(action)\n      editor.selection(null)\n      this.isNotActiveTool = true\n    }\n  }\n\n  mousedown(event) {\n    if (this.dragCtx) return\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const ci = this.editor.findItem(event, [\n      'atoms',\n      'bonds',\n      'functionalGroups'\n    ])\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n      if (atomId !== null) atomResult.push(atomId)\n    }\n    if (ci && functionalGroups.size && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n      if (bondId !== null) bondResult.push(bondId)\n    }\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    let attachmentAtomId: number | undefined\n    if (ci?.map === 'functionalGroups') {\n      attachmentAtomId = SGroup.getAttachmentAtomIdBySGroupId(ci.id, molecule)\n    }\n\n    const rnd = this.editor.render\n    this.editor.hover(null)\n    this.editor.selection(null)\n    this.dragCtx = {\n      xy0: rnd.page2obj(event),\n      item:\n        attachmentAtomId === undefined\n          ? ci\n          : {\n              map: 'atoms',\n              id: attachmentAtomId\n            }\n    }\n    if (!this.dragCtx.item)\n      // ci.type == 'Canvas'\n      delete this.dragCtx.item\n    return true\n  }\n\n  mousemove(event) {\n    const struct = this.editor.render.ctab\n    const sgroups = struct.sgroups\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const editor = this.editor\n    const rnd = editor.render\n    if ('dragCtx' in this) {\n      const dragCtx = this.dragCtx\n\n      const pos = rnd.page2obj(event)\n      let angle = utils.calcAngle(dragCtx.xy0, pos)\n      if (!event.ctrlKey) angle = utils.fracAngle(angle, null)\n\n      const degrees = utils.degrees(angle)\n      this.editor.event.message.dispatch({ info: degrees + 'º' })\n\n      if (!('item' in dragCtx) || dragCtx.item.map === 'atoms') {\n        if ('action' in dragCtx) dragCtx.action.perform(rnd.ctab)\n        let beginAtom\n        let endAtom\n        let beginPos\n        let endPos\n        if ('item' in dragCtx && dragCtx.item.map === 'atoms') {\n          // first mousedown event intersect with any atom\n          beginAtom = dragCtx.item.id\n          endAtom = editor.findItem(event, ['atoms'], dragCtx.item)\n          const closestSGroup = editor.findItem(event, ['functionalGroups'])\n          if (\n            closestSGroup &&\n            FunctionalGroup.isContractedFunctionalGroup(\n              closestSGroup.id,\n              functionalGroups\n            )\n          ) {\n            const closestAttachmentAtomId =\n              SGroup.getAttachmentAtomIdBySGroupId(closestSGroup.id, molecule)\n            const isSaltOrSolvent = closestAttachmentAtomId === undefined\n            const isBeginFunctionalGroupItself =\n              closestAttachmentAtomId === beginAtom\n            if (!isSaltOrSolvent && !isBeginFunctionalGroupItself) {\n              endAtom = {\n                id: closestAttachmentAtomId,\n                map: 'atoms'\n              }\n            }\n          }\n          const fGroupId =\n            endAtom &&\n            FunctionalGroup.findFunctionalGroupByAtom(\n              functionalGroups,\n              endAtom.id\n            )\n          const fGroup = typeof fGroupId === 'number' && sgroups.get(fGroupId)\n          const fGroupAtoms =\n            fGroup && (SGroup.getAtoms(molecule, fGroup.item) as any)\n          if (endAtom && fGroup && endAtom.id !== fGroupAtoms?.[0]) {\n            this.editor.event.removeFG.dispatch({ fgIds: [fGroupId] })\n            endAtom = null\n          }\n        } else {\n          // first mousedown event intersect with any canvas\n          beginAtom = this.atomProps\n          beginPos = dragCtx.xy0\n          endAtom = editor.findItem(event, ['atoms', 'functionalGroups'])\n          const atomResult: Array<number> = []\n          const result: Array<number> = []\n          if (\n            endAtom &&\n            endAtom.map === 'atoms' &&\n            functionalGroups.size &&\n            this.dragCtx\n          ) {\n            const atomId = FunctionalGroup.atomsInFunctionalGroup(\n              functionalGroups,\n              endAtom.id\n            )\n            if (atomId !== null) atomResult.push(atomId)\n          } else if (endAtom?.map === 'functionalGroups') {\n            const functionalGroup = molecule.functionalGroups.get(endAtom.id)\n            if (!SGroup.isSaltOrSolvent(functionalGroup?.name || '')) {\n              const attachmentAtomId = SGroup.getAttachmentAtomIdBySGroupId(\n                endAtom.id,\n                molecule\n              )\n              endAtom =\n                attachmentAtomId === undefined\n                  ? null\n                  : {\n                      map: 'atoms',\n                      id: attachmentAtomId\n                    }\n            }\n          }\n          if (atomResult.length > 0) {\n            for (const id of atomResult) {\n              const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n                functionalGroups,\n                id\n              )\n              fgId !== null && !result.includes(fgId) && result.push(fgId)\n            }\n          }\n          if (result.length > 0) {\n            this.editor.event.removeFG.dispatch({ fgIds: result })\n            delete this.dragCtx\n            return\n          }\n        }\n        let dist = Number.MAX_VALUE\n        if (endAtom?.map === 'atoms') {\n          // after mousedown events is appered, cursor is moved and then cursor intersects any atoms\n          endAtom = endAtom.id\n        } else {\n          endAtom = this.atomProps\n          const xy1 = rnd.page2obj(event)\n          dist = Vec2.dist(dragCtx.xy0, xy1)\n          if (beginPos) {\n            // rotation only, leght of bond = 1;\n            endPos = utils.calcNewAtomPos(beginPos, xy1, event.ctrlKey)\n          } else {\n            // first mousedown event intersect with any atom and\n            // rotation only, leght of bond = 1;\n            const atom = rnd.ctab.molecule.atoms.get(beginAtom)\n            endPos = utils.calcNewAtomPos(\n              atom?.pp.get_xy0(),\n              xy1,\n              event.ctrlKey\n            )\n          }\n        }\n        // don't rotate the bond if the distance between the start and end point is too small\n        if (dist > 0.3) {\n          const [existingBondId, bond] = this.getExistingBond(\n            molecule,\n            beginAtom,\n            endAtom\n          )\n          dragCtx.action = fromBondAddition(\n            rnd.ctab,\n            this.bondProps,\n            beginAtom,\n            endAtom,\n            beginPos,\n            endPos\n          )[0]\n          if (existingBondId !== null) {\n            this.dragCtx.existedBond = bond\n            this.dragCtx.action.mergeWith(\n              fromOneBondDeletion(rnd.ctab, existingBondId)\n            )\n          }\n        } else {\n          delete dragCtx.action\n        }\n        this.restoreBondWhenHoveringOnCanvas(event)\n        this.editor.update(dragCtx.action, true)\n        return true\n      }\n    }\n    this.editor.hover(\n      this.editor.findItem(event, ['atoms', 'bonds', 'functionalGroups']),\n      null,\n      event\n    )\n    return true\n  }\n\n  mouseup(event) {\n    if ('dragCtx' in this) {\n      const dragCtx = this.dragCtx\n      const rnd = this.editor.render\n      const struct = rnd.ctab.molecule\n      if ('action' in dragCtx) {\n        this.restoreBondWhenHoveringOnCanvas(event)\n        this.editor.update(dragCtx.action)\n      } else if (!('item' in dragCtx)) {\n        const xy = rnd.page2obj(event)\n        const v = new Vec2(1.0 / 2, 0).rotate(\n          this.bondProps.type === Bond.PATTERN.TYPE.SINGLE ? -Math.PI / 6 : 0\n        )\n        const bondAddition = fromBondAddition(\n          rnd.ctab,\n          this.bondProps,\n          { label: 'C' },\n          { label: 'C' },\n          Vec2.diff(xy, v),\n          Vec2.sum(xy, v)\n        )\n\n        this.editor.update(bondAddition[0])\n      } else if (dragCtx.item.map === 'atoms') {\n        // click on atom\n        this.editor.update(\n          fromBondAddition(rnd.ctab, this.bondProps, dragCtx.item.id, {\n            label: 'C'\n          })[0]\n        )\n        delete this.dragCtx.existedBond\n      } else if (dragCtx.item.map === 'bonds') {\n        const bondProps = Object.assign({}, this.bondProps)\n        const bond = struct.bonds.get(dragCtx.item.id) as Bond\n\n        this.editor.update(\n          bondChangingAction(rnd.ctab, dragCtx.item.id, bond, bondProps)\n        )\n      }\n      delete this.dragCtx\n    }\n    this.editor.event.message.dispatch({\n      info: false\n    })\n    this.editor.hover(\n      this.editor.findItem(event, ['atoms', 'bonds']),\n      null,\n      event\n    )\n    return true\n  }\n\n  /*\n    If we want to add a new bond, we need to delete previous one\n    But we can change our mind, then deleted bond needs to be restored\n  */\n  restoreBondWhenHoveringOnCanvas(event) {\n    if (!this.dragCtx.existedBond) {\n      return\n    }\n    const isHoveringOverAtom = this.editor.findItem(event, ['atoms'])\n    if (!isHoveringOverAtom) {\n      const { begin, end } = this.dragCtx.existedBond\n      const bondEnd = this.dragCtx.item.id === begin ? end : begin\n      this.dragCtx.action.mergeWith(\n        fromBondAddition(\n          this.editor.render.ctab,\n          this.dragCtx.existedBond,\n          this.dragCtx.item.id,\n          bondEnd\n        )[0]\n      )\n      delete this.dragCtx.existedBond\n    }\n  }\n\n  getExistingBond(struct: Struct, begin: number, end: number) {\n    for (const [bondId, bond] of struct.bonds.entries()) {\n      const alreadyHasBondInOtherDirection =\n        (bond.begin === end && bond.end === begin) ||\n        (bond.begin === begin && bond.end === end)\n      if (alreadyHasBondInOtherDirection) {\n        return [bondId, bond] as const\n      }\n    }\n    return [null, null] as const\n  }\n}\n\nexport default BondTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Bond,\n  Vec2,\n  bondChangingAction,\n  fromChain,\n  fromItemsFuse,\n  getHoverToFuse,\n  getItemsToFuse,\n  FunctionalGroup,\n  SGroup\n} from 'ketcher-core'\n\nimport { atomLongtapEvent } from './atom'\nimport utils from '../shared/utils'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ChainTool implements Tool {\n  private readonly editor: Editor\n  private dragCtx: any\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    if (this.dragCtx) return\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const rnd = this.editor.render\n    const ci = this.editor.findItem(event, [\n      'atoms',\n      'bonds',\n      'functionalGroups'\n    ])\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (ci && functionalGroups.size && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n\n      if (bondId !== null) {\n        bondResult.push(bondId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    this.editor.hover(null)\n    this.dragCtx = {\n      xy0: rnd.page2obj(event),\n      item: ci\n    }\n\n    if (ci && ci.map === 'atoms') {\n      this.editor.selection({ atoms: [ci.id] }) // for change atom\n      // this event has to be stopped in others events by `tool.dragCtx.stopTapping()`\n      atomLongtapEvent(this, rnd)\n    }\n\n    if (ci?.map === 'functionalGroups') {\n      const functionalGroup = molecule.functionalGroups.get(ci.id)\n      if (!SGroup.isSaltOrSolvent(functionalGroup?.name || '')) {\n        const sGroupId = ci.id\n        const sGroup = molecule.sgroups.get(sGroupId)\n        const attachmentAtomId = sGroup?.getAttAtomId(molecule)\n        this.dragCtx.item = {\n          map: 'atoms',\n          id: attachmentAtomId\n        }\n      }\n    }\n\n    if (!this.dragCtx.item)\n      // ci.type == 'Canvas'\n      delete this.dragCtx.item\n    return true\n  }\n\n  mousemove(event) {\n    const editor = this.editor\n    const restruct = editor.render.ctab\n    const dragCtx = this.dragCtx\n\n    editor.hover(\n      this.editor.findItem(event, ['atoms', 'bonds', 'functionalGroups']),\n      null,\n      event\n    )\n    if (!dragCtx) {\n      return true\n    }\n\n    if (dragCtx && dragCtx.stopTapping) {\n      dragCtx.stopTapping()\n    }\n\n    editor.selection(null)\n\n    if (!dragCtx.item || dragCtx.item.map === 'atoms') {\n      if (dragCtx.action) {\n        dragCtx.action.perform(restruct)\n      }\n\n      const atoms = restruct.molecule.atoms\n\n      const pos0 = dragCtx.item ? atoms.get(dragCtx.item.id)?.pp : dragCtx.xy0\n\n      const pos1 = editor.render.page2obj(event)\n      const sectCount = Math.ceil(Vec2.diff(pos1, pos0).length())\n\n      const angle = event.ctrlKey\n        ? utils.calcAngle(pos0, pos1)\n        : utils.fracAngle(pos0, pos1)\n\n      const [action, newItems] = fromChain(\n        restruct,\n        pos0,\n        angle,\n        sectCount,\n        dragCtx.item ? dragCtx.item.id : null\n      )\n\n      editor.event.message.dispatch({\n        info: sectCount + ' sectors'\n      })\n\n      dragCtx.action = action\n      editor.update(dragCtx.action, true)\n\n      dragCtx.mergeItems = getItemsToFuse(editor, newItems)\n      editor.hover(getHoverToFuse(dragCtx.mergeItems))\n\n      return true\n    }\n\n    return true\n  }\n\n  mouseup() {\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    let atom\n    const atomResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (this.dragCtx && this.dragCtx.mergeItems && functionalGroups.size) {\n      atom = this.dragCtx.mergeItems.atoms.values().next().value\n    }\n    if (atom) {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        atom\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n    const dragCtx = this.dragCtx\n\n    if (!dragCtx) {\n      return true\n    }\n\n    delete this.dragCtx\n\n    const editor = this.editor\n\n    if (dragCtx.stopTapping) {\n      dragCtx.stopTapping()\n    }\n\n    if (!dragCtx.action && dragCtx.item && dragCtx.item.map === 'bonds') {\n      const bond = molecule.bonds.get(dragCtx.item.id) as Bond\n\n      dragCtx.action = bondChangingAction(struct, dragCtx.item.id, bond, {\n        type: Bond.PATTERN.TYPE.SINGLE,\n        stereo: Bond.PATTERN.STEREO.NONE\n      })\n    } else {\n      dragCtx.action = dragCtx.action\n        ? fromItemsFuse(struct, dragCtx.mergeItems).mergeWith(dragCtx.action)\n        : fromItemsFuse(struct, dragCtx.mergeItems)\n    }\n\n    editor.selection(null)\n    editor.hover(null)\n\n    if (dragCtx.action) {\n      editor.update(dragCtx.action)\n    }\n\n    editor.event.message.dispatch({\n      info: false\n    })\n\n    return true\n  }\n\n  cancel() {\n    this.mouseup()\n  }\n\n  mouseleave() {\n    this.mouseup()\n  }\n}\n\nexport default ChainTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Elements, fromAtomsAttrs, FunctionalGroup } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ChargeTool implements Tool {\n  private readonly editor: Editor\n  private readonly charge: any\n\n  constructor(editor, charge) {\n    this.editor = editor\n    this.editor.selection(null)\n    this.charge = charge\n  }\n\n  mousemove(event) {\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const ci = this.editor.findItem(event, ['atoms'])\n    if (\n      ci &&\n      ci.map === 'atoms' &&\n      Elements.get(molecule.atoms.get(ci.id)?.label as number | string)\n    ) {\n      this.editor.hover(ci)\n    } else {\n      this.editor.hover(null, null, event)\n    }\n    return true\n  }\n\n  click(event) {\n    const editor = this.editor\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const rnd = editor.render\n    const ci = editor.findItem(event, ['atoms', 'bonds'])\n    const atomResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups.size && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (\n      ci &&\n      ci.map === 'atoms' &&\n      Elements.get(molecule.atoms.get(ci.id)?.label as string | number)\n    ) {\n      this.editor.hover(ci)\n      this.editor.update(\n        fromAtomsAttrs(\n          rnd.ctab,\n          ci.id,\n          {\n            charge: molecule.atoms.get(ci.id)?.charge + this.charge\n          },\n          null\n        )\n      )\n    }\n    return true\n  }\n}\n\nexport default ChargeTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  findStereoAtoms,\n  fromAtomsAttrs,\n  fromStereoFlagUpdate\n} from 'ketcher-core'\n\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass EnhancedStereoTool implements Tool {\n  private readonly editor: Editor\n  private readonly stereoAtoms: Array<number>\n  isNotActiveTool: true\n\n  constructor(editor) {\n    const selection = editor.selection()\n    this.editor = editor\n    this.isNotActiveTool = true\n\n    this.stereoAtoms = findStereoAtoms(\n      editor.struct(),\n      selection\n        ? selection.atoms || []\n        : Array.from(editor.struct().atoms.keys())\n    )\n\n    if (this.stereoAtoms.length === 0) {\n      return\n    }\n\n    EnhancedStereoTool.changeAtomsStereoAction(\n      this.editor,\n      this.stereoAtoms\n    ).then((action) => action && editor.update(action))\n  }\n\n  static changeAtomsStereoAction(editor: Editor, stereoAtoms: Array<number>) {\n    const struct = editor.struct()\n    const restruct = editor.render.ctab\n    const stereoLabels = stereoAtoms.map((stereoAtom) => {\n      const atom = struct.atoms.get(stereoAtom)\n      return atom && atom.stereoLabel\n    })\n    const hasAnotherLabel = stereoLabels.some(\n      (stereoLabel) => stereoLabel !== stereoLabels[0]\n    )\n    const res = editor.event.enhancedStereoEdit.dispatch({\n      stereoLabel: hasAnotherLabel ? null : stereoLabels[0]\n    })\n\n    return res.then((stereoLabel) => {\n      if (!stereoLabel) {\n        return null\n      }\n\n      const action = stereoAtoms.reduce(\n        (acc, stereoAtom) => {\n          return acc.mergeWith(\n            fromStereoFlagUpdate(\n              restruct,\n              struct.atoms.get(stereoAtom)?.fragment\n            )\n          )\n        },\n        fromAtomsAttrs(\n          restruct,\n          stereoAtoms,\n          {\n            stereoLabel\n          },\n          false\n        )\n      )\n      action.operations.reverse()\n      return action\n    })\n  }\n}\n\nexport default EnhancedStereoTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  fromArrowDeletion,\n  fromFragmentDeletion,\n  fromOneAtomDeletion,\n  fromOneBondDeletion,\n  fromPlusDeletion,\n  fromSgroupDeletion,\n  fromSimpleObjectDeletion,\n  fromTextDeletion,\n  FunctionalGroup,\n  SGroup\n} from 'ketcher-core'\n\nimport LassoHelper from './helper/lasso'\nimport { selMerge } from './select'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass EraserTool implements Tool {\n  private readonly editor: Editor\n  private readonly maps: Array<string>\n  private readonly lassoHelper: LassoHelper\n  isNotActiveTool: boolean | undefined\n\n  constructor(editor, mode) {\n    this.editor = editor\n    this.maps = [\n      'atoms',\n      'bonds',\n      'rxnArrows',\n      'rxnPluses',\n      'sgroups',\n      'functionalGroups',\n      'sgroupData',\n      'simpleObjects',\n      'texts'\n    ]\n    this.lassoHelper = new LassoHelper(mode || 0, editor, null)\n\n    if (editor.selection()) {\n      const action = fromFragmentDeletion(\n        editor.render.ctab,\n        editor.selection()\n      )\n      editor.update(action)\n      editor.selection(null)\n      this.isNotActiveTool = true\n    }\n  }\n\n  mousedown(event) {\n    const ci = this.editor.findItem(event, this.maps)\n\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      this.lassoHelper.begin(event)\n    }\n  }\n\n  mousemove(event) {\n    if (this.lassoHelper.running()) {\n      this.editor.selection(this.lassoHelper.addPoint(event))\n    } else {\n      this.editor.hover(this.editor.findItem(event, this.maps), null, event)\n    }\n  }\n\n  mouseup() {\n    const struct = this.editor.render.ctab\n    const sgroups = struct.sgroups\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const selected = this.editor.selection()\n    const newSelected: Record<string, any> = { atoms: [], bonds: [] }\n    let actualSgroupId\n    const atomsResult: Array<number> = []\n    const bondsResult: Array<number> = []\n    const preResult: Array<number> = []\n\n    if (selected && functionalGroups.size && selected.atoms) {\n      for (const atom of selected.atoms) {\n        const atomId = FunctionalGroup.atomsInFunctionalGroup(\n          functionalGroups,\n          atom\n        )\n        const atomFromStruct = atomId !== null && struct.atoms.get(atomId)?.a\n\n        if (atomFromStruct) {\n          for (const sgId of atomFromStruct.sgs.values()) {\n            actualSgroupId = sgId\n          }\n        }\n\n        if (\n          atomFromStruct &&\n          FunctionalGroup.isAtomInContractedFunctionalGroup(\n            atomFromStruct,\n            sgroups,\n            functionalGroups,\n            true\n          )\n        ) {\n          const sgroupAtoms =\n            actualSgroupId !== undefined &&\n            SGroup.getAtoms(molecule, struct.sgroups.get(actualSgroupId)?.item)\n          const sgroupBonds =\n            actualSgroupId !== undefined &&\n            SGroup.getBonds(molecule, struct.sgroups.get(actualSgroupId)?.item)\n          atom === sgroupAtoms[0] &&\n            newSelected.atoms.push(...(sgroupAtoms as Array<any>)) &&\n            newSelected.bonds.push(...(sgroupBonds as Array<any>))\n        }\n\n        if (\n          atomFromStruct &&\n          !FunctionalGroup.isAtomInContractedFunctionalGroup(\n            atomFromStruct,\n            sgroups,\n            functionalGroups,\n            true\n          )\n        ) {\n          atomsResult.push(atomId)\n        }\n      }\n    }\n\n    if (selected && functionalGroups.size && selected.bonds) {\n      for (const bond of selected.bonds) {\n        const bondId = FunctionalGroup.bondsInFunctionalGroup(\n          molecule,\n          functionalGroups,\n          bond\n        )\n        const bondFromStruct = bondId !== null && struct.bonds.get(bondId)?.b\n\n        if (\n          bondFromStruct &&\n          !FunctionalGroup.isBondInContractedFunctionalGroup(\n            bondFromStruct,\n            sgroups,\n            functionalGroups\n          )\n        ) {\n          bondsResult.push(bondId)\n        }\n      }\n    }\n\n    if (atomsResult.length > 0) {\n      for (const id of atomsResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n        fgId !== null && !preResult.includes(fgId) && preResult.push(fgId)\n      }\n    }\n\n    if (bondsResult.length > 0) {\n      for (const id of bondsResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n        fgId !== null && !preResult.includes(fgId) && preResult.push(fgId)\n      }\n    }\n\n    if (preResult.length > 0) {\n      const result: Array<number> = []\n      preResult.forEach((fgId) => {\n        const sgAtoms = sgroups.get(fgId)?.item.atoms\n        sgAtoms.forEach((atom) => {\n          !atomsResult.includes(atom) &&\n            !result.includes(fgId) &&\n            result.push(fgId)\n        })\n      })\n\n      if (result.length > 0) {\n        this.editor.selection(null)\n        this.editor.event.removeFG.dispatch({ fgIds: result })\n        this.lassoHelper.cancel()\n      }\n    }\n\n    // eslint-disable-line max-statements\n    const rnd = this.editor.render\n\n    if (this.lassoHelper.running()) {\n      // TODO it catches more events than needed, to be re-factored\n      const sel =\n        newSelected.atoms.length > 0\n          ? selMerge(this.lassoHelper.end(), newSelected, false)\n          : this.lassoHelper.end()\n      this.editor.update(fromFragmentDeletion(rnd.ctab, sel))\n      this.editor.selection(null)\n    }\n  }\n\n  click(event) {\n    const rnd = this.editor.render\n    const restruct = rnd.ctab\n    const sgroups = restruct.sgroups\n    const molecule = restruct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const ci = this.editor.findItem(event, this.maps)\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (\n      ci &&\n      functionalGroups &&\n      ci.map === 'functionalGroups' &&\n      !FunctionalGroup.isContractedFunctionalGroup(ci.id, functionalGroups)\n    ) {\n      const sGroup = sgroups.get(ci.id)\n\n      if (FunctionalGroup.isFunctionalGroup(sGroup?.item)) {\n        result.push(ci.id)\n      }\n    } else if (ci && functionalGroups && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n      const atomFromStruct = atomId !== null && restruct.atoms.get(atomId)?.a\n\n      if (\n        atomFromStruct &&\n        !FunctionalGroup.isAtomInContractedFunctionalGroup(\n          atomFromStruct,\n          sgroups,\n          functionalGroups,\n          true\n        )\n      ) {\n        atomResult.push(atomId)\n      }\n    } else if (ci && functionalGroups && ci.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ci.id\n      )\n      const bondFromStruct = bondId !== null && restruct.bonds.get(bondId)?.b\n\n      if (\n        bondFromStruct &&\n        !FunctionalGroup.isBondInContractedFunctionalGroup(\n          bondFromStruct,\n          sgroups,\n          functionalGroups\n        )\n      ) {\n        bondResult.push(bondId)\n      }\n    }\n\n    if (atomResult.length) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n    } else if (bondResult.length) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n    }\n\n    if (result.length) {\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (!ci) return // ci.type == 'Canvas'\n\n    this.editor.hover(null)\n\n    if (ci.map === 'atoms') {\n      this.editor.update(fromOneAtomDeletion(restruct, ci.id))\n    } else if (ci.map === 'bonds') {\n      this.editor.update(fromOneBondDeletion(restruct, ci.id))\n    } else if (\n      ci.map === 'functionalGroups' &&\n      FunctionalGroup.isContractedFunctionalGroup(ci.id, functionalGroups)\n    ) {\n      const sGroup = sgroups.get(ci.id)\n      this.editor.update(\n        fromFragmentDeletion(rnd.ctab, {\n          atoms: [...SGroup.getAtoms(molecule, sGroup?.item)],\n          bonds: [...SGroup.getBonds(molecule, sGroup?.item)]\n        })\n      )\n    } else if (ci.map === 'sgroups' || ci.map === 'sgroupData') {\n      const sGroup = sgroups.get(ci.id)\n\n      if (FunctionalGroup.isFunctionalGroup(sGroup?.item)) {\n        this.editor.event.removeFG.dispatch({ fgIds: [ci.id] })\n      } else {\n        this.editor.update(fromSgroupDeletion(restruct, ci.id))\n      }\n    } else if (ci.map === 'rxnArrows') {\n      this.editor.update(fromArrowDeletion(restruct, ci.id))\n    } else if (ci.map === 'rxnPluses') {\n      this.editor.update(fromPlusDeletion(restruct, ci.id))\n    } else if (ci.map === 'simpleObjects') {\n      this.editor.update(fromSimpleObjectDeletion(restruct, ci.id))\n    } else if (ci.map === 'texts') {\n      this.editor.update(fromTextDeletion(restruct, ci.id))\n    } else {\n      // TODO re-factoring needed - should be \"map-independent\"\n      console.error(\n        'EraserTool: unable to delete the object ' + ci.map + '[' + ci.id + ']'\n      )\n      return\n    }\n    this.editor.selection(null)\n  }\n\n  mouseleave() {\n    this.mouseup()\n  }\n\n  cancel() {\n    if (this.lassoHelper.running()) {\n      this.lassoHelper.end()\n    }\n\n    this.editor.selection(null)\n  }\n}\n\nexport default EraserTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Editor from '../Editor'\nimport { Vec2 } from 'ketcher-core'\nimport { Tool } from './Tool'\n\nclass HandTool implements Tool {\n  private readonly editor: Editor\n  private begPos: Vec2 | null = null\n  private endPos: Vec2 | null = null\n\n  constructor(editor) {\n    this.editor = editor\n    const { clientX, clientY } = this.editor.lastEvent || {\n      clientX: 0,\n      clientY: 0\n    }\n    this.editor.event.cursor.dispatch({\n      status: 'enable',\n      cursorPosition: { clientX, clientY }\n    })\n  }\n\n  mousedown(event) {\n    const { clientX, clientY } = event\n    this.begPos = new Vec2(clientX, clientY)\n  }\n\n  mousemove(event) {\n    this.editor.event.cursor.dispatch({ status: 'move' })\n    this.editor.hover(\n      this.editor.findItem(event, ['atoms', 'bonds'], null),\n      null,\n      event\n    )\n\n    if (this.begPos == null) {\n      return\n    }\n    const { clientX, clientY } = event\n    this.endPos = new Vec2(clientX, clientY)\n\n    const rnd = this.editor.render\n    const diff = Vec2.diff(this.endPos, this.begPos).scaled(\n      1 / this.editor.zoom()\n    )\n    this.begPos = this.endPos\n\n    rnd.ctab.translate(diff)\n    rnd.options.offset = rnd.options.offset.add(diff)\n    rnd.update(false)\n  }\n\n  mouseup(event) {\n    if (this.begPos === null) return\n    const rnd = this.editor.render\n    this.endPos = rnd.page2obj(event)\n    this.begPos = null\n    this.endPos = null\n    rnd.update(false)\n  }\n\n  mouseover() {\n    this.editor.event.cursor.dispatch({ status: 'mouseover' })\n  }\n\n  mouseLeaveClientArea() {\n    this.begPos = null\n    this.endPos = null\n    this.editor.event.cursor.dispatch({ status: 'leave' })\n  }\n\n  cancel() {\n    this.editor.event.cursor.dispatch({ status: 'disable' })\n  }\n}\n\nexport default HandTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  expandSGroupWithMultipleAttachmentPoint,\n  fromItemsFuse,\n  fromPaste,\n  fromTemplateOnAtom,\n  FunctionalGroup,\n  getHoverToFuse,\n  getItemsToFuse,\n  SGroup,\n  Struct,\n  Vec2\n} from 'ketcher-core'\nimport Editor from '../Editor'\nimport { dropAndMerge } from './helper/dropAndMerge'\nimport { getGroupIdsFromItemArrays } from './helper/getGroupIdsFromItems'\nimport utils from '../shared/utils'\nimport { filterNotInCollapsedSGroup } from './helper/filterNotInCollapsedSGroup'\nimport { Tool } from './Tool'\n\nclass PasteTool implements Tool {\n  private readonly editor: Editor\n  private readonly struct: Struct\n  private action: any\n  private dragCtx: any\n  private mergeItems: any\n  private readonly isSingleContractedGroup: boolean\n\n  constructor(editor, struct) {\n    this.editor = editor\n    this.editor.selection(null)\n    this.struct = struct\n\n    this.isSingleContractedGroup =\n      struct.isSingleGroup() && !struct.functionalGroups.get(0)?.isExpanded\n\n    const rnd = this.editor.render\n    const { clientHeight, clientWidth } = rnd.clientArea\n    const point = this.editor.lastEvent\n      ? rnd.page2obj(this.editor.lastEvent)\n      : rnd.page2obj({\n          pageX: clientWidth / 2,\n          pageY: clientHeight / 2\n        } as MouseEvent)\n\n    const [action, pasteItems] = fromPaste(rnd.ctab, this.struct, point)\n    this.action = action\n    this.editor.update(this.action, true)\n\n    action.mergeWith(\n      expandSGroupWithMultipleAttachmentPoint(this.editor.render.ctab)\n    )\n\n    this.editor.update(this.action, true)\n\n    this.mergeItems = getItemsToFuse(this.editor, pasteItems)\n    this.editor.hover(getHoverToFuse(this.mergeItems), this)\n  }\n\n  mousedown(event) {\n    if (\n      !this.isSingleContractedGroup ||\n      SGroup.isSaltOrSolvent(this.struct.sgroups.get(0)?.data.name)\n    ) {\n      return\n    }\n\n    if (this.action) {\n      // remove pasted group from canvas to find closest group correctly\n      this.action?.perform(this.editor.render.ctab)\n    }\n\n    const closestGroupItem = this.editor.findItem(event, ['functionalGroups'])\n    const closestGroup = this.editor.struct().sgroups.get(closestGroupItem?.id)\n\n    // not dropping on a group (tmp, should be removed when dealing with other entities)\n    if (!closestGroupItem || SGroup.isSaltOrSolvent(closestGroup?.data.name)) {\n      // recreate action and continue as usual\n      const [action] = fromPaste(\n        this.editor.render.ctab,\n        this.struct,\n        this.editor.render.page2obj(event)\n      )\n      this.action = action\n      return\n    }\n\n    // remove action to prevent error when trying to \"perform\" it again in mousemove\n    this.action = null\n\n    this.dragCtx = {\n      xy0: this.editor.render.page2obj(event),\n      item: closestGroupItem\n    }\n  }\n\n  mousemove(event) {\n    if (this.action) {\n      this.action?.perform(this.editor.render.ctab)\n    }\n\n    if (this.dragCtx) {\n      // template-like logic for group-on-group actions\n      let pos0: Vec2 | null | undefined = null\n      const pos1 = this.editor.render.page2obj(event)\n\n      const extraBond = true\n\n      const targetGroup = this.editor.struct().sgroups.get(this.dragCtx.item.id)\n      const atomId = targetGroup?.getAttAtomId(this.editor.struct())\n\n      if (atomId !== undefined) {\n        const atom = this.editor.struct().atoms.get(atomId)\n        pos0 = atom?.pp\n      }\n\n      // calc angle\n      let angle = utils.calcAngle(pos0, pos1)\n\n      if (!event.ctrlKey) {\n        angle = utils.fracAngle(angle, null)\n      }\n\n      const degrees = utils.degrees(angle)\n\n      // check if anything changed since last time\n      if (\n        this.dragCtx.hasOwnProperty('angle') &&\n        this.dragCtx.angle === degrees\n      )\n        return\n\n      if (this.dragCtx.action) {\n        this.dragCtx.action.perform(this.editor.render.ctab)\n      }\n\n      this.dragCtx.angle = degrees\n\n      const [action] = fromTemplateOnAtom(\n        this.editor.render.ctab,\n        prepareTemplateFromSingleGroup(this.struct),\n        atomId,\n        angle,\n        extraBond\n      )\n\n      this.dragCtx.action = action\n      this.editor.update(this.dragCtx.action, true)\n    } else {\n      // todo delete after supporting expand - collapse for 2 attachment points\n      this.struct.sgroups.forEach((sgroup) => {\n        const countAttachmentPoint = FunctionalGroup.getAttachmentPointCount(\n          sgroup,\n          this.struct\n        )\n        if (countAttachmentPoint > 1) {\n          sgroup.setAttr('expanded', true)\n        }\n      })\n      // common paste logic\n      const [action, pasteItems] = fromPaste(\n        this.editor.render.ctab,\n        this.struct,\n        this.editor.render.page2obj(event)\n      )\n      this.action = action\n      this.editor.update(this.action, true, { resizeCanvas: false })\n      const visiblePasteItems = filterNotInCollapsedSGroup(\n        pasteItems,\n        this.editor.struct()\n      )\n\n      this.mergeItems = getItemsToFuse(this.editor, visiblePasteItems)\n      this.editor.hover(getHoverToFuse(this.mergeItems))\n    }\n  }\n\n  mouseup() {\n    const idsOfItemsMerged = this.mergeItems && {\n      ...(this.mergeItems.atoms && {\n        atoms: Array.from(this.mergeItems.atoms.values())\n      }),\n      ...(this.mergeItems.bonds && {\n        bonds: Array.from(this.mergeItems.bonds.values())\n      })\n    }\n\n    const groupsIdsInvolvedInMerge = getGroupIdsFromItemArrays(\n      this.editor.struct(),\n      idsOfItemsMerged\n    )\n\n    if (groupsIdsInvolvedInMerge.length) {\n      this.editor.event.removeFG.dispatch({ fgIds: groupsIdsInvolvedInMerge })\n      return\n    }\n\n    if (this.dragCtx) {\n      const dragCtx = this.dragCtx\n      delete this.dragCtx\n\n      dragCtx.action = dragCtx.action\n        ? fromItemsFuse(this.editor.render.ctab, dragCtx.mergeItems).mergeWith(\n            dragCtx.action\n          )\n        : fromItemsFuse(this.editor.render.ctab, dragCtx.mergeItems)\n\n      this.editor.hover(null)\n      this.editor.update(dragCtx.action)\n      this.editor.event.message.dispatch({ info: false })\n    } else {\n      // need to delete action first, because editor.update calls this.cancel() and thus action revert 🤦‍♂️\n      const action = this.action\n      delete this.action\n      if (!this.isSingleContractedGroup || !this.mergeItems) {\n        this.editor.update(\n          dropAndMerge(this.editor, this.mergeItems, action, true)\n        )\n      }\n    }\n  }\n\n  cancel() {\n    const rnd = this.editor.render\n    this.editor.hover(null)\n\n    if (this.action) {\n      this.action.perform(rnd.ctab) // revert the action\n      delete this.action\n      rnd.update()\n    }\n  }\n\n  mouseleave() {\n    this.cancel()\n  }\n}\n\ntype Template = {\n  aid?: number\n  molecule?: Struct\n  xy0?: Vec2\n  angle0?: number\n}\n\n/** Adds position and angle info to the molecule, similar to Template tool native behavior */\nfunction prepareTemplateFromSingleGroup(molecule: Struct): Template | null {\n  const template: Template = {}\n  const sgroup = molecule.sgroups.get(0)\n  const xy0 = new Vec2()\n\n  molecule.atoms.forEach((atom) => {\n    xy0.add_(atom.pp) // eslint-disable-line no-underscore-dangle\n  })\n\n  template.aid = sgroup?.getAttAtomId(molecule) || 0\n  template.molecule = molecule\n  template.xy0 = xy0.scaled(1 / (molecule.atoms.size || 1)) // template center\n\n  const atom = molecule.atoms.get(template.aid)\n  if (atom) {\n    template.angle0 = utils.calcAngle(atom.pp, template.xy0) // center tilt\n  }\n\n  return template\n}\n\nexport default PasteTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Atom,\n  fromAtomAddition,\n  fromAtomsAttrs,\n  FunctionalGroup\n} from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass RGroupAtomTool implements Tool {\n  private readonly editor: Editor\n\n  constructor(editor) {\n    // TODO: map atoms with labels\n    editor.selection(null)\n    this.editor = editor\n  }\n\n  mousemove(event) {\n    const struct = this.editor.render.ctab.molecule\n    const ci = this.editor.findItem(event, ['atoms'])\n\n    if (ci) {\n      const atom = struct.atoms.get(ci.id)\n      if (atom?.attpnt === null) this.editor.hover(ci, null, event)\n    } else {\n      this.editor.hover(null)\n    }\n  }\n\n  click(event) {\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const rnd = this.editor.render\n    const ci = this.editor.findItem(event, ['atoms'])\n    const atomResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ci && functionalGroups && ci.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ci.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      this.editor.hover(null)\n      propsDialog(this.editor, null, rnd.page2obj(event))\n      return true\n    } else if (ci.map === 'atoms') {\n      const struct = this.editor.render.ctab.molecule\n      const atom = struct.atoms.get(ci.id)\n      this.editor.hover(this.editor.findItem(event, ['atoms']), null, event)\n\n      if (atom?.attpnt !== null) return\n\n      propsDialog(this.editor, ci.id, null)\n      return true\n    }\n    return true\n  }\n}\n\nfunction propsDialog(editor, id, pos) {\n  const struct = editor.render.ctab.molecule\n  const atom = id || id === 0 ? struct.atoms.get(id) : null\n  const rglabel = atom ? atom.rglabel : 0\n  const label = atom ? atom.label : 'R#'\n\n  const res = editor.event.elementEdit.dispatch({\n    label: 'R#',\n    rglabel,\n    fragId: atom ? atom.fragment : null\n  })\n\n  Promise.resolve(res)\n    .then((elem) => {\n      // TODO review: using Atom.attrlist as a source of default property values\n      elem = Object.assign({}, Atom.attrlist, elem)\n\n      if (!id && id !== 0 && elem.rglabel) {\n        editor.update(fromAtomAddition(editor.render.ctab, pos, elem))\n      } else if (rglabel !== elem.rglabel) {\n        elem.aam = atom.aam // WTF??\n        elem.attpnt = atom.attpnt\n\n        if (!elem.rglabel && label !== 'R#') {\n          elem.label = label\n        }\n\n        editor.update(fromAtomsAttrs(editor.render.ctab, id, elem, false))\n      }\n    })\n    .catch(() => null) // w/o changes\n}\n\nexport default RGroupAtomTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  RGroup,\n  fromRGroupAttrs,\n  fromRGroupFragment,\n  fromUpdateIfThen,\n  FunctionalGroup\n} from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass RGroupFragmentTool implements Tool {\n  private readonly editor: Editor\n\n  constructor(editor) {\n    // TODO: check if it's a fragments already\n    editor.selection(null)\n    this.editor = editor\n  }\n\n  mousemove(event) {\n    this.editor.hover(\n      this.editor.findItem(event, ['frags', 'rgroups']),\n      null,\n      event\n    )\n  }\n\n  click(event) {\n    const struct = this.editor.render.ctab\n    const molecule = struct.molecule\n    const functionalGroups = molecule.functionalGroups\n    const editor = this.editor\n    const ci = editor.findItem(event, ['frags', 'rgroups'])\n    const ce = editor.findItem(event, ['atoms', 'bonds'])\n    const atomResult: Array<number> = []\n    const bondResult: Array<number> = []\n    const result: Array<number> = []\n\n    if (ce && functionalGroups && ce.map === 'atoms') {\n      const atomId = FunctionalGroup.atomsInFunctionalGroup(\n        functionalGroups,\n        ce.id\n      )\n\n      if (atomId !== null) {\n        atomResult.push(atomId)\n      }\n    }\n\n    if (ce && functionalGroups && ce.map === 'bonds') {\n      const bondId = FunctionalGroup.bondsInFunctionalGroup(\n        molecule,\n        functionalGroups,\n        ce.id\n      )\n\n      if (bondId !== null) {\n        bondResult.push(bondId)\n      }\n    }\n\n    if (atomResult.length > 0) {\n      for (const id of atomResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByAtom(\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    } else if (bondResult.length > 0) {\n      for (const id of bondResult) {\n        const fgId = FunctionalGroup.findFunctionalGroupByBond(\n          molecule,\n          functionalGroups,\n          id\n        )\n\n        if (fgId !== null && !result.includes(fgId)) {\n          result.push(fgId)\n        }\n      }\n      this.editor.event.removeFG.dispatch({ fgIds: result })\n      return\n    }\n\n    if (!ci) {\n      return true\n    }\n\n    this.editor.hover(null)\n\n    const label =\n      ci.map === 'rgroups'\n        ? ci.id\n        : RGroup.findRGroupByFragment(molecule.rgroups, ci.id)\n\n    const rg = Object.assign(\n      { label },\n      ci.map === 'frags' ? { fragId: ci.id } : molecule.rgroups.get(ci.id)\n    )\n\n    const res = editor.event.rgroupEdit.dispatch(rg)\n\n    Promise.resolve(res)\n      .then((newRg) => {\n        let action\n\n        if (ci.map !== 'rgroups') {\n          const rgidOld = RGroup.findRGroupByFragment(\n            struct.molecule.rgroups,\n            ci.id\n          )\n          action = fromRGroupFragment(struct, newRg.label, ci.id).mergeWith(\n            fromUpdateIfThen(struct, newRg.label, rgidOld)\n          )\n        } else {\n          action = fromRGroupAttrs(struct, ci.id, newRg)\n        }\n\n        editor.update(action)\n      })\n      .catch(() => null) // w/o changes\n\n    return true\n  }\n\n  cancel() {\n    this.editor.hover(null)\n  }\n}\n\nexport default RGroupFragmentTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  fromArrowAddition,\n  fromArrowDeletion,\n  fromArrowResizing,\n  fromMultipleMove,\n  RxnArrowMode,\n  Vec2\n} from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ReactionArrowTool implements Tool {\n  private readonly mode: RxnArrowMode\n  private readonly editor: Editor\n  private dragCtx: any\n\n  constructor(editor, mode) {\n    this.mode = mode\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    const rnd = this.editor.render\n    const p0 = rnd.page2obj(event)\n    this.dragCtx = { p0 }\n\n    const ci = this.editor.findItem(event, ['rxnArrows'])\n\n    if (ci && ci.map === 'rxnArrows') {\n      this.editor.hover(null)\n      this.editor.selection({ rxnArrows: [ci.id] })\n      this.dragCtx.ci = ci\n    } else {\n      this.dragCtx.isNew = true\n      this.editor.selection(null)\n    }\n  }\n\n  mousemove(event) {\n    const rnd = this.editor.render\n\n    if (this.dragCtx) {\n      const current = rnd.page2obj(event)\n      const diff = current.sub(this.dragCtx.p0)\n      this.dragCtx.previous = current\n\n      if (this.dragCtx.ci) {\n        if (this.dragCtx.action) {\n          this.dragCtx.action.perform(rnd.ctab)\n        }\n\n        if (!this.dragCtx.ci.ref) {\n          this.dragCtx.action = fromMultipleMove(\n            rnd.ctab,\n            this.editor.selection() || {},\n            diff\n          )\n        } else {\n          this.dragCtx.action = fromArrowResizing(\n            rnd.ctab,\n            this.dragCtx.ci.id,\n            diff,\n            current,\n            this.dragCtx.ci.ref\n          )\n        }\n        this.editor.update(this.dragCtx.action, true)\n      } else {\n        if (!this.dragCtx.action) {\n          const action = fromArrowAddition(\n            rnd.ctab,\n            [this.dragCtx.p0, this.dragCtx.p0],\n            this.mode\n          )\n          // TODO: need to rework  actions/operations logic\n          const addOperation = action.operations[0]\n          this.dragCtx.itemId = addOperation.data.id\n          this.dragCtx.action = action\n          this.editor.update(this.dragCtx.action, true)\n        } else {\n          this.dragCtx.action.perform(rnd.ctab)\n        }\n\n        this.dragCtx.action = fromArrowResizing(\n          rnd.ctab,\n          this.dragCtx.itemId,\n          diff,\n          current,\n          null\n        )\n        this.editor.update(this.dragCtx.action, true)\n      }\n    } else {\n      const items = this.editor.findItem(event, ['rxnArrows'])\n      this.editor.hover(items, null, event)\n    }\n  }\n\n  mouseup() {\n    if (!this.dragCtx) {\n      return true\n    }\n\n    const rnd = this.editor.render\n\n    const p0 = this.dragCtx.p0\n    const p1 = getDefaultLengthPos(p0, this.dragCtx.previous)\n\n    if (this.dragCtx.action) {\n      if (this.dragCtx.isNew) {\n        this.editor.update(\n          fromArrowDeletion(rnd.ctab, this.dragCtx.itemId),\n          true\n        )\n        this.dragCtx.action = fromArrowAddition(rnd.ctab, [p0, p1], this.mode)\n      }\n\n      this.editor.update(this.dragCtx.action)\n    }\n    delete this.dragCtx\n    return true\n  }\n\n  click(event) {\n    const rnd = this.editor.render\n    const ci = this.editor.findItem(event, ['rxnArrows'])\n    const p0 = rnd.page2obj(event)\n\n    if (!ci) {\n      const pos = [p0, getDefaultLengthPos(p0, null)]\n      this.editor.update(fromArrowAddition(rnd.ctab, pos, this.mode))\n    }\n  }\n}\n\nfunction getArrowParams(x1, y1, x2, y2) {\n  const length = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2)\n  const angle = calcAngle(x2, y2, x1, y1)\n  return { length, angle }\n}\n\nfunction getDefaultLengthPos(pos1, pos2) {\n  const minLength = 1.5\n  const defaultLength = 2\n  if (!pos2) {\n    return new Vec2(pos1.x + defaultLength, pos1.y)\n  }\n  const arrowParams = getArrowParams(pos1.x, pos1.y, pos2.x, pos2.y)\n  if (arrowParams.length <= minLength) {\n    const newPos = new Vec2()\n    newPos.x =\n      pos1.x + defaultLength * Math.cos((Math.PI * arrowParams.angle) / 180)\n    newPos.y =\n      pos1.y + defaultLength * Math.sin((Math.PI * arrowParams.angle) / 180)\n    return newPos\n  }\n  return pos2\n}\n\nfunction calcAngle(x1, y1, x2, y2) {\n  const x = x1 - x2\n  const y = y1 - y2\n  if (!x && !y) {\n    return 0\n  }\n  return (180 + (Math.atan2(-y, -x) * 180) / Math.PI + 360) % 360\n}\n\nexport default ReactionArrowTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Action, Scale, fromAtomsAttrs } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ReactionMapTool implements Tool {\n  private readonly editor: Editor\n  private dragCtx: any\n  private line: any\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    const rnd = this.editor.render\n\n    const closestItem = this.editor.findItem(event, ['atoms'])\n\n    if (closestItem?.map === 'atoms') {\n      this.editor.hover(null)\n      this.dragCtx = {\n        item: closestItem,\n        xy0: rnd.page2obj(event)\n      }\n    }\n  }\n\n  mousemove(event) {\n    const editor = this.editor\n    const rnd = editor.render\n\n    if ('dragCtx' in this) {\n      const closestItem = this.editor.findItem(\n        event,\n        ['atoms'],\n        this.dragCtx.item\n      )\n      const atoms = rnd.ctab.molecule.atoms\n\n      if (closestItem?.map === 'atoms') {\n        editor.hover(closestItem)\n        this.updateLine(\n          atoms.get(this.dragCtx.item.id)?.pp,\n          atoms.get(closestItem.id)?.pp\n        )\n      } else {\n        editor.hover(null)\n        this.updateLine(\n          atoms.get(this.dragCtx.item.id)?.pp,\n          rnd.page2obj(event)\n        )\n      }\n    } else {\n      editor.hover(editor.findItem(event, ['atoms']), null, event)\n    }\n  }\n\n  updateLine(p1, p2) {\n    if (this.line) {\n      this.line.remove()\n      this.line = null\n    }\n\n    if (p1 && p2) {\n      const rnd = this.editor.render\n      this.line = rnd.selectionLine(\n        Scale.obj2scaled(p1, rnd.options).add(rnd.options.offset),\n        Scale.obj2scaled(p2, rnd.options).add(rnd.options.offset)\n      )\n    }\n  }\n\n  mouseup(event) {\n    if ('dragCtx' in this) {\n      const rnd = this.editor.render\n      const closestItem = this.editor.findItem(event, ['atoms'])\n\n      if (closestItem?.map === 'atoms') {\n        const action = new Action()\n        const atoms = rnd.ctab.molecule.atoms\n        const atom1 = atoms.get(this.dragCtx.item.id)\n        const atom2 = atoms.get(closestItem.id)\n        const aam1 = atom1?.aam\n        const aam2 = atom2?.aam\n\n        if (!aam1 || aam1 !== aam2) {\n          if ((aam1 && aam1 !== aam2) || (!aam1 && aam2)) {\n            // eslint-disable-line no-mixed-operators\n            atoms.forEach((atom, aid) => {\n              if (\n                aid !== this.dragCtx.item.id &&\n                ((aam1 && atom.aam === aam1) || (aam2 && atom.aam === aam2))\n              )\n                action.mergeWith(\n                  fromAtomsAttrs(rnd.ctab, aid, { aam: 0 }, null)\n                )\n            })\n          }\n\n          if (aam1) {\n            action.mergeWith(\n              fromAtomsAttrs(rnd.ctab, closestItem.id, { aam: aam1 }, null)\n            )\n          } else {\n            let aam = 0\n            atoms.forEach((atom) => {\n              aam = Math.max(aam, atom.aam || 0)\n            })\n            action.mergeWith(\n              fromAtomsAttrs(\n                rnd.ctab,\n                this.dragCtx.item.id,\n                { aam: aam + 1 },\n                null\n              )\n            )\n            action.mergeWith(\n              fromAtomsAttrs(rnd.ctab, closestItem.id, { aam: aam + 1 }, null)\n            )\n          }\n          this.editor.update(action)\n        }\n      }\n      this.updateLine(null, null)\n      delete this.dragCtx\n    }\n    this.editor.hover(this.editor.findItem(event, ['atoms']), null, event)\n  }\n}\n\nexport default ReactionMapTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { fromMultipleMove, fromPlusAddition } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ReactionPlusTool implements Tool {\n  private readonly editor: Editor\n  private dragCtx: any\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    const rnd = this.editor.render\n    const ci = this.editor.findItem(event, ['rxnPluses'])\n\n    if (ci && ci.map === 'rxnPluses') {\n      this.editor.hover(null)\n      this.editor.selection({ rxnPluses: [ci.id] })\n      this.dragCtx = { xy0: rnd.page2obj(event) }\n    }\n  }\n\n  mousemove(event) {\n    const editor = this.editor\n    const rnd = editor.render\n\n    if ('dragCtx' in this) {\n      if (this.dragCtx.action) {\n        this.dragCtx.action.perform(rnd.ctab)\n      }\n\n      this.dragCtx.action = fromMultipleMove(\n        rnd.ctab,\n        this.editor.selection() || {},\n        rnd.page2obj(event).sub(this.dragCtx.xy0)\n      )\n      editor.update(this.dragCtx.action, true)\n    } else {\n      editor.hover(editor.findItem(event, ['rxnPluses']), null, event)\n    }\n  }\n\n  mouseup() {\n    if (!this.dragCtx) {\n      return true\n    }\n\n    if (this.dragCtx.action) {\n      this.editor.update(this.dragCtx.action) // TODO investigate, subsequent undo/redo fails\n    }\n\n    delete this.dragCtx\n    return true\n  }\n\n  click(event) {\n    const rnd = this.editor.render\n    const ci = this.editor.findItem(event, ['rxnPluses'])\n\n    if (!ci) {\n      this.editor.update(fromPlusAddition(rnd.ctab, rnd.page2obj(event)))\n    }\n  }\n}\n\nexport default ReactionPlusTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Action, fromAtomsAttrs } from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass ReactionUnmapTool implements Tool {\n  private readonly editor: Editor\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousemove(event) {\n    const ci = this.editor.findItem(event, ['atoms'])\n\n    if (ci && ci.map === 'atoms') {\n      this.editor.hover(\n        this.editor.render.ctab.molecule.atoms.get(ci.id)?.aam ? ci : null,\n        null,\n        event\n      )\n    } else {\n      this.editor.hover(null)\n    }\n  }\n\n  mouseup(event) {\n    const ci = this.editor.findItem(event, ['atoms'])\n    const atoms = this.editor.render.ctab.molecule.atoms\n\n    if (ci && ci.map === 'atoms' && atoms.get(ci.id)?.aam) {\n      const action = new Action()\n      const aam = atoms.get(ci.id)?.aam\n      atoms.forEach((atom, aid) => {\n        if (atom.aam === aam) {\n          action.mergeWith(\n            fromAtomsAttrs(this.editor.render.ctab, aid, { aam: 0 }, null)\n          )\n        }\n      })\n      this.editor.update(action)\n    }\n    this.editor.hover(this.editor.findItem(event, ['atoms']), null, event)\n  }\n}\n\nexport default ReactionUnmapTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  FunctionalGroup,\n  Vec2,\n  fromBondAlign,\n  fromFlip,\n  fromItemsFuse,\n  fromRotate,\n  getHoverToFuse,\n  getItemsToFuse\n} from 'ketcher-core'\n\nimport utils from '../shared/utils'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass RotateTool implements Tool {\n  private readonly editor: Editor\n  dragCtx: any\n  isNotActiveTool: boolean | undefined\n\n  constructor(editor, dir, isNotActiveTool?: boolean) {\n    this.editor = editor\n\n    if (dir) {\n      const restruct = editor.render.ctab\n      const selection = editor.selection()\n      const singleBond =\n        selection &&\n        selection.bonds &&\n        Object.keys(selection).length === 1 &&\n        selection.bonds.length === 1\n      const action = !singleBond\n        ? fromFlip(restruct, selection, dir, null)\n        : fromBondAlign(restruct, selection.bonds[0], dir)\n      editor.update(action)\n      this.isNotActiveTool = true\n      return\n    }\n\n    this.isNotActiveTool = isNotActiveTool\n    if (!editor.selection()?.atoms) {\n      !isNotActiveTool && this.editor.selection(null)\n    }\n  }\n\n  mousedown(event, handleCenter?: Vec2, center?: Vec2) {\n    const xy0 =\n      center ||\n      this.getCenter(this.editor)[0] ||\n      this.editor.render.page2obj(event)\n    this.dragCtx = {\n      xy0,\n      angle1: utils.calcAngle(\n        xy0,\n        handleCenter || this.editor.render.page2obj(event)\n      )\n    }\n    return true\n  }\n\n  /**\n   * @returns `[center, visibleAtoms]`,\n   * `visibleAtoms` = selected atoms\n   *                - atoms in contracted functional groups\n   *                + functional groups's attachment atoms\n   */\n  getCenter(editor: Editor) {\n    const selection = editor.selection()\n    const struct = editor.render.ctab.molecule\n    const { texts, rxnArrows, rxnPluses } = selection || {}\n\n    const visibleAtoms =\n      selection?.atoms?.filter((atomId) => {\n        const atom = struct.atoms.get(atomId)!\n        return (\n          !FunctionalGroup.isAtomInContractedFunctionalGroup(\n            atom,\n            struct.sgroups,\n            struct.functionalGroups,\n            false\n          ) || FunctionalGroup.isAttachmentPointAtom(atomId, struct)\n        )\n      }) || []\n\n    let xy0: Vec2 | undefined\n\n    let attachAtomId: number | null = null\n    let isMoreThanOneAttachAtom = false\n    visibleAtoms.forEach((aid) => {\n      const atom = struct.atoms.get(aid)\n\n      if (isMoreThanOneAttachAtom) return\n\n      atom?.neighbors.find((nei) => {\n        const hb = struct.halfBonds.get(nei)\n\n        if (hb) {\n          if (editor.selection()?.atoms?.indexOf(hb.end as number) === -1) {\n            if (attachAtomId === null) {\n              attachAtomId = aid\n            } else if (attachAtomId !== aid) {\n              isMoreThanOneAttachAtom = true\n              return true\n            }\n          }\n        }\n        return false\n      })\n    })\n\n    if (!isMoreThanOneAttachAtom && attachAtomId !== null) {\n      xy0 = struct.atoms.get(attachAtomId)?.pp as Vec2\n    } else if (\n      visibleAtoms.length ||\n      texts?.length ||\n      rxnArrows?.length ||\n      rxnPluses?.length\n    ) {\n      const selectionBoundingBox = editor.render.ctab.getVBoxObj({\n        atoms: visibleAtoms,\n        texts,\n        rxnArrows,\n        rxnPluses\n      })\n      xy0 = selectionBoundingBox?.centre()\n    }\n\n    return [xy0, visibleAtoms] as const\n  }\n\n  mousemove(event) {\n    if (!this.dragCtx) {\n      this.editor.hover(null, null, event)\n      return true\n    }\n\n    const rnd = this.editor.render\n    const dragCtx = this.dragCtx\n\n    const pos = rnd.page2obj(event)\n    let angle = utils.calcAngle(dragCtx.xy0, pos) - dragCtx.angle1\n\n    if (!event.ctrlKey) {\n      angle = utils.fracAngle(angle, null)\n    }\n\n    const degrees = utils.degrees(angle)\n\n    if ('angle' in dragCtx && dragCtx.angle === degrees) {\n      return true\n    }\n\n    if ('action' in dragCtx) {\n      dragCtx.action.perform(rnd.ctab)\n    }\n\n    dragCtx.angle = degrees\n    dragCtx.action = fromRotate(\n      rnd.ctab,\n      this.editor.selection(),\n      dragCtx.xy0,\n      angle\n    )\n\n    this.editor.event.message.dispatch({ info: degrees + 'º' })\n\n    const expSel = this.editor.explicitSelected()\n    dragCtx.mergeItems = getItemsToFuse(this.editor, expSel)\n    this.editor.hover(getHoverToFuse(dragCtx.mergeItems), null, event)\n\n    this.editor.update(dragCtx.action, true)\n    return true\n  }\n\n  mouseup() {\n    if (!this.dragCtx) {\n      return true\n    }\n\n    const dragCtx = this.dragCtx\n    const restruct = this.editor.render.ctab\n\n    const action = dragCtx.action\n      ? fromItemsFuse(restruct, dragCtx.mergeItems).mergeWith(dragCtx.action)\n      : fromItemsFuse(restruct, dragCtx.mergeItems)\n    delete this.dragCtx\n\n    this.editor.update(action)\n\n    if (dragCtx.mergeItems) {\n      this.editor.selection(null)\n    }\n\n    this.editor.event.message.dispatch({\n      info: false\n    })\n    return true\n  }\n\n  cancel() {\n    this.mouseup()\n  }\n\n  mouseleave() {\n    this.mouseup()\n  }\n}\n\nexport default RotateTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  fromMultipleMove,\n  fromSimpleObjectAddition,\n  fromSimpleObjectDeletion,\n  fromSimpleObjectResizing,\n  SimpleObjectMode\n} from 'ketcher-core'\nimport Editor from '../Editor'\nimport { Tool } from './Tool'\n\nclass SimpleObjectTool implements Tool {\n  private readonly mode: SimpleObjectMode\n  private readonly editor: Editor\n  private dragCtx: any\n\n  constructor(editor: Editor, mode: SimpleObjectMode) {\n    this.mode = mode\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    const rnd = this.editor.render\n    const p0 = rnd.page2obj(event)\n    this.dragCtx = { p0 }\n\n    const ci = this.editor.findItem(event, ['simpleObjects'])\n\n    if (ci && ci.map === 'simpleObjects') {\n      this.editor.hover(null)\n      this.editor.selection({ simpleObjects: [ci.id] })\n      this.dragCtx.ci = ci\n    } else {\n      this.dragCtx.isNew = true\n      this.editor.selection(null)\n    }\n  }\n\n  mousemove(event) {\n    const rnd = this.editor.render\n\n    if (this.dragCtx) {\n      const current = rnd.page2obj(event)\n      const diff = current.sub(this.dragCtx.p0)\n      this.dragCtx.previous = current\n\n      if (this.dragCtx.ci) {\n        if (this.dragCtx.action) {\n          this.dragCtx.action.perform(rnd.ctab)\n        }\n\n        if (!this.dragCtx.ci.ref) {\n          this.dragCtx.action = fromMultipleMove(\n            rnd.ctab,\n            this.editor.selection() || {},\n            diff\n          )\n        } else {\n          this.dragCtx.action = fromSimpleObjectResizing(\n            rnd.ctab,\n            this.dragCtx.ci.id,\n            diff,\n            current,\n            this.dragCtx.ci.ref,\n            event.shiftKey\n          )\n        }\n        this.editor.update(this.dragCtx.action, true)\n      } else {\n        if (!this.dragCtx.action) {\n          const action = fromSimpleObjectAddition(\n            rnd.ctab,\n            [this.dragCtx.p0, this.dragCtx.p0],\n            this.mode,\n            false\n          )\n          // TODO: need to rework  actions/operations logic\n          const addOperation = action.operations[0]\n          this.dragCtx.itemId = addOperation.data.id\n          this.dragCtx.action = action\n          this.editor.update(this.dragCtx.action, true)\n        } else {\n          this.dragCtx.action.perform(rnd.ctab)\n        }\n\n        this.dragCtx.action = fromSimpleObjectResizing(\n          rnd.ctab,\n          this.dragCtx.itemId,\n          diff,\n          current,\n          null,\n          event.shiftKey\n        )\n        this.editor.update(this.dragCtx.action, true)\n      }\n    } else {\n      const items = this.editor.findItem(event, ['simpleObjects'])\n      this.editor.hover(items, null, event)\n    }\n  }\n\n  mouseup(event) {\n    if (!this.dragCtx) {\n      return true\n    }\n\n    if (this.dragCtx.action) {\n      if (this.dragCtx.isNew) {\n        const rnd = this.editor.render\n        this.editor.update(\n          fromSimpleObjectDeletion(rnd.ctab, this.dragCtx.itemId),\n          true\n        )\n        this.dragCtx.action = fromSimpleObjectAddition(\n          rnd.ctab,\n          [this.dragCtx.p0, this.dragCtx.previous],\n          this.mode,\n          event.shiftKey\n        )\n      }\n      this.editor.update(this.dragCtx.action)\n    }\n\n    delete this.dragCtx\n    return true\n  }\n}\n\nexport default SimpleObjectTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Vec2,\n  fromItemsFuse,\n  fromTemplateOnAtom,\n  fromTemplateOnBondAction,\n  fromTemplateOnCanvas,\n  getHoverToFuse,\n  getItemsToFuse,\n  FunctionalGroup,\n  SGroup,\n  ReStruct,\n  Struct,\n  fromFragmentDeletion,\n  fromSgroupDeletion,\n  Action\n} from 'ketcher-core'\n\nimport utils from '../shared/utils'\nimport Editor from '../Editor'\nimport { getGroupIdsFromItemArrays } from './helper/getGroupIdsFromItems'\nimport { MODES } from 'src/constants'\nimport { Tool } from './Tool'\n\nclass TemplateTool implements Tool {\n  private readonly editor: Editor\n  private readonly mode: any\n  private readonly template: any\n  private readonly findItems: Array<string>\n  private dragCtx: any\n  private targetGroupsIds: Array<number> = []\n  private readonly isSaltOrSolvent: boolean\n  private event: Event | undefined\n\n  constructor(editor: Editor, tmpl) {\n    this.editor = editor\n    this.mode = getTemplateMode(tmpl)\n    this.editor.selection(null)\n    this.isSaltOrSolvent = SGroup.isSaltOrSolvent(tmpl.struct.name)\n\n    this.template = {\n      aid: parseInt(tmpl.aid) || 0,\n      bid: parseInt(tmpl.bid) || 0\n    }\n\n    const frag = tmpl.struct\n    frag.rescale()\n\n    const xy0 = new Vec2()\n    frag.atoms.forEach((atom) => {\n      xy0.add_(atom.pp) // eslint-disable-line no-underscore-dangle\n    })\n\n    this.template.molecule = frag // preloaded struct\n    this.findItems = []\n    this.template.xy0 = xy0.scaled(1 / (frag.atoms.size || 1)) // template center\n\n    const atom = frag.atoms.get(this.template.aid)\n    if (atom) {\n      this.template.angle0 = utils.calcAngle(atom.pp, this.template.xy0) // center tilt\n      this.findItems.push('atoms')\n    }\n\n    const bond = frag.bonds.get(this.template.bid)\n    if (bond && !this.isModeFunctionalGroup) {\n      // template location sign against attachment bond\n      this.template.sign = getSign(frag, bond, this.template.xy0)\n      this.findItems.push('bonds')\n    }\n\n    const sgroup = frag.sgroups.size\n    if (sgroup) {\n      this.findItems.push('functionalGroups')\n    }\n\n    editor.hoverIcon.label = tmpl.struct.name\n    editor.hoverIcon.fill = '#000000'\n    editor.hoverIcon.show()\n    editor.hoverIcon.updatePosition()\n  }\n\n  private get struct() {\n    return this.editor.render.ctab.molecule\n  }\n\n  private get functionalGroups() {\n    return this.struct.functionalGroups\n  }\n\n  private get isModeFunctionalGroup(): boolean {\n    return this.mode === MODES.FG\n  }\n\n  private get closestItem() {\n    return this.editor.findItem(this.event, [\n      'atoms',\n      'bonds',\n      'sgroups',\n      'functionalGroups'\n    ])\n  }\n\n  private get isNeedToShowRemoveAbbreviationPopup(): boolean {\n    const targetId = this.findKeyOfRelatedGroupId(this.closestItem?.id)\n    const isTargetExpanded = this.functionalGroups.get(targetId!)?.isExpanded\n    const isTargetAtomOrBond =\n      this.targetGroupsIds.length && !this.isModeFunctionalGroup\n\n    return Boolean(isTargetExpanded || isTargetAtomOrBond)\n  }\n\n  private findKeyOfRelatedGroupId(clickedClosestItemId: number): number {\n    let targetId\n\n    const relatedGroupId = FunctionalGroup.findFunctionalGroupByAtom(\n      this.functionalGroups,\n      clickedClosestItemId\n    )\n\n    this.functionalGroups.forEach((fg, key) => {\n      if (fg.relatedSGroupId === relatedGroupId) {\n        targetId = key\n      }\n    })\n\n    return targetId\n  }\n\n  private showRemoveAbbreviationPopup(): Promise<void> {\n    return this.editor.event.removeFG\n      .dispatch({ fgIds: this.targetGroupsIds })\n      .then(() => {\n        // case when we remove abbreviation group, click on benzene ring and try to add it\n        this.targetGroupsIds.length = 0\n        return Promise.resolve()\n      })\n  }\n\n  async mousedown(event: MouseEvent) {\n    this.event = event\n\n    if (this.functionalGroups.size) {\n      this.targetGroupsIds = getGroupIdsFromItemArrays(this.struct, {\n        ...(this.closestItem?.map === 'atoms' && {\n          atoms: [this.closestItem.id]\n        }),\n        ...(this.closestItem?.map === 'bonds' && {\n          bonds: [this.closestItem.id]\n        })\n      })\n\n      if (\n        // if point is functional group and it is not expanded\n        this.closestItem?.map === 'functionalGroups' &&\n        FunctionalGroup.isContractedFunctionalGroup(\n          this.closestItem.id,\n          this.functionalGroups\n        )\n      ) {\n        this.targetGroupsIds.push(this.closestItem.id)\n      }\n    }\n\n    if (this.isNeedToShowRemoveAbbreviationPopup) {\n      await this.showRemoveAbbreviationPopup()\n\n      return\n    }\n\n    this.editor.hover(null)\n\n    this.dragCtx = {\n      xy0: this.editor.render.page2obj(event),\n      item: this.editor.findItem(this.event, this.findItems)\n    }\n\n    const dragCtx = this.dragCtx\n    const ci = dragCtx.item\n\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      delete dragCtx.item\n      return\n    }\n\n    if (ci.map === 'bonds' && !this.isModeFunctionalGroup) {\n      // calculate fragment center\n      const xy0 = new Vec2()\n      const bond = this.struct.bonds.get(ci.id)\n      const frid = this.struct.atoms.get(bond?.begin as number)?.fragment\n      const frIds = this.struct.getFragmentIds(frid as number)\n      let count = 0\n\n      let loop = this.struct.halfBonds.get(bond?.hb1 as number)?.loop\n\n      if (loop && loop < 0) {\n        loop = this.struct.halfBonds.get(bond?.hb2 as number)?.loop\n      }\n\n      if (loop && loop >= 0) {\n        const loopHbs = this.struct.loops.get(loop)?.hbs\n        loopHbs?.forEach((hb) => {\n          const halfBondBegin = this.struct.halfBonds.get(hb)?.begin\n\n          if (halfBondBegin) {\n            const hbbAtom = this.struct.atoms.get(halfBondBegin)\n\n            if (hbbAtom) {\n              xy0.add_(hbbAtom.pp) // eslint-disable-line no-underscore-dangle, max-len\n              count++\n            }\n          }\n        })\n      } else {\n        frIds.forEach((id) => {\n          const atomById = this.struct.atoms.get(id)\n\n          if (atomById) {\n            xy0.add_(atomById.pp) // eslint-disable-line no-underscore-dangle\n            count++\n          }\n        })\n      }\n\n      dragCtx.v0 = xy0.scaled(1 / count)\n\n      const sign = getSign(this.struct, bond, dragCtx.v0)\n\n      // calculate default template flip\n      dragCtx.sign1 = sign || 1\n      dragCtx.sign2 = this.template.sign\n    }\n  }\n\n  mousemove(event) {\n    if (!this.dragCtx) {\n      this.editor.hoverIcon.show()\n      this.editor.hoverIcon.updatePosition()\n      this.editor.hover(\n        this.editor.findItem(event, this.findItems),\n        null,\n        event\n      )\n      return true\n    }\n\n    if (this.isSaltOrSolvent) {\n      delete this.dragCtx.item\n      return true\n    }\n\n    const dragCtx = this.dragCtx\n    const ci = dragCtx.item\n    let targetPos: Vec2 | null | undefined = null\n    const eventPos = this.editor.render.page2obj(event)\n\n    /* moving when attached to bond */\n    if (ci && ci.map === 'bonds' && !this.isModeFunctionalGroup) {\n      const bond = this.struct.bonds.get(ci.id)\n      let sign = getSign(this.struct, bond, eventPos)\n\n      if (dragCtx.sign1 * this.template.sign > 0) {\n        sign = -sign\n      }\n\n      if (sign !== dragCtx.sign2 || !dragCtx.action) {\n        if (dragCtx.action) {\n          dragCtx.action.perform(this.editor.render.ctab)\n        } // undo previous action\n\n        dragCtx.sign2 = sign\n        const [action, pasteItems] = fromTemplateOnBondAction(\n          this.editor.render.ctab,\n          this.template,\n          ci.id,\n          this.editor.event,\n          dragCtx.sign1 * dragCtx.sign2 > 0,\n          false\n        ) as Array<any>\n\n        dragCtx.action = action\n        this.editor.update(dragCtx.action, true)\n\n        dragCtx.mergeItems = getItemsToFuse(this.editor, pasteItems)\n        this.editor.hover(getHoverToFuse(dragCtx.mergeItems))\n      }\n      return true\n    }\n    /* end */\n\n    let extraBond: boolean | null = null\n    // calc initial pos and is extra bond needed\n    if (!ci) {\n      //  ci.type == 'Canvas'\n      targetPos = dragCtx.xy0\n    } else if (ci.map === 'atoms' || ci.map === 'functionalGroups') {\n      const atomId = getTargetAtomId(this.struct, ci)\n\n      if (atomId !== undefined) {\n        const atom = this.struct.atoms.get(atomId)\n        targetPos = atom?.pp\n\n        if (targetPos) {\n          extraBond = this.isModeFunctionalGroup\n            ? true\n            : Vec2.dist(targetPos, eventPos) > 1\n        }\n      }\n    }\n\n    if (!targetPos) {\n      return true\n    }\n\n    // calc angle\n    let angle = utils.calcAngle(targetPos, eventPos)\n\n    if (!event.ctrlKey) {\n      angle = utils.fracAngle(angle, null)\n    }\n\n    const degrees = utils.degrees(angle)\n    this.editor.event.message.dispatch({ info: degrees + 'º' })\n\n    // check if anything changed since last time\n    if (\n      // eslint-disable-next-line no-prototype-builtins\n      dragCtx.hasOwnProperty('angle') &&\n      dragCtx.angle === degrees &&\n      // eslint-disable-next-line no-prototype-builtins\n      (!dragCtx.hasOwnProperty('extra_bond') ||\n        dragCtx.extra_bond === extraBond)\n    ) {\n      return true\n    }\n\n    // undo previous action\n    if (dragCtx.action) {\n      dragCtx.action.perform(this.editor.render.ctab)\n    }\n\n    // create new action\n    dragCtx.angle = degrees\n    let action = null\n    let pasteItems\n\n    if (!ci) {\n      const isAddingFunctionalGroup = this.template?.molecule?.sgroups.size\n      if (isAddingFunctionalGroup) {\n        // skip, b/c we dont want to do any additional actions (e.g. rotating for s-groups)\n        return true\n      }\n      ;[action, pasteItems] = fromTemplateOnCanvas(\n        this.editor.render.ctab,\n        this.template,\n        targetPos,\n        angle\n      )\n    } else if (ci?.map === 'atoms' || ci?.map === 'functionalGroups') {\n      const atomId = getTargetAtomId(this.struct, ci)\n      ;[action, pasteItems] = fromTemplateOnAtom(\n        this.editor.render.ctab,\n        this.template,\n        atomId,\n        angle,\n        extraBond\n      )\n      dragCtx.extra_bond = extraBond\n    }\n    dragCtx.action = action\n\n    this.editor.update(dragCtx.action, true)\n\n    if (!this.isModeFunctionalGroup) {\n      dragCtx.mergeItems = getItemsToFuse(this.editor, pasteItems)\n      this.editor.hover(getHoverToFuse(dragCtx.mergeItems))\n    }\n\n    // TODO: refactor after #2195 comes into effect\n    if (this.targetGroupsIds.length) this.targetGroupsIds.length = 0\n\n    return true\n  }\n\n  mouseup(event?) {\n    const dragCtx = this.dragCtx\n\n    if (!dragCtx) {\n      return true\n    }\n\n    delete this.dragCtx\n\n    const restruct = this.editor.render.ctab\n    let ci = dragCtx.item\n\n    /* after moving around bond */\n    if (\n      dragCtx.action &&\n      ci &&\n      ci.map === 'bonds' &&\n      !this.isModeFunctionalGroup\n    ) {\n      dragCtx.action.perform(restruct) // revert drag action\n\n      const promise = fromTemplateOnBondAction(\n        restruct,\n        this.template,\n        ci.id,\n        this.editor.event,\n        dragCtx.sign1 * dragCtx.sign2 > 0,\n        true\n      ) as Promise<any>\n\n      promise.then(([action, pasteItems]) => {\n        const mergeItems = getItemsToFuse(this.editor, pasteItems)\n        action = fromItemsFuse(restruct, mergeItems).mergeWith(action)\n        this.editor.update(action)\n      })\n      return true\n    }\n    /* end */\n\n    let action, functionalGroupRemoveAction\n    let pasteItems = null\n\n    if (\n      ci?.map === 'functionalGroups' &&\n      FunctionalGroup.isContractedFunctionalGroup(\n        ci.id,\n        this.functionalGroups\n      ) &&\n      this.isModeFunctionalGroup &&\n      this.targetGroupsIds.length\n    ) {\n      const restruct = this.editor.render.ctab\n      const functionalGroupToReplace = this.struct.sgroups.get(ci.id)!\n\n      if (\n        this.isSaltOrSolvent &&\n        functionalGroupToReplace.isGroupAttached(this.struct)\n      ) {\n        addSaltsAndSolventsOnCanvasWithoutMerge(\n          restruct,\n          this.template,\n          dragCtx,\n          this.editor\n        )\n        return true\n      }\n\n      functionalGroupRemoveAction = new Action()\n      const attachmentAtomId = functionalGroupToReplace.getAttAtomId(\n        this.struct\n      )\n      const atomsWithoutAttachmentAtom = SGroup.getAtoms(\n        this.struct,\n        functionalGroupToReplace\n      ).filter((id) => id !== attachmentAtomId)\n\n      functionalGroupRemoveAction.mergeWith(fromSgroupDeletion(restruct, ci.id))\n      functionalGroupRemoveAction.mergeWith(\n        fromFragmentDeletion(restruct, { atoms: atomsWithoutAttachmentAtom })\n      )\n\n      ci = { map: 'atoms', id: attachmentAtomId }\n    }\n\n    if (!dragCtx.action) {\n      if (!ci) {\n        //  ci.type == 'Canvas'\n        ;[action, pasteItems] = fromTemplateOnCanvas(\n          restruct,\n          this.template,\n          dragCtx.xy0,\n          0\n        )\n        dragCtx.action = action\n      } else if (ci.map === 'atoms') {\n        const degree = restruct.atoms.get(ci.id)?.a.neighbors.length\n\n        if (degree && degree >= 1 && this.isSaltOrSolvent) {\n          addSaltsAndSolventsOnCanvasWithoutMerge(\n            restruct,\n            this.template,\n            dragCtx,\n            this.editor\n          )\n          return true\n        }\n\n        let angle\n        if (degree && degree > 1) {\n          // common case\n          angle = null\n        } else if (degree === 1) {\n          // on chain end\n          const atom = this.struct.atoms.get(ci.id)\n          const neiId =\n            atom && this.struct.halfBonds.get(atom.neighbors[0])?.end\n          const nei: any =\n            (neiId || neiId === 0) && this.struct.atoms.get(neiId)\n\n          angle = event.ctrlKey\n            ? utils.calcAngle(nei?.pp, atom?.pp)\n            : utils.fracAngle(utils.calcAngle(nei.pp, atom?.pp), null)\n        } else {\n          // on single atom\n          angle = 0\n        }\n\n        ;[action, pasteItems] = fromTemplateOnAtom(\n          restruct,\n          this.template,\n          ci.id,\n          angle,\n          false\n        )\n        if (functionalGroupRemoveAction) {\n          action = functionalGroupRemoveAction.mergeWith(action)\n        }\n        dragCtx.action = action\n      } else if (ci.map === 'bonds' && !this.isModeFunctionalGroup) {\n        const promise = fromTemplateOnBondAction(\n          restruct,\n          this.template,\n          ci.id,\n          this.editor.event,\n          dragCtx.sign1 * dragCtx.sign2 > 0,\n          true\n        ) as Promise<any>\n\n        promise.then(([action, pasteItems]) => {\n          if (!this.isModeFunctionalGroup) {\n            const mergeItems = getItemsToFuse(this.editor, pasteItems)\n            action = fromItemsFuse(restruct, mergeItems).mergeWith(action)\n            this.editor.update(action)\n          }\n        })\n\n        return true\n      }\n    }\n\n    this.editor.selection(null)\n\n    if (!dragCtx.mergeItems && pasteItems && !this.isModeFunctionalGroup) {\n      dragCtx.mergeItems = getItemsToFuse(this.editor, pasteItems)\n    }\n    dragCtx.action = dragCtx.action\n      ? fromItemsFuse(restruct, dragCtx.mergeItems).mergeWith(dragCtx.action)\n      : fromItemsFuse(restruct, dragCtx.mergeItems)\n\n    const completeAction = dragCtx.action\n    if (completeAction && !completeAction.isDummy()) {\n      this.editor.update(completeAction)\n    }\n    this.editor.hover(this.editor.findItem(event, this.findItems), null, event)\n    this.editor.event.showInfo.dispatch(null)\n    this.editor.event.message.dispatch({ info: false })\n\n    return true\n  }\n\n  cancel() {\n    this.mouseup()\n  }\n\n  mouseleave(e) {\n    this.mouseup(e)\n  }\n}\n\nfunction addSaltsAndSolventsOnCanvasWithoutMerge(\n  restruct: ReStruct,\n  template: Struct,\n  dragCtx,\n  editor: Editor\n) {\n  const [action] = fromTemplateOnCanvas(restruct, template, dragCtx.xy0, 0)\n  editor.update(action)\n  editor.selection(null)\n  editor.hover(null)\n  editor.event.message.dispatch({\n    info: false\n  })\n}\n\nfunction getTemplateMode(tmpl) {\n  if (tmpl.mode) {\n    return tmpl.mode\n  }\n\n  if (['Functional Groups', 'Salts and Solvents'].includes(tmpl.props?.group)) {\n    return MODES.FG\n  }\n\n  return null\n}\n\nfunction getSign(molecule, bond, v) {\n  const begin = molecule.atoms.get(bond.begin).pp\n  const end = molecule.atoms.get(bond.end).pp\n\n  const sign = Vec2.cross(Vec2.diff(begin, end), Vec2.diff(v, end))\n\n  if (sign > 0) {\n    return 1\n  }\n\n  if (sign < 0) {\n    return -1\n  }\n\n  return 0\n}\n\nfunction getTargetAtomId(struct: Struct, ci): number | void {\n  if (ci.map === 'atoms') {\n    return ci.id\n  }\n\n  if (ci.map === 'functionalGroups') {\n    const group = struct.sgroups.get(ci.id)\n    return group?.getAttAtomId(struct)\n  }\n}\n\nexport default TemplateTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Action,\n  Text,\n  Vec2,\n  fromMultipleMove,\n  fromTextCreation,\n  fromTextDeletion,\n  fromTextUpdating\n} from 'ketcher-core'\nimport { Tool } from './Tool'\n\ninterface Result {\n  content: string\n}\n\nclass TextTool implements Tool {\n  private readonly editor: any\n  private dragCtx: any\n\n  constructor(editor) {\n    this.editor = editor\n    this.editor.selection(null)\n  }\n\n  mousedown(event) {\n    const render = this.editor.render\n    const closestItem = this.editor.findItem(event, ['texts'])\n\n    this.editor.selection(null)\n\n    if (closestItem && closestItem.map === 'texts') {\n      this.editor.hover(null)\n      this.editor.selection({ texts: [closestItem.id] })\n      this.dragCtx = {\n        xy0: render.page2obj(event),\n        action: new Action()\n      }\n    }\n  }\n\n  mousemove(event) {\n    const render = this.editor.render\n\n    if (this.dragCtx) {\n      if (this.dragCtx.action) {\n        this.dragCtx.action.perform(render.ctab)\n      }\n\n      this.dragCtx.action = fromMultipleMove(\n        render.ctab,\n        this.editor.selection() || {},\n        render.page2obj(event).sub(this.dragCtx.xy0)\n      )\n      this.editor.update(this.dragCtx.action, true)\n    } else {\n      this.editor.hover(this.editor.findItem(event, ['texts']), null, event)\n    }\n  }\n\n  mouseup() {\n    if (this.dragCtx) {\n      this.editor.update(this.dragCtx.action)\n      delete this.dragCtx\n    }\n    return true\n  }\n\n  click(event) {\n    const render = this.editor.render\n    const closestItem = this.editor.findItem(event, ['texts'])\n    this.editor.hover(null)\n\n    if (!closestItem) {\n      propsDialog(this.editor, null, render.page2obj(event), [])\n    }\n\n    return true\n  }\n\n  dblclick(event) {\n    const closestItem = this.editor.findItem(event, ['texts'])\n    this.editor.hover(null)\n\n    if (closestItem.map === 'texts') {\n      propsDialog(\n        this.editor,\n        closestItem.id,\n        closestItem.position,\n        closestItem.pos\n      )\n    }\n\n    return true\n  }\n}\n\nfunction propsDialog(\n  editor: any,\n  id: number | null,\n  position: Vec2,\n  pos: Array<Vec2>\n) {\n  const struct = editor.render.ctab.molecule\n  const text: Text | null = id || id === 0 ? struct.texts.get(id) : null\n  const origilContent = text ? text.content : ''\n\n  const res = editor.event.elementEdit.dispatch({\n    content: origilContent,\n    id,\n    position,\n    pos,\n    type: 'text'\n  })\n\n  res\n    .then(({ content }: Result) => {\n      if (!id && id !== 0 && content) {\n        editor.update(\n          fromTextCreation(editor.render.ctab, content, position, pos)\n        )\n      } else if (!content) {\n        editor.update(fromTextDeletion(editor.render.ctab, id!))\n      } else if (content !== origilContent) {\n        editor.update(fromTextUpdating(editor.render.ctab, id!, content))\n      }\n    })\n    .catch(() => null)\n}\n\nexport default TextTool\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport APointTool from './apoint'\nimport AtomTool from './atom'\nimport AttachTool from './attach'\nimport BondTool from './bond'\nimport ChainTool from './chain'\nimport ChargeTool from './charge'\nimport EnhancedStereoTool from './enhanced-stereo'\nimport EraserTool from './eraser'\nimport HandTool from './hand'\nimport PasteTool from './paste'\nimport RGroupAtomTool from './rgroupatom'\nimport RGroupFragmentTool from './rgroupfragment'\nimport ReactionArrowTool from './reactionarrow'\nimport ReactionMapTool from './reactionmap'\nimport ReactionPlusTool from './reactionplus'\nimport ReactionUnmapTool from './reactionunmap'\nimport RotateTool from './rotate'\nimport SGroupTool from './sgroup'\nimport SelectTool from './select'\nimport SimpleObjectTool from './simpleobject'\nimport TemplateTool from './template'\nimport TextTool from './text'\nimport { ToolConstructorInterface } from './Tool'\n\nexport const toolsMap: Record<string, ToolConstructorInterface> = {\n  hand: HandTool,\n  rgroupatom: RGroupAtomTool,\n  select: SelectTool,\n  sgroup: SGroupTool,\n  eraser: EraserTool,\n  atom: AtomTool,\n  bond: BondTool,\n  chain: ChainTool,\n  template: TemplateTool,\n  charge: ChargeTool,\n  rgroupfragment: RGroupFragmentTool,\n  apoint: APointTool,\n  attach: AttachTool,\n  reactionarrow: ReactionArrowTool,\n  reactionplus: ReactionPlusTool,\n  reactionmap: ReactionMapTool,\n  reactionunmap: ReactionUnmapTool,\n  paste: PasteTool,\n  rotate: RotateTool,\n  enhancedStereo: EnhancedStereoTool,\n  simpleobject: SimpleObjectTool,\n  text: TextTool\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { fromHighlightCreate, fromHighlightClear } from 'ketcher-core'\nimport type { Struct } from 'ketcher-core'\n\nimport type { Editor } from './Editor'\n\ntype HighlightAttributes = {\n  atoms: number[]\n  bonds: number[]\n  color: string\n}\n\nexport class Highlighter {\n  editor: Editor\n\n  constructor(editor: Editor) {\n    this.editor = editor\n  }\n\n  getAll() {\n    const highlightsMap = this.editor.render.ctab.molecule.highlights\n    const highlightsArray = [...highlightsMap].map(([id, highlight]) => ({\n      id,\n      highlight\n    }))\n    return highlightsArray\n  }\n\n  create(...args: HighlightAttributes[]) {\n    const createdHighlights: HighlightAttributes[] = []\n\n    args.forEach((arg) => {\n      const { atoms, bonds, color } = arg\n      if (typeof color !== 'string') {\n        return\n      }\n\n      if (!atoms && !bonds) {\n        return\n      }\n\n      const restruct = this.editor.render.ctab\n\n      const { validAtoms, validBonds } = getValidInputOnly(\n        restruct.molecule,\n        atoms,\n        bonds\n      )\n\n      if (validAtoms.length === 0 && validBonds.length === 0) {\n        return\n      }\n\n      createdHighlights.push({ atoms: validAtoms, bonds: validBonds, color })\n    })\n    const action = fromHighlightCreate(\n      this.editor.render.ctab,\n      createdHighlights\n    )\n    this.editor.update(action)\n  }\n\n  clear() {\n    const action = fromHighlightClear(this.editor.render.ctab)\n    this.editor.update(action)\n  }\n\n  /*\n  // Update by ID\n  update(\n    id: number,\n    {\n      atoms,\n      bonds,\n      color\n    }: {\n      atoms?: number[]\n      bonds?: number[]\n      color: string\n    }\n  ) {\n    if (typeof color !== 'string' || typeof id !== 'number') {\n      return\n    }\n    if (!atoms && !bonds) {\n      return\n    }\n\n    const restruct = this.editor.render.ctab\n\n    const { validAtoms, validBonds } = getValidInputOnly(\n      restruct.molecule,\n      atoms,\n      bonds\n    )\n\n    if (validAtoms.length === 0 && validBonds.length === 0) {\n      return\n    }\n\n    const action = fromHighlightUpdate(\n      id,\n      this.editor.render.ctab,\n      validAtoms,\n      validBonds,\n      color\n    )\n    this.editor.update(action)\n  }\n\n  // Add items to highlight by id\n  append(\n    id: number,\n    {\n      atoms,\n      bonds,\n      color\n    }: {\n      atoms?: number[]\n      bonds?: number[]\n      color?: string\n    }\n  ) {\n    if (!atoms && !bonds && !color) {\n      return\n    }\n    const restruct = this.editor.render.ctab\n\n    const { validAtoms, validBonds } = getValidInputOnly(\n      restruct.molecule,\n      atoms,\n      bonds\n    )\n\n    if (validAtoms.length === 0 && validBonds.length === 0 && !color) {\n      return\n    }\n\n    const currentHighlight = restruct.molecule.highlights.get(id)\n\n    if (currentHighlight) {\n      const mergedHighlight = {\n        atoms: union(currentHighlight.atoms, validAtoms),\n        bonds: union(currentHighlight.bonds, validBonds),\n        color: color || currentHighlight.color\n      }\n\n      const action = fromHighlightUpdate(\n        id,\n        restruct,\n        mergedHighlight.atoms,\n        mergedHighlight.bonds,\n        mergedHighlight.color\n      )\n      this.editor.update(action)\n    }\n  }\n\n  // Delete by ID\n  delete(id: number) {\n    if (typeof id !== 'number') {\n      return\n    }\n\n    const action = fromHighlightDelete(this.editor.render.ctab, id)\n    this.editor.update(action)\n  }\n  */\n}\n\ntype ValidInput = {\n  validAtoms: number[]\n  validBonds: number[]\n}\n\nfunction getValidInputOnly(struct: Struct, atoms, bonds): ValidInput {\n  if (!Array.isArray(atoms)) {\n    atoms = []\n  }\n\n  if (!Array.isArray(bonds)) {\n    bonds = []\n  }\n\n  const { atoms: structAtoms, bonds: structBonds } = struct\n\n  // Filter out atom ids that are not in struct\n  if (atoms.length > 0) {\n    atoms = atoms.filter((aid) => structAtoms.has(aid))\n  }\n\n  // Filter out bond ids that are not in struct\n  if (bonds.length > 0) {\n    bonds = bonds.filter((bid) => structBonds.has(bid))\n  }\n\n  return {\n    validAtoms: atoms,\n    validBonds: bonds\n  }\n}\n","import type { ElementLabel, AtomColor } from 'ketcher-core'\nimport Editor from './Editor'\n\nconst HOVER_ICON_OPACITY = 0.7\n\nexport class HoverIcon {\n  element: any\n  _fill: AtomColor | ''\n  _label: ElementLabel | ''\n  isShown: boolean\n  /**\n   Is required for the case, when mouse moved outside the canvas, then loading of structure\n   happens and icon needs to be shown above loader.\n  */\n  shouldBeShownWhenMouseBack: boolean\n  editor: Editor\n\n  constructor(editor: Editor) {\n    this.editor = editor\n\n    const icon = this.initialize()\n    this.element = icon.element\n    this._fill = icon.fill\n    this._label = icon.label\n    this.isShown = true\n    this.shouldBeShownWhenMouseBack = false\n    this.updatePosition()\n\n    const clientArea = this.editor.render.clientArea\n    this.onMouseMove = this.onMouseMove.bind(this)\n    this.onMouseLeave = this.onMouseLeave.bind(this)\n\n    document.addEventListener('mousemove', this.onMouseMove)\n    clientArea.addEventListener('mouseover', this.onMouseMove)\n    clientArea.addEventListener('mouseleave', this.onMouseLeave)\n  }\n\n  set fill(fillColor: AtomColor | '') {\n    this._fill = fillColor\n    this.element.attr('fill', fillColor)\n  }\n\n  get fill() {\n    return this._fill\n  }\n\n  set label(label: ElementLabel | '') {\n    this._label = label\n    this.element.attr('text', label)\n  }\n\n  get label() {\n    return this._label\n  }\n\n  isOverLoader(event: MouseEvent) {\n    const target = <HTMLDivElement>event?.relatedTarget || event.target\n    return target?.classList.contains('loading-spinner')\n  }\n\n  onMouseMove(event: MouseEvent) {\n    if (\n      this.isShown ||\n      (this.isOverLoader(event) && this.shouldBeShownWhenMouseBack)\n    ) {\n      this.show()\n      this.updatePosition()\n    }\n  }\n\n  onMouseLeave(event: MouseEvent) {\n    if (!this.isOverLoader(event) && this.isShown) {\n      this.shouldBeShownWhenMouseBack = true\n      this.hide()\n    }\n  }\n\n  updatePosition() {\n    const { x, y } = this.editor.lastCursorPosition\n    this.element.attr({ x, y })\n  }\n\n  show() {\n    this.element.show()\n    this.isShown = true\n    this.shouldBeShownWhenMouseBack = false\n  }\n\n  hide(restShouldBeShownWhenMouseBack?: boolean) {\n    this.element.hide()\n    this.isShown = false\n\n    if (restShouldBeShownWhenMouseBack) {\n      this.shouldBeShownWhenMouseBack = false\n    }\n  }\n\n  initialize(): {\n    element: any\n    fill: AtomColor | ''\n    label: ElementLabel | ''\n  } {\n    const render = this.editor.render\n    const fillColor = this.fill ?? '#000000'\n    const element = render.paper.text(0, 0, this.label || '')\n    element.attr('fill', fillColor)\n    element.attr('font-size', this.editor.options().fontsz)\n    element.attr('opacity', HOVER_ICON_OPACITY)\n\n    return {\n      element: element,\n      fill: fillColor,\n      label: this?.label || ''\n    }\n  }\n\n  create() {\n    const icon = this.initialize()\n    this.element = icon.element\n    this._fill = icon.fill\n    this._label = icon.label\n    this.shouldBeShownWhenMouseBack = false\n    this.hide()\n  }\n}\n","import { Action, Scale, Vec2 } from 'ketcher-core'\nimport { throttle } from 'lodash'\nimport Editor from '../Editor'\nimport { getGroupIdsFromItemArrays } from './helper/getGroupIdsFromItems'\nimport RotateTool from './rotate'\nimport SelectTool from './select'\n\ntype RaphaelElement = {\n  [key: string]: any\n}\n\ntype LinkState = 'long' | 'short' | 'moveCenter' | 'moveHandle'\ntype CrossState = 'active' | 'inactive' | 'offset' | 'move'\ntype HandleState = 'hoverIn' | 'hoverOut' | 'active' | 'move'\n\nconst STYLE = {\n  HANDLE_MARGIN: 15,\n  HANDLE_RADIUS: 10,\n  INITIAL_COLOR: '#B4B9D6',\n  ACTIVE_COLOR: '#365CFF'\n}\n\nconst LEFT_ARROW_PATH =\n  'M12.7034 14.8189L9.39616 17.6218L9.13674 16.1892C8.12927 16.0487 7.17132 15.6644 6.34605 15.0697C5.52078 14.475 4.85314 13.6878 4.40108 12.7766C3.94903 11.8653 3.72622 10.8575 3.75201 9.84062C3.7778 8.82373 4.0514 7.8285 4.54906 6.94133L5.8121 7.65148C5.45018 8.29719 5.24246 9.01784 5.20516 9.75712C5.16786 10.4964 5.302 11.2343 5.59709 11.9132C5.89218 12.592 6.34023 13.1935 6.90624 13.6705C7.47225 14.1475 8.1409 14.4872 8.85993 14.6631L8.62297 13.3587L12.7034 14.8189Z'\nconst RIGHT_ARROW_PATH =\n  'M15.4493 13.0588L14.1862 12.3486C14.5482 11.7029 14.7559 10.9823 14.7932 10.243C14.8305 9.50371 14.6963 8.76582 14.4012 8.08695C14.1062 7.40809 13.6581 6.80665 13.0921 6.32962C12.5261 5.85259 11.8574 5.51288 11.1384 5.33704L11.3754 6.64501L7.29492 5.18124L10.6022 2.37834L10.8616 3.81095C11.8691 3.95145 12.827 4.33573 13.6523 4.93043C14.4776 5.52513 15.1452 6.31227 15.5973 7.22353C16.0493 8.13478 16.2721 9.1426 16.2463 10.1595C16.2205 11.1764 15.9469 12.1716 15.4493 13.0588Z'\n\nclass RotateController {\n  isRotating!: boolean\n  private editor: Editor\n  private rotateTool: RotateTool\n  private originalCenter!: Vec2\n  private normalizedCenterInitialHandleVec!: Vec2\n  private handleCenter!: Vec2\n  private initialRadius!: number\n  private isMovingCenter!: boolean\n\n  private handle?: RaphaelElement\n  private boundingRect?: RaphaelElement\n  private cross?: RaphaelElement\n  private link?: RaphaelElement\n  private protractor?: RaphaelElement\n  private rotateArc?: RaphaelElement\n\n  constructor(editor: Editor) {\n    this.editor = editor\n    this.init()\n    this.rotateTool = new RotateTool(this.editor, undefined, true)\n  }\n\n  private init() {\n    this.originalCenter = new Vec2()\n    this.normalizedCenterInitialHandleVec = new Vec2()\n    this.handleCenter = new Vec2()\n    this.initialRadius = 0\n    this.isRotating = false\n    this.isMovingCenter = false\n  }\n\n  private get render() {\n    return this.editor.render\n  }\n\n  private get paper() {\n    return this.render.paper\n  }\n\n  private get center() {\n    return this.originalCenter\n      .scaled(this.render.options.scale)\n      .add(this.render.options.offset)\n  }\n\n  rerender() {\n    this.clean()\n    this.init()\n    this.show()\n  }\n\n  clean() {\n    this.handle?.unhover(this.hoverIn, this.hoverOut)\n    this.handle?.unmousedown(this.dragStart)\n    this.handle?.unmouseup(this.dragEnd)\n    this.handle?.undrag()\n\n    const crossArea = this.cross?.[1]\n    crossArea?.unhover(this.hoverCrossIn, this.hoverCrossOut)\n    crossArea?.unmousedown(this.dragCrossStart)\n    crossArea?.unmouseup(this.dragCrossEnd)\n    crossArea?.undrag()\n\n    this.cross?.remove()\n    delete this.cross\n    this.boundingRect?.remove()\n    delete this.boundingRect\n    this.link?.remove()\n    delete this.link\n    this.handle?.remove()\n    delete this.handle\n    this.protractor?.remove()\n    delete this.protractor\n    this.rotateArc?.remove()\n    delete this.rotateArc\n  }\n\n  /**\n   * Revert rotation by pressing \"Escape\" key\n   */\n  revert() {\n    if (!this.rotateTool.dragCtx?.action || !this.isRotating) {\n      return\n    }\n\n    const action: Action = this.rotateTool.dragCtx.action\n    action.perform(this.render.ctab)\n    this.render.update()\n    this.rerender()\n  }\n\n  private isPartOfFragmentSelected() {\n    const allAtoms = this.render.ctab.molecule.atoms\n    const selectedAtomIds = this.editor.selection()?.atoms || []\n    const selectedFragmentIdSet = new Set()\n\n    selectedAtomIds.forEach((atomId) => {\n      const fragmentId = allAtoms.get(atomId)?.fragment\n      selectedFragmentIdSet.add(fragmentId)\n    })\n\n    const nonSelectedAtoms = allAtoms.filter(\n      (id) => !selectedAtomIds.includes(id)\n    )\n    return nonSelectedAtoms.some((atom) =>\n      selectedFragmentIdSet.has(atom.fragment)\n    )\n  }\n\n  private show() {\n    const [originalCenter, visibleAtoms] = this.rotateTool.getCenter(\n      this.editor\n    )\n\n    const { texts, rxnArrows, rxnPluses } = this.editor.selection() || {}\n\n    const isMoreThanOneItemBeingSelected =\n      visibleAtoms.concat(texts || [], rxnArrows || [], rxnPluses || [])\n        .length > 1\n\n    const enable =\n      (isMoreThanOneItemBeingSelected || rxnArrows?.length) &&\n      this.editor.tool() instanceof SelectTool &&\n      originalCenter\n\n    if (!enable) {\n      return\n    }\n\n    this.originalCenter = originalCenter\n\n    const rectStartY = this.drawBoundingRect(\n      visibleAtoms,\n      texts,\n      rxnArrows,\n      rxnPluses\n    )\n\n    this.handleCenter = new Vec2(\n      this.center.x,\n      rectStartY - STYLE.HANDLE_MARGIN - STYLE.HANDLE_RADIUS\n    )\n\n    this.drawLink()\n    this.drawCross()\n    this.drawHandle()\n\n    this.handle?.hover(this.hoverIn, this.hoverOut)\n    this.handle?.mousedown(this.dragStart)\n    this.handle?.mouseup(this.dragEnd)\n    this.handle?.drag(\n      this.dragMove(),\n      undefined,\n      this.dragEnd // Fix rotation getting stuck when mouseup outside window\n    )\n\n    if (this.isPartOfFragmentSelected()) {\n      return\n    }\n\n    const crossArea = this.cross?.[1]\n    crossArea?.hover(this.hoverCrossIn, this.hoverCrossOut)\n    crossArea?.mousedown(this.dragCrossStart)\n    crossArea?.mouseup(this.dragCrossEnd)\n    crossArea?.drag(\n      this.dragCrossMove,\n      undefined,\n      this.dragCrossEndOUtOfBounding\n    )\n  }\n\n  private drawCross(state?: CrossState) {\n    switch (state) {\n      case 'active': {\n        this.cross?.attr({\n          stroke: STYLE.ACTIVE_COLOR\n        })\n        break\n      }\n\n      case 'inactive': {\n        this.cross?.attr({\n          stroke: STYLE.INITIAL_COLOR\n        })\n        break\n      }\n\n      case 'move': {\n        this.cross?.transform('')\n        this.cross?.translate(this.center.x, this.center.y)\n        break\n      }\n\n      default: {\n        const cross = this.paper\n          .path(`M0,0` + `h8` + `M0,0` + `h-8` + `M0,0` + `v8` + `M0,0` + `v-8`)\n          .attr({\n            stroke: STYLE.INITIAL_COLOR,\n            'stroke-width': 2,\n            'stroke-linecap': 'round'\n          })\n        // HACK: increase hover/drag area\n        const circle = this.paper.circle(0, 0, 10).attr({\n          fill: 'red',\n          opacity: 0\n        })\n        this.cross = this.paper.set()\n        this.cross?.push(cross, circle)\n        this.cross?.translate(this.center.x, this.center.y)\n\n        break\n      }\n    }\n  }\n\n  private drawBoundingRect(\n    visibleAtoms: number[],\n    texts?: number[],\n    rxnArrows?: number[],\n    rxnPluses?: number[]\n  ) {\n    const RECT_RADIUS = 20\n    const RECT_PADDING = 10\n\n    const rectBox = this.render.ctab\n      .getVBoxObj({\n        atoms: visibleAtoms,\n        texts,\n        rxnArrows,\n        rxnPluses,\n        sgroups: getGroupIdsFromItemArrays(this.render.ctab.molecule, {\n          atoms: visibleAtoms\n        })\n      })!\n      .transform(Scale.obj2scaled, this.render.options)\n      .translate(this.render.options.offset || new Vec2())\n\n    const rectStartX =\n      rectBox.p0.x - RECT_PADDING - this.render.options.atomSelectionPlateRadius\n    const rectStartY =\n      rectBox.p0.y - RECT_PADDING - this.render.options.atomSelectionPlateRadius\n    const rectEndX =\n      rectBox.p1.x + RECT_PADDING + this.render.options.atomSelectionPlateRadius\n    const rectEndY =\n      rectBox.p1.y + RECT_PADDING + this.render.options.atomSelectionPlateRadius\n\n    this.boundingRect = this.paper\n      .rect(\n        rectStartX,\n        rectStartY,\n        rectEndX - rectStartX,\n        rectEndY - rectStartY,\n        RECT_RADIUS\n      )\n      .attr({\n        'stroke-dasharray': '-',\n        stroke: STYLE.INITIAL_COLOR\n      })\n\n    return rectStartY\n  }\n\n  private drawHandle(state?: HandleState) {\n    switch (state) {\n      case 'hoverIn': {\n        this.handle?.attr({\n          cursor: 'grab'\n        })\n        const circle = this.handle?.[0]\n        circle.attr({\n          fill: STYLE.ACTIVE_COLOR\n        })\n        break\n      }\n\n      case 'hoverOut': {\n        const circle = this.handle?.[0]\n        circle.attr({\n          fill: STYLE.INITIAL_COLOR\n        })\n        break\n      }\n\n      case 'active': {\n        this.handle?.attr({\n          cursor: 'grabbing'\n        })\n        const arrowSet = this.handle?.[1]\n        arrowSet?.attr({ fill: 'none' })\n        break\n      }\n\n      case 'move': {\n        this.handle\n          ?.transform('')\n          .translate(this.handleCenter.x, this.handleCenter.y)\n        break\n      }\n\n      default: {\n        const circle = this.paper.circle(0, 0, STYLE.HANDLE_RADIUS).attr({\n          fill: STYLE.INITIAL_COLOR,\n          stroke: 'none'\n        })\n\n        const leftArrow = this.paper\n          .path(LEFT_ARROW_PATH)\n          .attr({ fill: 'white', stroke: 'none' })\n        const rightArrow = this.paper\n          .path(RIGHT_ARROW_PATH)\n          .attr({ fill: 'white', stroke: 'none' })\n        const arrowSet: RaphaelElement = this.paper.set()\n        arrowSet.push(leftArrow, rightArrow)\n        const { x, y, width, height } = arrowSet.getBBox()\n        arrowSet.translate(-(x + width / 2), -(y + height / 2))\n\n        this.handle = this.paper.set() as RaphaelElement\n        this.handle.push(circle, arrowSet)\n        this.handle.translate(this.handleCenter.x, this.handleCenter.y)\n        break\n      }\n    }\n  }\n\n  private drawLink(state?: LinkState) {\n    switch (state) {\n      case 'long': {\n        this.link?.attr({\n          path:\n            `M${this.center.x},${this.center.y}` +\n            `L${this.handleCenter.x},${this.handleCenter.y}`,\n          stroke: STYLE.ACTIVE_COLOR\n        })\n        break\n      }\n\n      case 'short': {\n        this.link?.attr({\n          path:\n            `M${this.handleCenter.x},${this.handleCenter.y}` +\n            `l0,${STYLE.HANDLE_RADIUS + STYLE.HANDLE_MARGIN}`,\n          stroke: STYLE.INITIAL_COLOR\n        })\n        break\n      }\n\n      case 'moveCenter': {\n        this.link?.attr({\n          path:\n            `M${this.center.x},${this.center.y}` +\n            `L${this.handleCenter.x},${this.handleCenter.y}`\n        })\n        break\n      }\n\n      case 'moveHandle': {\n        this.link?.attr({\n          path:\n            `M${this.center.x},${this.center.y}` +\n            `L${this.handleCenter.x},${this.handleCenter.y}`\n        })\n        break\n      }\n\n      default: {\n        this.link = this.paper\n          .path(\n            `M${this.handleCenter.x},${this.handleCenter.y}` +\n              `l0,${STYLE.HANDLE_RADIUS + STYLE.HANDLE_MARGIN}`\n          )\n          .attr({\n            'stroke-dasharray': '-',\n            stroke: STYLE.INITIAL_COLOR\n          })\n        break\n      }\n    }\n  }\n\n  private drawProtractor(\n    structRotateDegree: number,\n    radius: number,\n    degreeLine: RaphaelElement,\n    textPos: Vec2\n  ) {\n    this.protractor?.remove()\n\n    const PROTRACTOR_COLOR = '#E1E5EA'\n    const DEGREE_FONT_SIZE = 12\n\n    const circle = this.paper\n      .circle(this.center.x, this.center.y, radius)\n      .attr({\n        'stroke-dasharray': '-',\n        stroke: PROTRACTOR_COLOR\n      })\n\n    this.protractor = this.paper.set() as RaphaelElement\n    this.protractor.push(circle)\n\n    const predefinedDegrees = [\n      0, 30, 45, 60, 90, 120, 135, 150, 180, -150, -135, -120, -90, -60, -45,\n      -30\n    ]\n    predefinedDegrees.reduce((previousDegree, currentDegree, currentIndex) => {\n      const isDrawingDegree0 = currentIndex === 0\n      const gap = currentDegree - previousDegree\n      const diff = getDifference(currentDegree, structRotateDegree)\n\n      if (!isDrawingDegree0) {\n        degreeLine = degreeLine\n          .clone()\n          .rotate(gap, this.center.x, this.center.y)\n      }\n\n      degreeLine.attr({\n        stroke: diff > 90 ? 'none' : PROTRACTOR_COLOR\n      })\n      this.protractor?.push(degreeLine)\n\n      if (radius < 65) {\n        return currentDegree\n      }\n\n      textPos = rotatePoint(this.center, textPos, (gap / 180) * Math.PI)\n      const degreeText = this.paper\n        .text(textPos.x, textPos.y, `${currentDegree}°`)\n        .attr({\n          fill:\n            diff > 90\n              ? 'none'\n              : currentDegree !== 0 && currentDegree === structRotateDegree\n              ? STYLE.ACTIVE_COLOR\n              : STYLE.INITIAL_COLOR,\n          'font-size': DEGREE_FONT_SIZE\n        })\n\n      this.protractor?.push(degreeText)\n\n      return currentDegree\n    }, 0)\n\n    this.protractor.toBack()\n  }\n\n  private drawRotateArc(\n    structRotateDegree: number,\n    radius: number,\n    rotateArcStart: Vec2,\n    textPos: Vec2\n  ) {\n    if (!this.rotateArc) {\n      const arc = this.paper.path()\n      const text = this.paper.text(0, 0, '')\n\n      this.rotateArc = this.paper.set().push(arc, text) as RaphaelElement\n    }\n\n    const rotateArcEnd = rotatePoint(\n      this.center,\n      rotateArcStart,\n      (structRotateDegree / 180) * Math.PI\n    )\n\n    const arc = this.rotateArc[0]\n    const text = this.rotateArc[1]\n\n    const TEXT_FONT_SIZE = 16\n    const TEXT_COLOR = '#333333'\n\n    // Doc: https://www.w3.org/TR/SVG/paths.html#PathDataEllipticalArcCommands\n    arc\n      .attr({\n        path:\n          `M${rotateArcStart.x},${rotateArcStart.y}` +\n          `A${radius},${radius} ` +\n          `0 0,${structRotateDegree < 0 ? '0' : '1'} ` +\n          `${rotateArcEnd.x},${rotateArcEnd.y}`,\n        stroke: STYLE.ACTIVE_COLOR\n      })\n      .toBack()\n\n    text.attr({\n      text: `${structRotateDegree}°`,\n      x: textPos.x,\n      y: textPos.y,\n      'font-size': TEXT_FONT_SIZE,\n      fill: TEXT_COLOR\n    })\n  }\n\n  // NOTE: When handle is non-arrow function, `this` is element itself\n  private hoverIn = (event: MouseEvent) => {\n    const isSomeButtonPressed = event.buttons !== 0\n    if (isSomeButtonPressed) {\n      return\n    }\n\n    this.drawHandle('hoverIn')\n  }\n\n  private hoverOut = (event: MouseEvent) => {\n    const isSomeButtonPressed = event.buttons !== 0\n    if (isSomeButtonPressed) {\n      return\n    }\n\n    this.drawHandle('hoverOut')\n  }\n\n  private getProtractorBaseInfo(radius: number) {\n    const DEGREE_TEXT_MARGIN = 10\n\n    const distBetweenDegree0TextAndCenter =\n      radius +\n      STYLE.HANDLE_MARGIN +\n      STYLE.HANDLE_RADIUS * 2 +\n      DEGREE_TEXT_MARGIN\n    const centerDegree0TextVec = this.normalizedCenterInitialHandleVec.scaled(\n      distBetweenDegree0TextAndCenter\n    )\n    const degree0TextPos = this.center.add(centerDegree0TextVec)\n\n    const lineLength =\n      radius >= 65 ? STYLE.HANDLE_MARGIN : STYLE.HANDLE_MARGIN / 2\n    const centerLineStartVec =\n      this.normalizedCenterInitialHandleVec.scaled(radius)\n    const lineVec = this.normalizedCenterInitialHandleVec.scaled(lineLength)\n    const lineStart = this.center.add(centerLineStartVec)\n    const lineEnd = lineStart.add(lineVec)\n    const lineEndHalf = lineStart.addScaled(lineVec, 1 / 2)\n    const degree0Line = this.paper\n      .path(\n        `M${lineStart.x},${lineStart.y}` +\n          (radius >= 65\n            ? `L${lineEnd.x}, ${lineEnd.y}`\n            : `L${lineEndHalf.x}, ${lineEndHalf.y}`)\n      )\n      .attr({\n        'stroke-dasharray': '-'\n      })\n\n    const arcStartPos = this.center.add(\n      this.normalizedCenterInitialHandleVec.scaled(radius)\n    )\n\n    const TEXT_MARGIN_LEFT = 20\n    const l1 = centerLineStartVec.add(lineVec)\n    const l2 = l1\n      .rotate(Math.PI / 2)\n      .normalized()\n      .scaled(TEXT_MARGIN_LEFT)\n    const currentDegreeMarkPos = this.center.add(l1).add(l2)\n\n    return [\n      degree0Line,\n      degree0TextPos,\n      arcStartPos,\n      currentDegreeMarkPos\n    ] as const\n  }\n\n  private dragStart = (event: MouseEvent) => {\n    event.stopPropagation() // Avoid triggering SelectTool's mousedown\n\n    const isLeftButtonPressed = event.buttons === 1\n    if (!isLeftButtonPressed) {\n      return\n    }\n\n    const isDragPaused = this.isRotating\n    if (isDragPaused) {\n      // Fix protractor staying after screenshot/being paused\n      // see https://github.com/epam/ketcher/pull/2574#issuecomment-1539201020\n      this.clean()\n      return\n    }\n\n    this.isRotating = true\n\n    this.boundingRect?.remove()\n    delete this.boundingRect\n\n    const centerHandleVec = this.handleCenter.sub(this.center)\n    this.normalizedCenterInitialHandleVec = centerHandleVec.normalized()\n\n    const newProtractorRadius =\n      Vec2.dist(this.handleCenter, this.center) -\n      STYLE.HANDLE_MARGIN -\n      STYLE.HANDLE_RADIUS\n    this.initialRadius = newProtractorRadius >= 0 ? newProtractorRadius : 0\n    const [degree0Line, degree0TextPos] = this.getProtractorBaseInfo(\n      this.initialRadius\n    )\n    this.drawProtractor(0, this.initialRadius, degree0Line, degree0TextPos)\n\n    this.drawCross('active')\n    this.drawLink('long')\n    this.drawHandle('active')\n\n    const originalHandleCenter = this.handleCenter\n      .sub(this.render.options.offset)\n      .scaled(1 / this.render.options.scale)\n    this.rotateTool.mousedown(event, originalHandleCenter, this.originalCenter)\n  }\n\n  private dragMove = () => {\n    let lastSnappingRadius: number | undefined\n    return throttle(\n      (\n        _dxFromStart: number,\n        _dyFromStart: number,\n        _clientX: number,\n        _clientY: number,\n        event: MouseEvent\n      ) => {\n        if (!this.isRotating) {\n          return\n        }\n\n        this.handleCenter = this.render\n          .page2obj(event)\n          .scaled(this.render.options.scale)\n          .add(this.render.options.offset)\n\n        this.drawLink('moveHandle')\n        this.drawHandle('move')\n        this.drawCross('move')\n\n        this.rotateTool.mousemove(event)\n\n        const newProtractorRadius =\n          Vec2.dist(this.handleCenter, this.center) -\n          STYLE.HANDLE_MARGIN -\n          STYLE.HANDLE_RADIUS\n        let newRadius = newProtractorRadius >= 0 ? newProtractorRadius : 0\n        lastSnappingRadius = lastSnappingRadius ?? this.initialRadius\n        if (\n          newRadius >= lastSnappingRadius * 1.4 ||\n          newRadius <= lastSnappingRadius / 1.4\n        ) {\n          lastSnappingRadius = newRadius\n        } else {\n          newRadius = lastSnappingRadius\n        }\n\n        const [degree0Line, degree0TextPos, rotateArcStart, textPos] =\n          this.getProtractorBaseInfo(newRadius)\n        this.drawRotateArc(\n          this.rotateTool.dragCtx?.angle || 0,\n          newRadius,\n          rotateArcStart,\n          textPos\n        )\n        // NOTE: draw protractor last\n        this.drawProtractor(\n          this.rotateTool.dragCtx?.angle || 0,\n          newRadius,\n          degree0Line,\n          degree0TextPos\n        )\n      },\n      40 // 25fps\n    )\n  }\n\n  private dragEnd = (event: MouseEvent) => {\n    event.stopPropagation() // Avoid triggering SelectTool's mouseup\n\n    this.rotateTool.mouseup()\n    this.rerender()\n  }\n\n  private hoverCrossIn = (event: MouseEvent) => {\n    const isSomeButtonPressed = event.buttons !== 0\n    if (isSomeButtonPressed) {\n      return\n    }\n\n    this.drawCross('active')\n    this.drawLink('long')\n  }\n\n  private hoverCrossOut = (event: MouseEvent) => {\n    const isSomeButtonPressed = event.buttons !== 0\n    if (isSomeButtonPressed) {\n      return\n    }\n\n    this.drawCross('inactive')\n    this.drawLink('short')\n  }\n\n  private dragCrossStart = (event: MouseEvent) => {\n    event.stopPropagation()\n    this.isMovingCenter = true\n  }\n\n  private dragCrossMove = throttle(\n    (\n      _dxFromStart: number,\n      _dyFromStart: number,\n      _clientX: number,\n      _clientY: number,\n      event: MouseEvent\n    ) => {\n      if (!this.isMovingCenter) {\n        return\n      }\n\n      this.originalCenter = this.render.page2obj(event)\n\n      this.drawCross('move')\n      this.drawLink('moveCenter')\n    },\n    40\n  )\n\n  private dragCrossEnd = (event: MouseEvent) => {\n    event.stopPropagation()\n\n    this.isMovingCenter = false\n    this.originalCenter = this.render.page2obj(event)\n  }\n\n  private dragCrossEndOUtOfBounding = (_event: MouseEvent) => {\n    this.isMovingCenter = false\n    this.rerender()\n  }\n}\n\nexport default RotateController\n\nconst rotatePoint = (centerPoint: Vec2, startPoint: Vec2, angle: number) => {\n  const oCenter = centerPoint\n  const oStart = startPoint\n\n  const centerStart = oStart.sub(oCenter)\n  const centerEnd = centerStart.rotate(angle)\n\n  const oEnd = oCenter.add(centerEnd)\n  return oEnd\n}\n\nexport const getDifference = (\n  currentDegree: number,\n  structRotateDegree: number\n) => {\n  let abs = 0\n\n  // HACK: https://github.com/epam/ketcher/pull/2574#issuecomment-1539509046\n  if (structRotateDegree > 90) {\n    const positiveCurrentDegree =\n      currentDegree < 0 ? currentDegree + 360 : currentDegree\n    abs = Math.abs(positiveCurrentDegree - structRotateDegree)\n  } else if (structRotateDegree < -90) {\n    const negativeCurrentDegree =\n      currentDegree > 0 ? currentDegree - 360 : currentDegree\n    abs = Math.abs(negativeCurrentDegree - structRotateDegree)\n  } else {\n    abs = Math.abs(currentDegree - structRotateDegree)\n  }\n\n  return abs\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  Action,\n  Editor as KetcherEditor,\n  Pile,\n  Render,\n  Struct,\n  Vec2,\n  fromDescriptorsAlign,\n  fromNewCanvas\n} from 'ketcher-core'\nimport {\n  DOMSubscription,\n  PipelineSubscription,\n  Subscription\n} from 'subscription'\n\nimport closest from './shared/closest'\nimport { customOnChangeHandler } from './utils'\nimport { isEqual } from 'lodash/fp'\nimport { toolsMap } from './tool'\nimport { Highlighter } from './highlighter'\nimport { setFunctionalGroupsTooltip } from './utils/functionalGroupsTooltip'\nimport { contextMenuInfo } from '../ui/views/components/ContextMenu/contextMenu.types'\nimport { HoverIcon } from './HoverIcon'\nimport RotateController from './tool/rotate-controller'\nimport {\n  Tool,\n  ToolConstructorInterface,\n  ToolEventHandlerName\n} from './tool/Tool'\n\nconst SCALE = 40\nconst HISTORY_SIZE = 32 // put me to options\n\nconst structObjects = [\n  'atoms',\n  'bonds',\n  'frags',\n  'sgroups',\n  'sgroupData',\n  'rgroups',\n  'rxnArrows',\n  'rxnPluses',\n  'enhancedFlags',\n  'simpleObjects',\n  'texts'\n]\n\nconst highlightTargets = [\n  'atoms',\n  'bonds',\n  'rxnArrows',\n  'rxnPluses',\n  'functionalGroups',\n  'frags',\n  'merge',\n  'rgroups',\n  'sgroups',\n  'sgroupData',\n  'enhancedFlags',\n  'simpleObjects',\n  'texts'\n]\n\nfunction selectStereoFlagsIfNecessary(\n  atoms: any,\n  expAtoms: number[]\n): number[] {\n  const atomsOfFragments = {}\n  atoms.forEach((atom, atomId) => {\n    atomsOfFragments[atom.fragment]\n      ? atomsOfFragments[atom.fragment].push(atomId)\n      : (atomsOfFragments[atom.fragment] = [atomId])\n  })\n\n  const stereoFlags: number[] = []\n\n  Object.keys(atomsOfFragments).forEach((fragId) => {\n    let shouldSelSFlag = true\n    atomsOfFragments[fragId].forEach((atomId) => {\n      if (!expAtoms.includes(atomId)) shouldSelSFlag = false\n    })\n    shouldSelSFlag && stereoFlags.push(Number(fragId))\n  })\n  return stereoFlags\n}\n\nexport interface Selection {\n  atoms?: Array<number>\n  bonds?: Array<number>\n  enhancedFlags?: Array<number>\n  rxnPluses?: Array<number>\n  rxnArrows?: Array<number>\n  texts?: Array<number>\n}\n\nclass Editor implements KetcherEditor {\n  #origin?: any\n  render: Render\n  _selection: Selection | null\n  _tool: Tool | null\n  historyStack: any\n  historyPtr: any\n  errorHandler: ((message: string) => void) | null\n  highlights: Highlighter\n  hoverIcon: HoverIcon\n  lastCursorPosition: { x: number; y: number }\n  contextMenu: contextMenuInfo\n  rotateController: RotateController\n  event: {\n    message: Subscription\n    elementEdit: PipelineSubscription\n    bondEdit: PipelineSubscription\n    rgroupEdit: PipelineSubscription\n    sgroupEdit: PipelineSubscription\n    sdataEdit: PipelineSubscription\n    quickEdit: PipelineSubscription\n    attachEdit: PipelineSubscription\n    removeFG: PipelineSubscription\n    change: Subscription\n    selectionChange: PipelineSubscription\n    aromatizeStruct: PipelineSubscription\n    dearomatizeStruct: PipelineSubscription\n    enhancedStereoEdit: PipelineSubscription\n    confirm: PipelineSubscription\n    showInfo: PipelineSubscription\n    apiSettings: PipelineSubscription\n    cursor: Subscription\n  }\n\n  lastEvent: any\n\n  constructor(clientArea, options) {\n    this.render = new Render(\n      clientArea,\n      Object.assign(\n        {\n          scale: SCALE\n        },\n        options\n      )\n    )\n\n    this._selection = null // eslint-disable-line\n    this._tool = null // eslint-disable-line\n    this.historyStack = []\n    this.historyPtr = 0\n    this.errorHandler = null\n    this.highlights = new Highlighter(this)\n    this.renderAndRecoordinateStruct =\n      this.renderAndRecoordinateStruct.bind(this)\n    this.setOptions = this.setOptions.bind(this)\n\n    this.lastCursorPosition = {\n      x: 0,\n      y: 0\n    }\n    this.hoverIcon = new HoverIcon(this)\n    this.hoverIcon.updatePosition()\n    this.contextMenu = {}\n    this.rotateController = new RotateController(this)\n\n    this.event = {\n      message: new Subscription(),\n      elementEdit: new PipelineSubscription(),\n      bondEdit: new PipelineSubscription(),\n      rgroupEdit: new PipelineSubscription(),\n      sgroupEdit: new PipelineSubscription(),\n      sdataEdit: new PipelineSubscription(),\n      quickEdit: new PipelineSubscription(),\n      attachEdit: new PipelineSubscription(),\n      removeFG: new PipelineSubscription(),\n      change: new Subscription(),\n      selectionChange: new PipelineSubscription(),\n      aromatizeStruct: new PipelineSubscription(),\n      dearomatizeStruct: new PipelineSubscription(),\n      // TODO: correct\n      enhancedStereoEdit: new PipelineSubscription(),\n      confirm: new PipelineSubscription(),\n      cursor: new PipelineSubscription(),\n      showInfo: new PipelineSubscription(),\n      apiSettings: new PipelineSubscription()\n    }\n\n    domEventSetup(this, clientArea)\n  }\n\n  isDitrty(): boolean {\n    const position = this.historyPtr\n    const length = this.historyStack.length\n    if (!length || !this.#origin) {\n      return false\n    }\n    return !isEqual(this.historyStack[position - 1], this.#origin)\n  }\n\n  setOrigin(): void {\n    const position = this.historyPtr\n    this.#origin = position ? this.historyStack[position - 1] : null\n  }\n\n  tool(name?: any, opts?: any): Tool | null {\n    /* eslint-disable no-underscore-dangle */\n    if (arguments.length === 0) {\n      return this._tool\n    }\n\n    if (this._tool && this._tool.cancel) {\n      this._tool.cancel()\n    }\n\n    const ToolConstructor: ToolConstructorInterface = toolsMap[name]\n\n    const tool = new ToolConstructor(this, opts)\n\n    const isAtomToolChosen = name === 'atom'\n    if (!isAtomToolChosen) {\n      this.hoverIcon.hide(true)\n    }\n\n    const isSelectToolChosen = name === 'select'\n    if (!isSelectToolChosen) {\n      this.rotateController.clean()\n    }\n\n    if (!tool || tool.isNotActiveTool) {\n      return null\n    }\n\n    this._tool = tool\n    return this._tool\n    /* eslint-enable no-underscore-dangle */\n  }\n\n  clear() {\n    this.struct(undefined)\n  }\n\n  renderAndRecoordinateStruct(struct: Struct) {\n    const action = fromNewCanvas(this.render.ctab, struct)\n    this.update(action)\n\n    const structCenter = getStructCenter(this.render.ctab)\n    recoordinate(this, structCenter)\n    return this.render.ctab.molecule\n  }\n\n  struct(value?: Struct): Struct {\n    if (arguments.length === 0) {\n      return this.render.ctab.molecule\n    }\n\n    this.selection(null)\n    const struct = value || new Struct()\n\n    const molecule = this.renderAndRecoordinateStruct(struct)\n\n    this.hoverIcon.create()\n    return molecule\n  }\n\n  // this is used by API addFragment method\n  structToAddFragment(value: Struct): Struct {\n    const superStruct = value.mergeInto(this.render.ctab.molecule)\n\n    return this.renderAndRecoordinateStruct(superStruct)\n  }\n\n  setOptions(opts: string) {\n    const options = JSON.parse(opts)\n    this.event.apiSettings.dispatch({ ...this.options(), ...options })\n    return this.render.updateOptions(opts)\n  }\n\n  options(value?: any) {\n    if (arguments.length === 0) {\n      return this.render.options\n    }\n\n    const struct = this.render.ctab.molecule\n    const zoom = this.render.options.zoom\n    this.render.clientArea.innerHTML = ''\n\n    this.render = new Render(\n      this.render.clientArea,\n      Object.assign({ scale: SCALE }, value)\n    )\n    this.struct(struct)\n    this.render.setZoom(zoom)\n    this.render.update()\n    return this.render.options\n  }\n\n  zoom(value?: any) {\n    if (arguments.length === 0) {\n      return this.render.options.zoom\n    }\n\n    this.render.setZoom(value)\n\n    const selection = this.selection()\n    const structCenter = getStructCenter(this.render.ctab, selection)\n    recoordinate(this, structCenter)\n\n    this.render.update()\n    this.rotateController.rerender()\n    return this.render.options.zoom\n  }\n\n  selection(ci?: any) {\n    if (arguments.length === 0) {\n      return this._selection // eslint-disable-line\n    }\n\n    let ReStruct = this.render.ctab\n    let selectAll = false\n    this._selection = null // eslint-disable-line\n    if (ci === 'all') {\n      selectAll = true\n      // TODO: better way will be this.struct()\n      ci = structObjects.reduce((res, key) => {\n        res[key] = Array.from(ReStruct[key].keys())\n        return res\n      }, {})\n    }\n\n    if (ci === 'descriptors') {\n      ReStruct = this.render.ctab\n      ci = { sgroupData: Array.from(ReStruct.sgroupData.keys()) }\n    }\n\n    if (ci) {\n      const res: Selection = {}\n\n      Object.keys(ci).forEach((key) => {\n        if (ci[key].length > 0)\n          // TODO: deep merge\n          res[key] = ci[key].slice()\n      })\n\n      if (Object.keys(res).length !== 0) {\n        this._selection = res // eslint-disable-line\n      }\n      const stereoFlags = selectStereoFlagsIfNecessary(\n        this.struct().atoms,\n        this.explicitSelected().atoms\n      )\n      if (stereoFlags.length !== 0) {\n        this._selection && this._selection.enhancedFlags\n          ? (this._selection.enhancedFlags = Array.from(\n              new Set([...this._selection.enhancedFlags, ...stereoFlags])\n            ))\n          : (res.enhancedFlags = stereoFlags)\n      }\n    }\n\n    this.render.ctab.setSelection(this._selection) // eslint-disable-line\n    this.event.selectionChange.dispatch(this._selection) // eslint-disable-line\n\n    if (selectAll) {\n      this.rotateController.rerender()\n    } else if (this._selection === null) {\n      this.rotateController.clean()\n    }\n\n    this.render.update(false, null, { resizeCanvas: false })\n    return this._selection // eslint-disable-line\n  }\n\n  hover(ci: any, newTool?: any, event?: PointerEvent) {\n    const tool = newTool || this._tool // eslint-disable-line\n\n    if (\n      'ci' in tool &&\n      (!ci || tool.ci.map !== ci.map || tool.ci.id !== ci.id)\n    ) {\n      setHover(tool.ci, false, this.render)\n      delete tool.ci\n    }\n\n    if (ci && setHover(ci, true, this.render)) tool.ci = ci\n\n    if (!event) return\n\n    setFunctionalGroupsTooltip({\n      editor: this,\n      event,\n      isShow: true\n    })\n  }\n\n  update(\n    action: Action | true,\n    ignoreHistory?: boolean,\n    options = { resizeCanvas: true }\n  ) {\n    setFunctionalGroupsTooltip({\n      editor: this,\n      isShow: false\n    })\n\n    if (action === true) {\n      this.render.update(true, null, options) // force\n    } else {\n      if (!ignoreHistory && !action.isDummy()) {\n        this.historyStack.splice(this.historyPtr, HISTORY_SIZE + 1, action)\n        if (this.historyStack.length > HISTORY_SIZE) {\n          this.historyStack.shift()\n        }\n        this.historyPtr = this.historyStack.length\n        this.event.change.dispatch(action) // TODO: stoppable here\n      }\n      this.render.update(false, null, options)\n    }\n  }\n\n  historySize() {\n    return {\n      undo: this.historyPtr,\n      redo: this.historyStack.length - this.historyPtr\n    }\n  }\n\n  undo() {\n    if (this.historyPtr === 0) {\n      throw new Error('Undo stack is empty')\n    }\n    if (this._tool && this._tool.cancel) {\n      this._tool.cancel()\n    }\n\n    this.selection(null)\n\n    if (this._tool instanceof toolsMap.paste) {\n      this.event.change.dispatch()\n      return\n    }\n\n    this.historyPtr--\n    const stack = this.historyStack[this.historyPtr]\n    const action = stack.perform(this.render.ctab)\n\n    this.historyStack[this.historyPtr] = action\n    this.event.change.dispatch(action)\n    this.render.update()\n  }\n\n  redo() {\n    if (this.historyPtr === this.historyStack.length) {\n      throw new Error('Redo stack is empty')\n    }\n\n    if (this._tool && this._tool.cancel) {\n      this._tool.cancel()\n    }\n\n    this.selection(null)\n    if (this._tool instanceof toolsMap.paste) {\n      this.event.change.dispatch()\n      return\n    }\n\n    const action = this.historyStack[this.historyPtr].perform(this.render.ctab)\n    this.historyStack[this.historyPtr] = action\n    this.historyPtr++\n    this.event.change.dispatch(action)\n    this.render.update()\n  }\n\n  subscribe(eventName: any, handler: any) {\n    const subscriber = {\n      handler\n    }\n\n    switch (eventName) {\n      case 'change':\n        const subscribeFuncWrapper = (action) =>\n          customOnChangeHandler(action, handler)\n        subscriber.handler = subscribeFuncWrapper\n        this.event[eventName].add(subscribeFuncWrapper)\n        break\n\n      default:\n        this.event[eventName].add(handler)\n    }\n\n    return subscriber\n  }\n\n  unsubscribe(eventName: any, subscriber: any) {\n    // Only for event type - subscription\n    this.event[eventName].remove(subscriber.handler)\n  }\n\n  findItem(event: any, maps: any, skip: any = null) {\n    const pos = new Vec2(this.render.page2obj(event))\n\n    return closest.item(this.render.ctab, pos, maps, skip, this.render.options)\n  }\n\n  findMerge(srcItems: any, maps: any) {\n    return closest.merge(this.render.ctab, srcItems, maps, this.render.options)\n  }\n\n  explicitSelected() {\n    const selection = this.selection() || {}\n    const res = structObjects.reduce((acc, key) => {\n      acc[key] = selection[key] ? selection[key].slice() : []\n      return acc\n    }, {} as any)\n\n    const struct = this.render.ctab.molecule\n\n    // \"auto-select\" the atoms for the bonds in selection\n    if (res.bonds) {\n      res.bonds.forEach((bid) => {\n        const bond = struct.bonds.get(bid)!\n        res.atoms = res.atoms || []\n        if (res.atoms.indexOf(bond.begin) < 0) {\n          res.atoms.push(bond.begin)\n        }\n\n        if (res.atoms.indexOf(bond.end) < 0) {\n          res.atoms.push(bond.end)\n        }\n      })\n    }\n\n    // \"auto-select\" the bonds with both atoms selected\n    if (res.atoms && res.bonds) {\n      struct.bonds.forEach((bond, bid) => {\n        if (\n          res.bonds.indexOf(bid) < 0 &&\n          res.atoms.indexOf(bond.begin) >= 0 &&\n          res.atoms.indexOf(bond.end) >= 0\n        ) {\n          res.bonds = res.bonds || []\n          res.bonds.push(bid)\n        }\n      })\n    }\n\n    return res\n  }\n\n  structSelected() {\n    const struct = this.render.ctab.molecule\n    const selection = this.explicitSelected()\n    const dst = struct.clone(\n      new Pile(selection.atoms),\n      new Pile(selection.bonds),\n      true,\n      null,\n      new Pile(selection.simpleObjects),\n      new Pile(selection.texts)\n    )\n\n    // Copy by its own as Struct.clone doesn't support\n    // arrows/pluses id sets\n    struct.rxnArrows.forEach((item, id) => {\n      if (selection.rxnArrows.indexOf(id) !== -1)\n        dst.rxnArrows.add(item.clone())\n    })\n    struct.rxnPluses.forEach((item, id) => {\n      if (selection.rxnPluses.indexOf(id) !== -1)\n        dst.rxnPluses.add(item.clone())\n    })\n\n    dst.isReaction = struct.isReaction && struct.isRxn()\n\n    return dst\n  }\n\n  alignDescriptors() {\n    this.selection(null)\n    const action = fromDescriptorsAlign(this.render.ctab)\n    this.update(action)\n    this.render.update(true)\n  }\n}\n\n/**\n * Main button pressed, usually the left button or the un-initialized state\n * See: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n */\nfunction isMouseMainButtonPressed(event: MouseEvent) {\n  return event.button === 0\n}\n\nfunction resetSelectionOnCanvasClick(\n  editor: Editor,\n  eventName: string,\n  clientArea: HTMLElement,\n  event\n) {\n  if (\n    eventName === 'mouseup' &&\n    editor.selection() &&\n    clientArea.contains(event.target)\n  ) {\n    editor.selection(null)\n  }\n}\n\nfunction updateLastCursorPosition(editor: Editor, event) {\n  const events = ['mousemove', 'click', 'mousedown', 'mouseup', 'mouseover']\n  if (events.includes(event.type)) {\n    editor.lastCursorPosition = {\n      x: event.layerX,\n      y: event.layerY\n    }\n  }\n}\n\nfunction isContextMenuClosed(contextMenu: contextMenuInfo) {\n  return !Object.values(contextMenu).some(Boolean)\n}\n\nfunction useToolIfNeeded(\n  editor: Editor,\n  eventHandlerName: ToolEventHandlerName,\n  clientArea: HTMLElement,\n  event\n) {\n  const editorTool = editor.tool()\n  if (!editorTool) {\n    return false\n  }\n\n  editor.lastEvent = event\n  const conditions = [\n    eventHandlerName in editorTool,\n    clientArea.contains(event.target) || editorTool.isSelectionRunning?.(),\n    isContextMenuClosed(editor.contextMenu)\n  ]\n\n  if (conditions.every((condition) => condition)) {\n    editorTool[eventHandlerName]?.(event)\n    return true\n  }\n\n  return false\n}\n\nfunction domEventSetup(editor: Editor, clientArea: HTMLElement) {\n  // TODO: addEventListener('resize', ...);\n  const trackedDomEvents: {\n    target: Node\n    eventName: string\n    toolEventHandler: ToolEventHandlerName\n  }[] = [\n    {\n      target: clientArea,\n      eventName: 'click',\n      toolEventHandler: 'click'\n    },\n    {\n      target: clientArea,\n      eventName: 'dblclick',\n      toolEventHandler: 'dblclick'\n    },\n    {\n      target: clientArea,\n      eventName: 'mousedown',\n      toolEventHandler: 'mousedown'\n    },\n    {\n      target: document,\n      eventName: 'mousemove',\n      toolEventHandler: 'mousemove'\n    },\n    {\n      target: document,\n      eventName: 'mouseup',\n      toolEventHandler: 'mouseup'\n    },\n    {\n      target: document,\n      eventName: 'mouseleave',\n      toolEventHandler: 'mouseleave'\n    },\n    {\n      target: clientArea,\n      eventName: 'mouseleave',\n      toolEventHandler: 'mouseLeaveClientArea'\n    },\n    {\n      target: clientArea,\n      eventName: 'mouseover',\n      toolEventHandler: 'mouseover'\n    }\n  ]\n\n  trackedDomEvents.forEach(({ target, eventName, toolEventHandler }) => {\n    editor.event[eventName] = new DOMSubscription()\n    const subs = editor.event[eventName]\n\n    target.addEventListener(eventName, subs.dispatch.bind(subs))\n\n    subs.add((event) => {\n      updateLastCursorPosition(editor, event)\n\n      if (\n        ['mouseup', 'mousedown', 'click', 'dbclick'].includes(event.type) &&\n        !isMouseMainButtonPressed(event)\n      ) {\n        return true\n      }\n\n      if (eventName !== 'mouseup' && eventName !== 'mouseleave') {\n        // to complete drag actions\n        if (!event.target || event.target.nodeName === 'DIV') {\n          // click on scroll\n          editor.hover(null)\n          return true\n        }\n      }\n\n      const isToolUsed = useToolIfNeeded(\n        editor,\n        toolEventHandler,\n        clientArea,\n        event\n      )\n      if (isToolUsed) {\n        return true\n      }\n\n      resetSelectionOnCanvasClick(editor, eventName, clientArea, event)\n\n      return true\n    }, -1)\n  })\n}\n\nfunction recoordinate(editor: Editor, rp?: Vec2 /* , vp */) {\n  // rp is a point in scaled coordinates, which will be positioned\n  // vp is the point where the reference point should now be (in view coordinates)\n  //    or the center if not set\n  console.assert(rp, 'Reference point not specified')\n  if (rp) {\n    editor.render.setScrollOffset(rp.x, rp.y)\n  } else {\n    editor.render.setScrollOffset(0, 0)\n  }\n}\n\nfunction getStructCenter(ReStruct, selection?) {\n  const bb = ReStruct.getVBoxObj(selection || {})\n  return Vec2.lc2(bb.p0, 0.5, bb.p1, 0.5)\n}\n\nexport { Editor }\nexport default Editor\n\nfunction setHover(ci: any, visible: any, render: any) {\n  if (highlightTargets.indexOf(ci.map) === -1) {\n    return false\n  }\n\n  let item: any = null\n\n  if (ci.map === 'merge') {\n    Object.keys(ci.items).forEach((mp) => {\n      ci.items[mp].forEach((dstId) => {\n        item = render.ctab[mp].get(dstId)!\n\n        if (item) {\n          item.setHover(visible, render)\n        }\n      })\n    })\n\n    return true\n  }\n\n  if (ci.map === 'functionalGroups') ci.map = 'sgroups' // TODO: Refactor object\n\n  item = (render.ctab[ci.map] as Map<any, any>).get(ci.id)\n  if (!item) {\n    return true // TODO: fix, attempt to highlight a deleted item\n  }\n\n  if (\n    (ci.map === 'sgroups' && item.item.type === 'DAT') ||\n    ci.map === 'sgroupData'\n  ) {\n    // set highlight for both the group and the data item\n    const item1 = render.ctab.sgroups.get(ci.id)\n    if (item1) {\n      item1.setHover(visible, render)\n    }\n\n    const item2 = render.ctab.sgroupData.get(ci.id)\n    if (item2) {\n      item2.setHover(visible, render)\n    }\n  } else {\n    item.setHover(visible, render)\n  }\n  return true\n}\n","import { useState, useEffect } from 'react'\n\nconst Cursor = ({ Icon, PressedIcon, enableHandTool }) => {\n  const [position, setPosition] = useState({\n    clientX: 50,\n    clientY: 50\n  })\n\n  const [mousedown, setMouseDown] = useState(false)\n\n  const updatePosition = (event) => {\n    const { pageX, pageY, clientX, clientY } = event\n\n    setPosition({\n      clientX,\n      clientY\n    })\n  }\n  const handleMouseDown = () => {\n    setMouseDown(true)\n  }\n  const handleMouseUp = () => {\n    setMouseDown(false)\n  }\n\n  const handleMouseOver = (event) => {\n    const { pageX, pageY, clientX, clientY } = event\n\n    setPosition({\n      clientX,\n      clientY\n    })\n  }\n  useEffect(() => {\n    document.addEventListener('mousemove', updatePosition, false)\n    document.addEventListener('mouseenter', updatePosition, false)\n    document.addEventListener('mousedown', handleMouseDown, false)\n    document.addEventListener('mouseup', handleMouseUp, false)\n\n    return () => {\n      document.removeEventListener('mousedown', handleMouseDown)\n      document.removeEventListener('mouseup', handleMouseUp)\n      document.removeEventListener('mousemove', updatePosition)\n      document.removeEventListener('mouseenter', updatePosition)\n    }\n  }, [])\n\n  if (!enableHandTool) return null\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        zIndex: 9999,\n        pointerEvents: 'none'\n      }}\n    >\n      {mousedown ? (\n        <PressedIcon\n          style={{\n            position: 'absolute',\n            left: position.clientX,\n            top: position.clientY\n          }}\n        />\n      ) : (\n        <Icon\n          style={{\n            position: 'absolute',\n            left: position.clientX,\n            top: position.clientY\n          }}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Cursor\n","import { FunctionalGroup } from 'ketcher-core'\nimport type { TriggerEvent, PredicateParams } from 'react-contexify'\nimport { Selection } from '../../../../editor/Editor'\n\nexport enum CONTEXT_MENU_ID {\n  FOR_BONDS = 'context-menu-for-bonds',\n  FOR_ATOMS = 'context-menu-for-atoms',\n  FOR_SELECTION = 'context-menu-for-selection',\n  FOR_FUNCTIONAL_GROUPS = 'context-menu-for-functional-groups'\n}\n\nexport type ItemData = unknown\n\nexport type ContextMenuShowProps = {\n  id: CONTEXT_MENU_ID\n  functionalGroups?: FunctionalGroup[]\n  bondIds?: number[]\n  atomIds?: number[]\n  extraItemsSelected?: boolean\n} | null\n\nexport interface MenuItemsProps {\n  triggerEvent?: TriggerEvent\n  propsFromTrigger?: ContextMenuShowProps\n}\n\nexport type ItemEventParams = PredicateParams<ContextMenuShowProps, ItemData>\n\nexport type contextMenuInfo = {\n  [id in CONTEXT_MENU_ID]?: boolean\n}\n\nexport enum ContextMenuTriggerType {\n  None = 'none',\n  Selection = 'selection',\n  ClosestItem = 'closestItem'\n}\n\nexport interface ClosestItem {\n  id: number\n  dist: number\n  map: string /* should be enum something like keys of findMaps from packages/ketcher-react/src/script/editor/shared/closest.js */\n}\n\nexport interface GetIsItemInSelectionArgs {\n  item: ClosestItem | null\n  selection: Selection | null\n  selectedFunctionalGroups: Map<number, FunctionalGroup>\n  selectedSGroupsIds: Set<number>\n}\n","import { useCallback } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport { mapAtomIdsToAtoms } from 'src/script/editor/tool/select'\nimport { updateSelectedAtoms } from 'src/script/ui/state/modal/atoms'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useAtomEdit = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const handler = useCallback(\n    async ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const molecule = editor.render.ctab\n      const atomIds = props?.atomIds || []\n      const atoms = mapAtomIdsToAtoms(atomIds, molecule)\n\n      const newAtom = editor.event.elementEdit.dispatch(atoms)\n\n      updateSelectedAtoms({\n        atoms: atomIds,\n        changeAtomPromise: newAtom,\n        editor\n      })\n    },\n    [getKetcherInstance]\n  )\n\n  const disabled = useCallback(({ props }: ItemEventParams) => {\n    const atomIds = props?.atomIds\n    if (Array.isArray(atomIds) && atomIds.length !== 0) {\n      return false\n    }\n\n    return true\n  }, [])\n\n  return [handler, disabled] as const\n}\n\nexport default useAtomEdit\n","import { difference } from 'lodash'\n\n/**\n * Remove the word `bond` out of the title\n *\n * @example\n * formatTitle('Single Bond') === 'Single'\n */\nexport const formatTitle = (title: string) => {\n  return title.slice(0, -5)\n}\n\n/**\n * Get bond names from default export of `src/script/ui/action/tools.js`\n *\n * @returns `['bond-single', 'bond-up', 'bond-down', 'bond-updown', 'bond-double',\n * 'bond-crossed', 'bond-triple', 'bond-aromatic', 'bond-any', 'bond-hydrogen',\n * 'bond-singledouble', 'bond-singlearomatic', 'bond-doublearomatic', 'bond-dative']`\n */\nexport const getBondNames = (tools) => {\n  return Object.keys(tools).filter((key) => key.startsWith('bond-'))\n}\n\nexport const queryBondNames = [\n  'bond-any',\n  'bond-aromatic',\n  'bond-singledouble',\n  'bond-singlearomatic',\n  'bond-doublearomatic'\n]\n\n/**\n * Get bond names except for query bonds\n *\n * @returns `['bond-single', 'bond-up', 'bond-down', 'bond-updown', 'bond-double',\n * 'bond-crossed', 'bond-triple', 'bond-aromatic', 'bond-hydrogen', 'bond-dative']`\n */\nexport const getNonQueryBondNames = (tools) => {\n  const allBondNames = getBondNames(tools)\n  return difference(allBondNames, queryBondNames)\n}\n\nexport const noOperation = () => null\n\nexport function onlyHasProperty<T extends object>(\n  checkedObject: T,\n  key: keyof T,\n  ignoredProps: string[] = []\n) {\n  const props = Object.keys(checkedObject).filter(\n    (key) => !ignoredProps.includes(key)\n  )\n\n  const numberOfProps = props.length\n  return numberOfProps === 1 && key in checkedObject\n}\n","import { findStereoAtoms } from 'ketcher-core'\nimport { useCallback, useRef } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport EnhancedStereoTool from 'src/script/editor/tool/enhanced-stereo'\nimport { ItemEventParams } from '../contextMenu.types'\nimport { noOperation } from '../utils'\n\nconst useAtomStereo = () => {\n  const { getKetcherInstance } = useAppContext()\n  const stereoAtomIdsRef = useRef<number[] | undefined>()\n\n  const handler = useCallback(\n    async ({ props }: ItemEventParams) => {\n      if (!props || !stereoAtomIdsRef.current) {\n        return\n      }\n\n      const editor = getKetcherInstance().editor as Editor\n\n      try {\n        const action = await EnhancedStereoTool.changeAtomsStereoAction(\n          editor,\n          stereoAtomIdsRef.current\n        )\n\n        action && editor.update(action)\n      } catch (error) {\n        noOperation()\n      }\n    },\n    [getKetcherInstance]\n  )\n\n  const disabled = useCallback(\n    ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const stereoAtomIds: number[] = findStereoAtoms(\n        editor.struct(),\n        props?.atomIds\n      )\n      stereoAtomIdsRef.current = stereoAtomIds\n\n      if (Array.isArray(stereoAtomIds) && stereoAtomIds.length !== 0) {\n        return false\n      }\n\n      return true\n    },\n    [getKetcherInstance]\n  )\n\n  return [handler, disabled] as const\n}\n\nexport default useAtomStereo\n","import { fromFragmentDeletion } from 'ketcher-core'\nimport { useCallback } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useDelete = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const handler = useCallback(\n    async ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const molecule = editor.render.ctab\n      const itemsToDelete = editor.selection() || {\n        bonds: props?.bondIds,\n        atoms: props?.atomIds\n      }\n\n      const action = fromFragmentDeletion(molecule, itemsToDelete)\n      editor.update(action)\n\n      editor.selection(null)\n    },\n    [getKetcherInstance]\n  )\n\n  return handler\n}\n\nexport default useDelete\n","import { FC } from 'react'\nimport { Item } from 'react-contexify'\nimport useAtomEdit from '../hooks/useAtomEdit'\nimport useAtomStereo from '../hooks/useAtomStereo'\nimport useDelete from '../hooks/useDelete'\nimport { MenuItemsProps } from '../contextMenu.types'\n\nconst AtomMenuItems: FC<MenuItemsProps> = (props) => {\n  const [handleEdit] = useAtomEdit()\n  const [handleStereo, stereoDisabled] = useAtomStereo()\n  const handleDelete = useDelete()\n\n  return (\n    <>\n      <Item {...props} onClick={handleEdit}>\n        {props.propsFromTrigger?.extraItemsSelected\n          ? 'Edit selected atoms...'\n          : 'Edit...'}\n      </Item>\n\n      <Item {...props} disabled={stereoDisabled} onClick={handleStereo}>\n        Enhanced stereochemistry...\n      </Item>\n\n      <Item {...props} onClick={handleDelete}>\n        Delete\n      </Item>\n    </>\n  )\n}\n\nexport default AtomMenuItems\n","import { useCallback } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport { updateSelectedBonds } from 'src/script/ui/state/modal/bonds'\nimport { mapBondIdsToBonds } from 'src/script/editor/tool/select'\nimport { ItemEventParams } from '../contextMenu.types'\nimport { noOperation } from '../utils'\n\nconst useBondEdit = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const handler = useCallback(\n    async ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const bondIds = props?.bondIds || []\n      const molecule = editor.render.ctab\n      try {\n        const bonds = mapBondIdsToBonds(bondIds, molecule)\n        const changeBondPromise = await editor.event.bondEdit.dispatch(bonds)\n        updateSelectedBonds({ bonds: bondIds, changeBondPromise, editor })\n      } catch (error) {\n        noOperation()\n      }\n    },\n    [getKetcherInstance]\n  )\n\n  const disabled = useCallback(({ props }: ItemEventParams) => {\n    const selectedBondIds = props?.bondIds\n    if (Array.isArray(selectedBondIds) && selectedBondIds.length !== 0) {\n      return false\n    }\n\n    return true\n  }, [])\n\n  return [handler, disabled] as const\n}\n\nexport default useBondEdit\n","import { ReStruct } from 'ketcher-core'\nimport { useCallback } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport SGroupTool from 'src/script/editor/tool/sgroup'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useBondSGroupAttach = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const handler = useCallback(\n    ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const struct: ReStruct = editor.render.ctab\n      const bondId = props!.bondIds![0]\n      const bond = struct.bonds.get(bondId)!\n\n      const selection = {\n        atoms: [bond?.b.begin, bond?.b.end],\n        bonds: [bondId]\n      }\n\n      editor.selection(selection)\n      SGroupTool.sgroupDialog(editor, null)\n    },\n    [getKetcherInstance]\n  )\n\n  const hidden = useCallback(\n    ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const struct: ReStruct = editor.render.ctab\n      const bondIds = props!.bondIds!\n\n      if (bondIds.length > 1) {\n        return true\n      }\n\n      const bond = struct.bonds.get(bondIds[0])!\n      const attachedSGroups = bond.b.getAttachedSGroups(struct.molecule)\n\n      return attachedSGroups.size > 0\n    },\n    [getKetcherInstance]\n  )\n\n  return [handler, hidden] as const\n}\n\nexport default useBondSGroupAttach\n","import { Pile, ReStruct } from 'ketcher-core'\nimport { useCallback, useRef } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport SGroupTool from 'src/script/editor/tool/sgroup'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useBondSGroupEdit = () => {\n  const { getKetcherInstance } = useAppContext()\n  const sGroupsRef = useRef(new Pile<number>())\n\n  const handler = useCallback(() => {\n    const editor = getKetcherInstance().editor as Editor\n    const sGroups = Array.from(sGroupsRef.current)\n    SGroupTool.sgroupDialog(editor, sGroups[0])\n  }, [getKetcherInstance])\n\n  // In react-contexify, `disabled` is executed before `hidden`\n  const disabled = useCallback(\n    ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const struct: ReStruct = editor.render.ctab\n      const bondIds = props!.bondIds!\n\n      if (bondIds.length > 1) {\n        return true\n      }\n\n      const bond = struct.bonds.get(bondIds[0])!\n      sGroupsRef.current = bond.b.getAttachedSGroups(struct.molecule)\n\n      return sGroupsRef.current.size > 1\n    },\n    [getKetcherInstance]\n  )\n\n  const hidden = useCallback(() => {\n    return sGroupsRef.current.size === 0\n  }, [])\n\n  return [handler, disabled, hidden] as const\n}\n\nexport default useBondSGroupEdit\n","import { fromBondsAttrs } from 'ketcher-core'\nimport { useCallback } from 'react'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport tools from 'src/script/ui/action/tools'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useBondTypeChange = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const handler = useCallback(\n    ({ id, props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const molecule = editor.render.ctab\n      const bondIds = props?.bondIds || []\n      const bondProps = tools[id].action.opts\n\n      editor.update(fromBondsAttrs(molecule, bondIds, bondProps))\n    },\n    [getKetcherInstance]\n  )\n\n  const disabled = useCallback(({ props }: ItemEventParams) => {\n    const selectedBondIds = props?.bondIds\n    if (Array.isArray(selectedBondIds) && selectedBondIds.length !== 0) {\n      return false\n    }\n\n    return true\n  }, [])\n\n  return [handler, disabled] as const\n}\n\nexport default useBondTypeChange\n","import { FC } from 'react'\nimport { Item, Submenu } from 'react-contexify'\nimport tools from 'src/script/ui/action/tools'\nimport Icon from 'src/script/ui/component/view/icon'\nimport styles from '../ContextMenu.module.less'\nimport useBondEdit from '../hooks/useBondEdit'\nimport useBondSGroupAttach from '../hooks/useBondSGroupAttach'\nimport useBondSGroupEdit from '../hooks/useBondSGroupEdit'\nimport useBondTypeChange from '../hooks/useBondTypeChange'\nimport useDelete from '../hooks/useDelete'\nimport { formatTitle, getNonQueryBondNames, queryBondNames } from '../utils'\nimport { MenuItemsProps } from '../contextMenu.types'\n\nconst nonQueryBondNames = getNonQueryBondNames(tools)\n\nconst BondMenuItems: FC<MenuItemsProps> = (props) => {\n  const [handleEdit] = useBondEdit()\n  const [handleTypeChange] = useBondTypeChange()\n  const [handleSGroupAttach, sGroupAttachHidden] = useBondSGroupAttach()\n  const [handleSGroupEdit, sGroupEditDisabled, sGroupEditHidden] =\n    useBondSGroupEdit()\n  const handleDelete = useDelete()\n\n  return (\n    <>\n      <Item {...props} onClick={handleEdit}>\n        {props.propsFromTrigger?.extraItemsSelected\n          ? 'Edit selected bonds...'\n          : 'Edit...'}\n      </Item>\n\n      {nonQueryBondNames.map((name) => (\n        <Item {...props} id={name} onClick={handleTypeChange} key={name}>\n          <Icon name={name} className={styles.icon} />\n          <span>{formatTitle(tools[name].title)}</span>\n        </Item>\n      ))}\n\n      <Submenu {...props} label=\"Query bonds\" className={styles.subMenu}>\n        {queryBondNames.map((name) => (\n          <Item id={name} onClick={handleTypeChange} key={name}>\n            <Icon name={name} className={styles.icon} />\n            <span>{formatTitle(tools[name].title)}</span>\n          </Item>\n        ))}\n      </Submenu>\n\n      <Item {...props} hidden={sGroupAttachHidden} onClick={handleSGroupAttach}>\n        Attach S-Group...\n      </Item>\n\n      <Item\n        {...props}\n        hidden={sGroupEditHidden}\n        disabled={sGroupEditDisabled}\n        onClick={handleSGroupEdit}\n      >\n        Edit S-Group...\n      </Item>\n\n      <Item {...props} onClick={handleDelete}>\n        Delete\n      </Item>\n    </>\n  )\n}\n\nexport default BondMenuItems\n","import { Action, FunctionalGroup, setExpandSGroup } from 'ketcher-core'\nimport { useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport { highlightFG } from 'src/script/ui/state/functionalGroups'\nimport { ItemEventParams } from '../contextMenu.types'\n\n/**\n * Fullname: useFunctionalGroupExpandOrContract\n */\nconst useFunctionalGroupEoc = () => {\n  const { getKetcherInstance } = useAppContext()\n  const dispatch = useDispatch()\n\n  const handler = useCallback(\n    ({ props }: ItemEventParams, toExpand: boolean) => {\n      const editor = getKetcherInstance().editor as Editor\n      const molecule = editor.render.ctab\n      const selectedFunctionalGroups = props?.functionalGroups\n      const action = new Action()\n\n      selectedFunctionalGroups?.forEach((functionalGroup) => {\n        action.mergeWith(\n          setExpandSGroup(molecule, functionalGroup.relatedSGroupId, {\n            expanded: toExpand\n          })\n        )\n      })\n\n      editor.update(action)\n      editor.rotateController.rerender()\n      highlightFG(dispatch, { group: null, id: null })\n    },\n    [dispatch, getKetcherInstance]\n  )\n\n  const hidden = useCallback(\n    ({ props }: ItemEventParams, toExpand: boolean) => {\n      return Boolean(\n        props?.functionalGroups?.every((functionalGroup) =>\n          toExpand ? functionalGroup.isExpanded : !functionalGroup.isExpanded\n        )\n      )\n    },\n    []\n  )\n  const disabled = useCallback(({ props }: ItemEventParams) => {\n    const editor = getKetcherInstance().editor as Editor\n    const molecule = editor.render.ctab.molecule\n    return Boolean(\n      props?.functionalGroups?.every(\n        (functionalGroup) =>\n          FunctionalGroup.getAttachmentPointCount(\n            functionalGroup?.relatedSGroup,\n            molecule\n          ) > 1\n      )\n    )\n  }, [])\n\n  return [handler, hidden, disabled] as const\n}\n\nexport default useFunctionalGroupEoc\n","import { Action, fromSgroupDeletion } from 'ketcher-core'\nimport { useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport { highlightFG } from 'src/script/ui/state/functionalGroups'\nimport { ItemEventParams } from '../contextMenu.types'\n\nconst useFunctionalGroupRemove = () => {\n  const { getKetcherInstance } = useAppContext()\n  const dispatch = useDispatch()\n\n  const handler = useCallback(\n    ({ props }: ItemEventParams) => {\n      const editor = getKetcherInstance().editor as Editor\n      const selectedFunctionalGroups = props?.functionalGroups\n      const action = new Action()\n\n      selectedFunctionalGroups?.forEach((functionalGroup) => {\n        action.mergeWith(\n          fromSgroupDeletion(\n            editor.render.ctab,\n            functionalGroup.relatedSGroupId\n          )\n        )\n      })\n\n      editor.update(action)\n      highlightFG(dispatch, { group: null, id: null })\n    },\n    [dispatch, getKetcherInstance]\n  )\n\n  return handler\n}\n\nexport default useFunctionalGroupRemove\n","import { FC } from 'react'\nimport { Item } from 'react-contexify'\nimport useFunctionalGroupEoc from '../hooks/useFunctionalGroupEoc'\nimport useFunctionalGroupRemove from '../hooks/useFunctionalGroupRemove'\nimport { MenuItemsProps } from '../contextMenu.types'\n\nconst FunctionalGroupMenuItems: FC<MenuItemsProps> = (props) => {\n  const [\n    handleExpandOrContract,\n    ExpandOrContractHidden,\n    ExpandOrContractDisabled\n  ] = useFunctionalGroupEoc()\n  const handleRemove = useFunctionalGroupRemove()\n\n  return (\n    <>\n      <Item\n        {...props}\n        disabled={(params) => ExpandOrContractDisabled(params)}\n        hidden={(params) => ExpandOrContractHidden(params, true)}\n        onClick={(params) => handleExpandOrContract(params, true)}\n      >\n        Expand Abbreviation\n      </Item>\n      <Item\n        {...props}\n        disabled={(params) => ExpandOrContractDisabled(params)}\n        hidden={(params) => ExpandOrContractHidden(params, false)}\n        onClick={(params) => handleExpandOrContract(params, false)}\n      >\n        Contract Abbreviation\n      </Item>\n      <Item {...props} onClick={handleRemove}>\n        Remove Abbreviation\n      </Item>\n    </>\n  )\n}\n\nexport default FunctionalGroupMenuItems\n","import { FC } from 'react'\nimport { Item, Submenu } from 'react-contexify'\nimport tools from 'src/script/ui/action/tools'\nimport Icon from 'src/script/ui/component/view/icon'\nimport styles from '../ContextMenu.module.less'\nimport useAtomEdit from '../hooks/useAtomEdit'\nimport useAtomStereo from '../hooks/useAtomStereo'\nimport useBondEdit from '../hooks/useBondEdit'\nimport useBondTypeChange from '../hooks/useBondTypeChange'\nimport useDelete from '../hooks/useDelete'\nimport { formatTitle, getBondNames } from '../utils'\nimport { MenuItemsProps } from '../contextMenu.types'\n\nconst bondNames = getBondNames(tools)\n\nconst SelectionMenuItems: FC<MenuItemsProps> = (props) => {\n  const [handleBondEdit, bondEditDisabled] = useBondEdit()\n  const [handleAtomEdit, atomEditDisabled] = useAtomEdit()\n  const [handleTypeChange, bondTypeChangeDisabled] = useBondTypeChange()\n  const [handleAtomStereo, atomStereoDisabled] = useAtomStereo()\n  const handleDelete = useDelete()\n\n  return (\n    <>\n      <Item {...props} disabled={bondEditDisabled} onClick={handleBondEdit}>\n        Edit selected bonds...\n      </Item>\n\n      <Item {...props} disabled={atomEditDisabled} onClick={handleAtomEdit}>\n        Edit selected atoms...\n      </Item>\n\n      <Submenu\n        {...props}\n        label=\"Bond type\"\n        disabled={bondTypeChangeDisabled}\n        className={styles.subMenu}\n      >\n        {bondNames.map((name) => (\n          <Item id={name} onClick={handleTypeChange} key={name}>\n            <Icon name={name} className={styles.icon} />\n            <span>{formatTitle(tools[name].title)}</span>\n          </Item>\n        ))}\n      </Submenu>\n\n      <Item {...props} disabled={atomStereoDisabled} onClick={handleAtomStereo}>\n        Enhanced stereochemistry...\n      </Item>\n\n      <Item {...props} onClick={handleDelete}>\n        Delete\n      </Item>\n    </>\n  )\n}\n\nexport default SelectionMenuItems\n","/****************************************************************************\n * Copyright 2022 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useCallback } from 'react'\nimport { Menu, MenuProps } from 'react-contexify'\nimport 'react-contexify/ReactContexify.css'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport styles from './ContextMenu.module.less'\nimport { CONTEXT_MENU_ID } from './contextMenu.types'\nimport AtomMenuItems from './menuItems/AtomMenuItems'\nimport BondMenuItems from './menuItems/BondMenuItems'\nimport FunctionalGroupMenuItems from './menuItems/FunctionalGroupMenuItems'\nimport SelectionMenuItems from './menuItems/SelectionMenuItems'\n\nconst props: Partial<MenuProps> = {\n  animation: false,\n  className: styles.contextMenu\n}\n\nconst ContextMenu: React.FC = () => {\n  const { getKetcherInstance } = useAppContext()\n\n  const trackVisibility = useCallback(\n    (id: CONTEXT_MENU_ID, visible: boolean) => {\n      const editor = getKetcherInstance().editor as Editor\n      if (visible) {\n        editor.hoverIcon.hide()\n      }\n      editor.contextMenu[id] = visible\n    },\n    [getKetcherInstance]\n  )\n\n  return (\n    <>\n      <Menu\n        {...props}\n        id={CONTEXT_MENU_ID.FOR_BONDS}\n        onVisibilityChange={(visible) =>\n          trackVisibility(CONTEXT_MENU_ID.FOR_BONDS, visible)\n        }\n      >\n        <BondMenuItems />\n      </Menu>\n\n      <Menu\n        {...props}\n        id={CONTEXT_MENU_ID.FOR_ATOMS}\n        onVisibilityChange={(visible) =>\n          trackVisibility(CONTEXT_MENU_ID.FOR_ATOMS, visible)\n        }\n      >\n        <AtomMenuItems />\n      </Menu>\n\n      <Menu\n        {...props}\n        id={CONTEXT_MENU_ID.FOR_SELECTION}\n        onVisibilityChange={(visible) =>\n          trackVisibility(CONTEXT_MENU_ID.FOR_SELECTION, visible)\n        }\n      >\n        <SelectionMenuItems />\n      </Menu>\n\n      <Menu\n        {...props}\n        id={CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS}\n        onVisibilityChange={(visible) =>\n          trackVisibility(CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS, visible)\n        }\n      >\n        <FunctionalGroupMenuItems />\n      </Menu>\n    </>\n  )\n}\n\nexport default ContextMenu\n","/****************************************************************************\n * Copyright 2022 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FunctionalGroup } from 'ketcher-core'\nimport { PropsWithChildren, useCallback } from 'react'\nimport { useContextMenu } from 'react-contexify'\nimport { useAppContext } from 'src/hooks'\nimport Editor from 'src/script/editor'\nimport {\n  ClosestItem,\n  CONTEXT_MENU_ID,\n  ContextMenuShowProps,\n  ContextMenuTriggerType,\n  GetIsItemInSelectionArgs\n} from './contextMenu.types'\nimport { Selection } from '../../../../editor/Editor'\nimport { onlyHasProperty } from './utils'\n\nconst ContextMenuTrigger: React.FC<PropsWithChildren> = ({ children }) => {\n  const { getKetcherInstance } = useAppContext()\n  const { show } = useContextMenu<ContextMenuShowProps>()\n\n  const getSelectedGroupsInfo = useCallback(() => {\n    const editor = getKetcherInstance().editor as Editor\n    const struct = editor.struct()\n    const selectedAtomIds = editor.selection()?.atoms\n    // Map and Set can do deduplication\n    const selectedFunctionalGroups = new Map<number, FunctionalGroup>()\n    const selectedSGroupsIds: Set<number> = new Set()\n\n    selectedAtomIds?.forEach((atomId) => {\n      const functionalGroup = FunctionalGroup.findFunctionalGroupByAtom(\n        struct.functionalGroups,\n        atomId,\n        true\n      )\n\n      functionalGroup !== null &&\n        selectedFunctionalGroups.set(\n          functionalGroup.relatedSGroupId,\n          functionalGroup\n        )\n\n      const sGroupId = struct.sgroups.find((_, sGroup) =>\n        sGroup.atoms.includes(atomId)\n      )\n\n      sGroupId !== null && selectedSGroupsIds.add(sGroupId)\n    })\n\n    return {\n      selectedFunctionalGroups,\n      selectedSGroupsIds\n    }\n  }, [getKetcherInstance])\n\n  const handleDisplay = useCallback<React.MouseEventHandler<HTMLDivElement>>(\n    (event) => {\n      event.preventDefault()\n\n      const editor = getKetcherInstance().editor as Editor\n      const closestItem = editor.findItem(event, null)\n      const selection = editor.selection()\n      const { selectedFunctionalGroups, selectedSGroupsIds } =\n        getSelectedGroupsInfo()\n\n      let showProps: ContextMenuShowProps = null\n      let triggerType: ContextMenuTriggerType\n\n      if (!closestItem) {\n        if (selection) {\n          // if it was a click outside of any item\n          editor.selection(null)\n        }\n        return\n      } else if (!selection) {\n        triggerType = ContextMenuTriggerType.ClosestItem\n      } else if (\n        getIsItemInSelection({\n          item: closestItem,\n          selection,\n          selectedFunctionalGroups,\n          selectedSGroupsIds\n        })\n      ) {\n        if (!selection.bonds && !selection.atoms) {\n          triggerType = ContextMenuTriggerType.None\n        } else {\n          triggerType = ContextMenuTriggerType.Selection\n        }\n      } else {\n        // closestItem is outside of selection\n        editor.selection(null)\n        triggerType = ContextMenuTriggerType.ClosestItem\n      }\n\n      switch (triggerType) {\n        case ContextMenuTriggerType.None: {\n          return\n        }\n\n        case ContextMenuTriggerType.ClosestItem: {\n          showProps = getMenuPropsForClosestItem(editor, closestItem)\n          break\n        }\n\n        case ContextMenuTriggerType.Selection: {\n          showProps = getMenuPropsForSelection(\n            selection,\n            selectedFunctionalGroups\n          )\n          break\n        }\n      }\n\n      showProps &&\n        show({\n          id: showProps.id,\n          event,\n          props: showProps\n        })\n    },\n    [getKetcherInstance, getSelectedGroupsInfo, show]\n  )\n\n  return (\n    <div style={{ height: '100%' }} onContextMenu={handleDisplay}>\n      {children}\n    </div>\n  )\n}\n\nconst getIsItemInSelection = ({\n  item,\n  selection,\n  selectedSGroupsIds,\n  selectedFunctionalGroups\n}: GetIsItemInSelectionArgs): boolean => {\n  if (!item || !selection) {\n    return false\n  }\n\n  switch (item.map) {\n    case 'sgroups':\n      return selectedSGroupsIds.has(item.id)\n\n    case 'functionalGroups':\n      return Array.from(selectedFunctionalGroups.keys()).includes(item.id)\n\n    default:\n      return (\n        item.map in selection &&\n        Array.isArray(selection[item.map]) &&\n        selection[item.map].includes(item.id)\n      )\n  }\n}\n\nfunction getMenuPropsForClosestItem(\n  editor: Editor,\n  closestItem: ClosestItem\n): ContextMenuShowProps | null {\n  const struct = editor.struct()\n\n  switch (closestItem.map) {\n    case 'bonds': {\n      const functionalGroup = FunctionalGroup.findFunctionalGroupByBond(\n        struct,\n        struct.functionalGroups,\n        closestItem.id,\n        true\n      )\n\n      return functionalGroup === null\n        ? {\n            id: CONTEXT_MENU_ID.FOR_BONDS,\n            bondIds: [closestItem.id]\n          }\n        : {\n            id: CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS,\n            functionalGroups: [functionalGroup]\n          }\n    }\n\n    case 'atoms': {\n      const functionalGroup = FunctionalGroup.findFunctionalGroupByAtom(\n        struct.functionalGroups,\n        closestItem.id,\n        true\n      )\n\n      return functionalGroup === null\n        ? {\n            id: CONTEXT_MENU_ID.FOR_ATOMS,\n            atomIds: [closestItem.id]\n          }\n        : {\n            id: CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS,\n            functionalGroups: [functionalGroup]\n          }\n    }\n\n    case 'sgroups':\n    case 'functionalGroups': {\n      const sGroup = struct.sgroups.get(closestItem.id)\n      const functionalGroup = FunctionalGroup.findFunctionalGroupBySGroup(\n        struct.functionalGroups,\n        sGroup\n      )\n\n      return functionalGroup\n        ? {\n            id: CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS,\n            functionalGroups: [functionalGroup]\n          }\n        : null\n    }\n\n    default:\n      return null\n  }\n}\n\nconst IGNORED_MAPS_LIST = ['enhancedFlags']\n\nfunction getMenuPropsForSelection(\n  selection: Selection | null,\n  selectedFunctionalGroups: Map<number, FunctionalGroup>\n): ContextMenuShowProps | null {\n  if (!selection) {\n    return null\n  }\n\n  const bondsInSelection = 'bonds' in selection\n  const atomsInSelection = 'atoms' in selection\n\n  if (selectedFunctionalGroups.size > 0) {\n    const functionalGroups = Array.from(selectedFunctionalGroups.values())\n    return {\n      id: CONTEXT_MENU_ID.FOR_FUNCTIONAL_GROUPS,\n      functionalGroups\n    }\n  } else if (bondsInSelection && !atomsInSelection) {\n    return {\n      id: CONTEXT_MENU_ID.FOR_BONDS,\n      bondIds: selection.bonds,\n      extraItemsSelected: !onlyHasProperty(\n        selection,\n        'bonds',\n        IGNORED_MAPS_LIST\n      )\n    }\n  } else if (atomsInSelection && !bondsInSelection) {\n    return {\n      id: CONTEXT_MENU_ID.FOR_ATOMS,\n      atomIds: selection.atoms,\n      extraItemsSelected: !onlyHasProperty(\n        selection,\n        'atoms',\n        IGNORED_MAPS_LIST\n      )\n    }\n  } else {\n    return {\n      id: CONTEXT_MENU_ID.FOR_SELECTION,\n      bondIds: selection.bonds,\n      atomIds: selection.atoms\n    }\n  }\n}\n\nexport default ContextMenuTrigger\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Component, ComponentType, createRef } from 'react'\nimport { MolSerializer, Struct, RenderStruct } from 'ketcher-core'\n\ninterface StructRenderProps {\n  struct: Struct\n  options: any\n  id?: any\n  Tag?: string | ComponentType<any>\n}\n\nclass StructRender extends Component<StructRenderProps> {\n  tagRef: React.RefObject<HTMLElement>\n  constructor(props) {\n    super(props)\n    this.tagRef = createRef()\n  }\n\n  shouldComponentUpdate(previousProps) {\n    return Boolean(this.props.id && this.props.id !== previousProps.id)\n  }\n\n  update() {\n    const el = this.tagRef.current\n    const { struct, options } = this.props\n    let parsedStruct: Struct | null\n    if (!(struct instanceof Struct)) {\n      try {\n        const molSerialzer = new MolSerializer()\n        parsedStruct = molSerialzer.deserialize(struct)\n      } catch (e) {\n        // TODO: add error handler call\n        // legacy message: Could not parse structure\n        parsedStruct = null\n      }\n    } else {\n      parsedStruct = struct\n    }\n    el?.childNodes.forEach((node) => {\n      node.remove()\n    })\n    RenderStruct.render(el, parsedStruct, options)\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentDidUpdate() {\n    this.update()\n  }\n\n  render() {\n    const { struct, Tag = 'div', ...props } = this.props\n    return (\n      <Tag ref={this.tagRef} /* ref=\"el\" */ {...props}>\n        {struct ? null : 'No molecule'}\n      </Tag>\n    )\n  }\n}\n\nexport default StructRender\n","import { Render, Point } from 'ketcher-core'\n\nconst X_COORD_INDEX = 0\nconst Y_COORD_INDEX = 1\n\nexport const calculateMiddleCoordsForRect = (\n  rectCoords: Array<Array<number>>\n): Array<Point> | [] => {\n  if (!rectCoords) {\n    return []\n  }\n\n  const middleCoordForRectangleSides: Array<Point> = []\n\n  const previousPoint: Point = {\n    x: rectCoords[0][X_COORD_INDEX],\n    y: rectCoords[0][Y_COORD_INDEX]\n  }\n\n  for (let i = 1; i < rectCoords.length; i++) {\n    if (!previousPoint.x || !previousPoint.y) {\n      return []\n    }\n\n    const middleX = (previousPoint.x + rectCoords[i][X_COORD_INDEX]) / 2\n    const middleY = (previousPoint.y + rectCoords[i][Y_COORD_INDEX]) / 2\n    middleCoordForRectangleSides.push({ x: middleX, y: middleY })\n    previousPoint.x = rectCoords[i][X_COORD_INDEX]\n    previousPoint.y = rectCoords[i][Y_COORD_INDEX]\n  }\n\n  return middleCoordForRectangleSides\n}\n\nexport const calculateScrollOffsetX = (render: Render) => {\n  return render?.options.offset?.x - render?.clientArea?.scrollLeft\n}\n\nexport const calculateScrollOffsetY = (render: Render) => {\n  return render?.options?.offset?.y - render?.clientArea?.scrollTop\n}\n","import { useEffect, useRef, useState, FC } from 'react'\nimport { Vec2, Render, SGroup, Struct } from 'ketcher-core'\nimport clsx from 'clsx'\nimport classes from './InfoPanel.module.less'\nimport {\n  calculateMiddleCoordsForRect,\n  calculateScrollOffsetX,\n  calculateScrollOffsetY\n} from './helpers'\n\nconst BAR_PANEL_SIZE = 32\nconst LEFT_PADDING_MULTIPLIER = 3\n\nfunction getPanelPositionRelativeToRect(\n  clientX: number,\n  clientY: number,\n  sGroup: SGroup,\n  render: Render,\n  width: number,\n  height: number\n): Vec2 | null {\n  const viewportLeftLimit = BAR_PANEL_SIZE * LEFT_PADDING_MULTIPLIER + width\n  const viewportBottomLimit =\n    render?.clientArea?.clientHeight - BAR_PANEL_SIZE - height\n  const viewportRightLimit =\n    render?.clientArea?.clientWidth - BAR_PANEL_SIZE - width\n\n  if (!sGroup.hovering) {\n    return null\n  }\n\n  // [['M', 23, 43], ['L', 23, 24]] we should remove first elements => [[23,43], [23,24]]\n  const rectCoords: Array<Array<number>> = sGroup.hovering.attrs?.path?.map(\n    (line) => line.slice(1)\n  )\n\n  const [middleLeftSide, middleBottomSide, middleRightSide, middleTopSide] =\n    calculateMiddleCoordsForRect(rectCoords)\n\n  if (\n    !middleBottomSide?.x ||\n    !middleBottomSide?.y ||\n    !middleTopSide?.y ||\n    !middleLeftSide?.x ||\n    !middleLeftSide?.y ||\n    !middleRightSide?.x ||\n    !middleRightSide?.y\n  ) {\n    return null\n  }\n\n  // Default position for panel is in the bottom;\n  let x = middleBottomSide.x - width / 2\n  let y = middleBottomSide.y\n\n  if (clientY > viewportBottomLimit) {\n    y = middleTopSide.y - height\n  }\n\n  if (clientX > viewportRightLimit) {\n    x = middleLeftSide.x - width\n    y = middleLeftSide.y - height / 2\n  }\n\n  if (clientX < viewportLeftLimit) {\n    x = middleRightSide.x\n    y = middleRightSide.y - height / 2\n  }\n\n  x += calculateScrollOffsetX(render)\n  y += calculateScrollOffsetY(render)\n\n  return new Vec2(x, y)\n}\n\ninterface SGroupDataRenderProps {\n  clientX: number\n  clientY: number\n  render: Render\n  groupStruct: Struct\n  sGroup: SGroup\n  sGroupData: string | null\n  className?: string\n}\n\nconst SGroupDataRender: FC<SGroupDataRenderProps> = (props) => {\n  const { clientX, clientY, render, className, sGroup, sGroupData } = props\n  const [wrapperHeight, setWrapperHeight] = useState(0)\n  const [wrapperWidth, setWrapperWidth] = useState(0)\n  const wrapperRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (wrapperRef.current) {\n      setWrapperHeight(wrapperRef.current.clientHeight)\n      setWrapperWidth(wrapperRef.current.clientWidth)\n    }\n  })\n\n  const panelCoordinate = getPanelPositionRelativeToRect(\n    clientX,\n    clientY,\n    sGroup,\n    render,\n    wrapperWidth,\n    wrapperHeight\n  )\n\n  return panelCoordinate ? (\n    <div\n      ref={wrapperRef}\n      style={{ left: panelCoordinate.x + 'px', top: panelCoordinate.y + 'px' }}\n      className={clsx(classes.infoPanel, className)}\n    >\n      {sGroupData}\n    </div>\n  ) : null\n}\n\nexport default SGroupDataRender\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const functionalGroupsSelector = (state) => state.functionalGroups.lib\nexport const functionGroupInfoSelector = (state) =>\n  state.functionalGroups.functionalGroupInfo\nexport const modeSelector = (state) => state.functionalGroups.mode\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useState, useEffect, useRef, FC } from 'react'\nimport { Scale, Vec2, Render, Struct, SGroup } from 'ketcher-core'\n\nimport StructRender from '../../../component/structrender'\nimport SGroupDataRender from './SGroupDataRender'\nimport { calculateScrollOffsetX, calculateScrollOffsetY } from './helpers'\nimport { functionGroupInfoSelector } from '../../../state/functionalGroups/selectors'\nimport { connect } from 'react-redux'\nimport clsx from 'clsx'\n\nimport classes from './InfoPanel.module.less'\n\nconst HOVER_PANEL_PADDING = 20\n\nfunction getSGroupFirstAtom(sGroup: SGroup, render: Render): Vec2 {\n  const { firstSgroupAtom, firstSgroupAtomId } = sGroup\n  if (firstSgroupAtom) return firstSgroupAtom.pp\n  return render.ctab.atoms?.get(firstSgroupAtomId)?.a.pp || new Vec2(0, 0)\n}\n\nfunction getPanelPosition(\n  clientX: number,\n  clientY: number,\n  render: Render,\n  sGroup: SGroup\n): [Vec2, Vec2] {\n  let width = 0\n  let height = 0\n  let x = 0\n  let y = 0\n\n  if (sGroup) {\n    // calculate width and height\n    const groupBoundingBox = sGroup.areas[0]\n    const start = Scale.obj2scaled(groupBoundingBox.p0, render.options)\n    const end = Scale.obj2scaled(groupBoundingBox.p1, render.options)\n    width = end.x - start.x\n    height = end.y - start.y\n    // calculate initial position\n    const firstAtomPosition = getSGroupFirstAtom(sGroup, render)\n    const panelPosition = Scale.obj2scaled(firstAtomPosition, {\n      scale: render.options.scale * render.options.zoom\n    })\n    x = panelPosition.x - width / 2 - HOVER_PANEL_PADDING\n    y = panelPosition.y + HOVER_PANEL_PADDING\n    // adjust position to keep inside viewport\n    const viewportRightLimit = render?.clientArea?.clientWidth - width / 2\n    const viewportLeftLimit = HOVER_PANEL_PADDING * 2 + width / 2\n    const viewportBottomLimit = render?.clientArea?.clientHeight - height\n    if (clientX > viewportRightLimit) {\n      x = panelPosition.x - width - HOVER_PANEL_PADDING\n    } else if (clientX < viewportLeftLimit) {\n      x = panelPosition.x - HOVER_PANEL_PADDING\n    }\n    if (clientY > viewportBottomLimit) {\n      y = panelPosition.y - height - HOVER_PANEL_PADDING * 3\n    }\n    // adjust position to current scroll offset\n    x += calculateScrollOffsetX(render)\n    y += calculateScrollOffsetY(render)\n  }\n\n  return [new Vec2(x, y), new Vec2(width, height)]\n}\ninterface InfoPanelProps {\n  clientX: number | undefined\n  clientY: number | undefined\n  render: Render\n  groupStruct: Struct\n  sGroup: SGroup\n  className?: string\n}\n\nconst InfoPanel: FC<InfoPanelProps> = (props) => {\n  const { clientX, clientY, render, className, groupStruct, sGroup } = props\n  const [molecule, setMolecule] = useState<Struct | null>(null)\n  const [sGroupData, setSGroupData] = useState<string | null>(null)\n  const childRef = useRef(null)\n  const groupName = sGroup?.data?.name\n\n  useEffect(() => {\n    if (sGroup && SGroup.isDataSGroup(sGroup)) {\n      setSGroupData(`${sGroup.data?.fieldName}=${sGroup.data?.fieldValue}`)\n    } else {\n      setSGroupData(null)\n    }\n  }, [groupStruct, sGroup])\n\n  useEffect(() => {\n    setMolecule(groupStruct ? groupStruct.clone() : null)\n  }, [groupName, groupStruct])\n\n  const nonTooltipSGroup =\n    !sGroup || SGroup.isMulSGroup(sGroup) || SGroup.isSRUSGroup(sGroup)\n\n  if (\n    nonTooltipSGroup ||\n    (!molecule && !sGroupData) ||\n    clientX === undefined ||\n    clientY === undefined\n  ) {\n    return null\n  }\n\n  const [position, size] = getPanelPosition(clientX, clientY, render, sGroup)\n  const { x, y } = position\n  const width = size.x\n  const height = size.y\n\n  const showMolecule = molecule && sGroup && !SGroup.isDataSGroup(sGroup)\n\n  return showMolecule ? (\n    <div\n      style={{\n        left: x + 'px',\n        top: y + 'px'\n      }}\n      className={clsx(classes.infoPanel, className)}\n    >\n      <StructRender\n        struct={molecule}\n        id={groupName}\n        ref={childRef}\n        options={{\n          ...render.options,\n          autoScale: true,\n          autoScaleMargin: 0,\n          rescaleAmount: 1,\n          cachePrefix: 'infoPanel',\n          needCache: false,\n          viewSz: new Vec2(width, height),\n          width: width,\n          height: height\n        }}\n      />\n    </div>\n  ) : (\n    <SGroupDataRender\n      clientX={clientX}\n      clientY={clientY}\n      render={render}\n      groupStruct={groupStruct}\n      sGroup={sGroup}\n      sGroupData={sGroupData}\n      className={className}\n    />\n  )\n}\n\nexport default connect((store: any) => ({\n  clientX: functionGroupInfoSelector(store)?.event?.clientX,\n  clientY: functionGroupInfoSelector(store)?.event?.clientY,\n  groupStruct: functionGroupInfoSelector(store)?.groupStruct || null,\n  sGroup: functionGroupInfoSelector(store)?.sGroup || null,\n  render: store.editor?.render?.ctab?.render\n}))(InfoPanel)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Component, createRef } from 'react'\n\nimport Editor from '../../../../editor'\nimport { LoadingCircles } from '../Spinner/LoadingCircles'\nimport classes from './StructEditor.module.less'\nimport clsx from 'clsx'\nimport { upperFirst } from 'lodash/fp'\nimport handIcon from '../../../../../icons/files/hand.svg'\nimport compressedHandIcon from '../../../../../icons/files/compressed-hand.svg'\nimport Cursor from '../Cursor'\nimport { ContextMenu, ContextMenuTrigger } from '../ContextMenu'\n\nimport InfoPanel from './InfoPanel'\n\n// TODO: need to update component after making refactoring of store\nfunction setupEditor(editor, props, oldProps = {}) {\n  const { struct, tool, toolOpts, options } = props\n\n  if (struct !== oldProps.struct) editor.struct(struct)\n\n  if (tool !== oldProps.tool || toolOpts !== oldProps.toolOpts) {\n    editor.tool(tool, toolOpts)\n    if (toolOpts !== oldProps.toolOpts) {\n      editor.event.message.dispatch({ info: JSON.stringify(toolOpts) })\n    }\n  }\n\n  if (oldProps.options && options !== oldProps.options) editor.options(options)\n\n  Object.keys(editor.event).forEach((name) => {\n    const eventName = `on${upperFirst(name)}`\n\n    if (props[eventName] !== oldProps[eventName]) {\n      if (oldProps[eventName]) {\n        editor.event[name].remove(oldProps[eventName])\n      }\n\n      if (props[eventName]) {\n        editor.event[name].add(props[eventName])\n      }\n    }\n  })\n}\n\nfunction removeEditorHandlers(editor, props) {\n  Object.keys(editor.event).forEach((name) => {\n    const eventName = `on${upperFirst(name)}`\n\n    if (props[eventName]) editor.event[name].remove(props[eventName])\n  })\n}\n\nclass StructEditor extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      enableCursor: false,\n      clientX: 0,\n      clientY: 0\n    }\n    this.editorRef = createRef()\n    this.logRef = createRef()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      this.props.indigoVerification !== nextProps.indigoVerification ||\n      nextState.enableCursor !== this.state.enableCursor\n    )\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    setupEditor(this.editor, props, this.props)\n  }\n\n  componentDidMount() {\n    this.editor = new Editor(this.editorRef.current, {\n      ...this.props.options\n    })\n    setupEditor(this.editor, this.props)\n    if (this.props.onInit) this.props.onInit(this.editor)\n\n    this.editor.event.message.add((msg) => {\n      const el = this.logRef.current\n      if (msg.info && this.props.showAttachmentPoints) {\n        try {\n          const parsedInfo = JSON.parse(msg.info)\n          el.innerHTML = `Atom Id: ${parsedInfo.atomid}, Bond Id: ${parsedInfo.bondid}`\n        } catch {\n          el.innerHTML = msg.info\n        }\n        el.classList.add(classes.visible)\n      } else {\n        el.classList.remove(classes.visible)\n      }\n    })\n\n    this.editor.event.cursor.add((csr) => {\n      let clientX, clientY\n\n      switch (csr.status) {\n        case 'enable':\n          this.editorRef.current.classList.add(classes.enableCursor)\n          const { left, top, right, bottom } =\n            this.editorRef.current.getBoundingClientRect()\n\n          clientX = csr.cursorPosition.clientX\n          clientY = csr.cursorPosition.clientY\n\n          const handShouldBeShown =\n            clientX >= left &&\n            clientX <= right &&\n            clientY >= top &&\n            clientX <= bottom\n          if (!this.state.enableCursor && handShouldBeShown) {\n            this.setState({\n              enableCursor: true\n            })\n          }\n          break\n        case 'move':\n          this.editorRef.current.classList.add(classes.enableCursor)\n          this.setState({\n            enableCursor: true,\n            clientX,\n            clientY\n          })\n          break\n        case 'disable':\n          this.editorRef.current.classList.remove(classes.enableCursor)\n          this.setState({\n            enableCursor: false\n          })\n          break\n        case 'leave':\n          this.editorRef.current.classList.remove(classes.enableCursor)\n          this.setState({\n            enableCursor: false\n          })\n          break\n        case 'mouseover':\n          this.editorRef.current.classList.add(classes.enableCursor)\n          this.setState({\n            enableCursor: true\n          })\n          break\n        default:\n          break\n      }\n    })\n\n    this.editor.event.message.dispatch({\n      info: JSON.stringify(this.props.toolOpts)\n    })\n  }\n\n  componentWillUnmount() {\n    removeEditorHandlers(this.editor, this.props)\n  }\n\n  render() {\n    const {\n      Tag = 'div',\n      struct,\n      tool,\n      toolOpts,\n      options,\n      onInit,\n      onSelectionChange,\n      onElementEdit,\n      onEnhancedStereoEdit,\n      onQuickEdit,\n      onBondEdit,\n      onRgroupEdit,\n      onSgroupEdit,\n      onRemoveFG,\n      onMessage,\n      onAromatizeStruct,\n      onDearomatizeStruct,\n      onAttachEdit,\n      indigoVerification,\n      onCipChange,\n      className,\n      onConfirm,\n      onShowInfo,\n      onApiSettings,\n      showAttachmentPoints = true,\n      ...props\n    } = this.props\n\n    const { clientX = 0, clientY = 0 } = this.state\n\n    return (\n      <Tag className={clsx(classes.canvas, className)} {...props}>\n        <ContextMenuTrigger>\n          <div\n            ref={this.editorRef}\n            className={clsx(classes.intermediateCanvas)}\n          >\n            {/* svg here */}\n          </div>\n        </ContextMenuTrigger>\n\n        <Cursor\n          Icon={handIcon}\n          PressedIcon={compressedHandIcon}\n          enableHandTool={this.state.enableCursor}\n        />\n\n        <div className={classes.measureLog} ref={this.logRef} />\n\n        {indigoVerification && (\n          <div className={`${classes.spinnerOverlay} loading-spinner`}>\n            <LoadingCircles />\n          </div>\n        )}\n\n        <InfoPanel\n          clientX={clientX}\n          clientY={clientY}\n          render={this.props.render}\n          groupStruct={this.props.groupStruct}\n          sGroup={this.props.sGroup}\n        />\n\n        <ContextMenu />\n      </Tag>\n    )\n  }\n}\n\nexport default StructEditor\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Dialog } from '../../../../components'\nimport Logo from './logo.svg'\nimport classes from './About.module.less'\nimport { connect } from 'react-redux'\nimport { Fragment } from 'react'\n\nfunction AboutDialog(props) {\n  const indigoInfo = props.indigoVersion && props.indigoVersion.split('.r') // Indigo version and build info\n\n  return (\n    <Dialog\n      className={`${classes.about} ${classes.dialog_body}`}\n      params={props}\n      buttons={[\n        <button onClick={props.onOk} className={classes.okButton} key=\"ok\">\n          Ok\n        </button>\n      ]}\n    >\n      <div className={classes.headerContent}>\n        <a href={props.overviewLink} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Logo />\n          <span className={classes.title}>Ketcher</span>\n        </a>\n      </div>\n      <div className={classes.body}>\n        <div className={classes.verionsInfo}>\n          <dl className={classes.ketcherVersionInfo}>\n            <dt>\n              <a\n                href={props.overviewLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Version {props.version}\n              </a>\n            </dt>\n            <dd>\n              Build at <time>{props.date}</time>\n            </dd>\n            <div className={classes.infoLinks}>\n              <dt>\n                <a\n                  href={props.feedbackLink}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Feedback\n                </a>\n              </dt>\n              <dt>\n                <a\n                  href={props.lifeScienciesLink}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Epam Life Sciencies\n                </a>\n              </dt>\n            </div>\n            <br />\n            <div className={classes.indigoVersion}>\n              <a\n                href=\"http://lifescience.opensource.epam.com/indigo/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {' '}\n                Indigo Toolkit\n              </a>\n              {props.indigoMachine && <div>{props.indigoMachine}</div>}\n            </div>\n            <div>\n              {props.indigoVersion ? (\n                <Fragment>\n                  <dd>Version {indigoInfo[0]}</dd>\n                  {indigoInfo[1] && <dd>Build {indigoInfo[1]}</dd>}\n                </Fragment>\n              ) : (\n                <p>Standalone</p>\n              )}\n            </div>\n          </dl>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  date: state.options.app.buildDate.replace('T', '; '),\n  indigoVersion: state.options.app.indigoVersion,\n  indigoMachine: state.options.app.indigoMachine,\n  feedbackLink: 'http://lifescience.opensource.epam.com/ketcher/#feedback',\n  overviewLink: 'https://lifescience.opensource.epam.com/ketcher/index.html',\n  lifeScienciesLink: 'http://lifescience.opensource.epam.com/',\n  version: state.options.app.version\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onOk: (_result) => {\n    dispatch({ type: 'MODAL_CLOSE' })\n  }\n})\n\nconst About = connect(mapStateToProps, mapDispatchToProps)(AboutDialog)\n\nexport default About\n","import t from\"querystring\";var e=/https?|ftp|gopher|file/;function o(o){\"string\"==typeof o&&(o=g(o));var r=function(t,e,o){var r=t.auth,a=t.hostname,s=t.protocol||\"\",p=t.pathname||\"\",n=t.hash||\"\",h=t.query||\"\",c=!1;r=r?encodeURIComponent(r).replace(/%3A/i,\":\")+\"@\":\"\",t.host?c=r+t.host:a&&(c=r+(~a.indexOf(\":\")?\"[\"+a+\"]\":a),t.port&&(c+=\":\"+t.port)),h&&\"object\"==typeof h&&(h=e.encode(h));var l=t.search||h&&\"?\"+h||\"\";return s&&\":\"!==s.substr(-1)&&(s+=\":\"),t.slashes||(!s||o.test(s))&&!1!==c?(c=\"//\"+(c||\"\"),p&&\"/\"!==p[0]&&(p=\"/\"+p)):c||(c=\"\"),n&&\"#\"!==n[0]&&(n=\"#\"+n),l&&\"?\"!==l[0]&&(l=\"?\"+l),{protocol:s,host:c,pathname:p=p.replace(/[?#]/g,encodeURIComponent),search:l=l.replace(\"#\",\"%23\"),hash:n}}(o,t,e);return\"\"+r.protocol+r.host+r.pathname+r.search+r.hash}var r=\"http://\",a=\"w.w\",s=r+a,p=/^([a-z0-9.+-]*:\\/\\/\\/)([a-z0-9.+-]:\\/*)?/i,n=/https?|ftp|gopher|file/;function h(t,e){var a=\"string\"==typeof t?g(t):t;t=\"object\"==typeof t?o(t):t;var h=g(e),c=\"\";a.protocol&&!a.slashes&&(c=a.protocol,t=t.replace(a.protocol,\"\"),c+=\"/\"===e[0]||\"/\"===t[0]?\"/\":\"\"),c&&h.protocol&&(c=\"\",h.slashes||(c=h.protocol,e=e.replace(h.protocol,\"\")));var l=t.match(p);l&&!h.protocol&&(t=t.substr((c=l[1]+(l[2]||\"\")).length),/^\\/\\/[^/]/.test(e)&&(c=c.slice(0,-1)));var i=new URL(t,s+\"/\"),u=new URL(e,i).toString().replace(s,\"\"),f=h.protocol||a.protocol;return f+=a.slashes||h.slashes?\"//\":\"\",!c&&f?u=u.replace(r,f):c&&(u=u.replace(r,\"\")),n.test(u)||~e.indexOf(\".\")||\"/\"===t.slice(-1)||\"/\"===e.slice(-1)||\"/\"!==u.slice(-1)||(u=u.slice(0,-1)),c&&(u=c+(\"/\"===u[0]?u.substr(1):u)),u}function c(t,e){return g(h(t,e))}function l(){}l.prototype.parse=g,l.prototype.format=o,l.prototype.resolve=h,l.prototype.resolveObject=h;var i=/^https?|ftp|gopher|file/,u=/^(.*?)([#?].*)/,f=/^([a-z0-9.+-]*:)(\\/{0,3})(.*)/i,m=/^([a-z0-9.+-]*:)?\\/\\/\\/*/i,v=/^([a-z0-9.+-]*:)(\\/{0,2})\\[(.*)\\]$/i;function g(e,r,p){if(void 0===r&&(r=!1),void 0===p&&(p=!1),e&&\"object\"==typeof e&&e instanceof l)return e;var n=(e=e.trim()).match(u);e=n?n[1].replace(/\\\\/g,\"/\")+n[2]:e.replace(/\\\\/g,\"/\"),v.test(e)&&\"/\"!==e.slice(-1)&&(e+=\"/\");var h=!/(^javascript)/.test(e)&&e.match(f),c=m.test(e),g=\"\";h&&(i.test(h[1])||(g=h[1].toLowerCase(),e=\"\"+h[2]+h[3]),h[2]||(c=!1,i.test(h[1])?(g=h[1],e=\"\"+h[3]):e=\"//\"+h[3]),3!==h[2].length&&1!==h[2].length||(g=h[1],e=\"/\"+h[3]));var d,y=(n?n[1]:e).match(/^https?:\\/\\/[^/]+(:[0-9]+)(?=\\/|$)/),b=y&&y[1],C=new l,U=\"\",w=\"\";try{d=new URL(e)}catch(t){U=t,g||p||!/^\\/\\//.test(e)||/^\\/\\/.+[@.]/.test(e)||(w=\"/\",e=e.substr(1));try{d=new URL(e,s)}catch(t){return C.protocol=g,C.href=g,C}}C.slashes=c&&!w,C.host=d.host===a?\"\":d.host,C.hostname=d.hostname===a?\"\":d.hostname.replace(/(\\[|\\])/g,\"\"),C.protocol=U?g||null:d.protocol,C.search=d.search.replace(/\\\\/g,\"%5C\"),C.hash=d.hash.replace(/\\\\/g,\"%5C\");var j=e.split(\"#\");!C.search&&~j[0].indexOf(\"?\")&&(C.search=\"?\"),C.hash||\"\"!==j[1]||(C.hash=\"#\"),C.query=r?t.decode(d.search.substr(1)):C.search.substr(1),C.pathname=w+(h?function(t){return t.replace(/['^|`]/g,function(t){return\"%\"+t.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(t,e){try{return decodeURIComponent(e).split(\"\").map(function(t){var e=t.charCodeAt();return e>256||/^[a-z0-9]$/i.test(t)?t:\"%\"+e.toString(16).toUpperCase()}).join(\"\")}catch(t){return e}})}(d.pathname):d.pathname),\"about:\"===C.protocol&&\"blank\"===C.pathname&&(C.protocol=\"\",C.pathname=\"\"),U&&\"/\"!==e[0]&&(C.pathname=C.pathname.substr(1)),g&&!i.test(g)&&\"/\"!==e.slice(-1)&&\"/\"===C.pathname&&(C.pathname=\"\"),C.path=C.pathname+C.search,C.auth=[d.username,d.password].map(decodeURIComponent).filter(Boolean).join(\":\"),C.port=d.port,b&&!C.host.endsWith(b)&&(C.host+=b,C.port=b.slice(1)),C.href=w?\"\"+C.pathname+C.search+C.hash:o(C);var R=/^(file)/.test(C.href)?[\"host\",\"hostname\"]:[];return Object.keys(C).forEach(function(t){~R.indexOf(t)||(C[t]=C[t]||null)}),C}export{g as parse,o as format,h as resolve,c as resolveObject,l as Url};\n//# sourceMappingURL=index.mjs.map\n","'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, path, name, argument) {\n  if(Array.isArray(path)){\n    this.path = path;\n    this.property = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else if(path !== undefined){\n    this.property = path;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    var id = schema.$id || schema.id;\n    this.schema = id || schema;\n  }\n  if (instance !== undefined) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.options = options;\n  this.path = ctx.path;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.throwFirst = options && options.throwFirst;\n  this.throwAll = options && options.throwAll;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.path);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.path, detail.name, detail.argument);\n  }\n\n  this.errors.push(err);\n  if (this.throwFirst) {\n    throw new ValidatorResultError(this);\n  }else if(this.throwError){\n    throw err;\n  }\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    this.errors = this.errors.concat(res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\nmodule.exports.ValidatorResultError = ValidatorResultError;\nfunction ValidatorResultError(result) {\n  if(Error.captureStackTrace){\n    Error.captureStackTrace(this, ValidatorResultError);\n  }\n  this.instance = result.instance;\n  this.schema = result.schema;\n  this.options = result.options;\n  this.errors = result.errors;\n}\nValidatorResultError.prototype = new Error();\nValidatorResultError.prototype.constructor = ValidatorResultError;\nValidatorResultError.prototype.name = \"Validation Error\";\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  {\n    constructor: {value: SchemaError, enumerable: false},\n    name: {value: 'SchemaError', enumerable: false},\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, path, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  if(Array.isArray(path)){\n    this.path = path;\n    this.propertyPath = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else{\n    this.propertyPath = path;\n  }\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var path = (propertyName===undefined) ? this.path : this.path.concat([propertyName]);\n  var id = schema.$id || schema.id;\n  var base = uri.resolve(this.base, id||'');\n  var ctx = new SchemaContext(schema, this.options, path, base, Object.create(this.schemas));\n  if(id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n};\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  // 7.3.1. Dates, Times, and Duration\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n  'duration': /P(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S)|\\d+(D|M(\\d+D)?|Y(\\d+M(\\d+D)?)?)(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S))?|\\d+W)/i,\n\n  // 7.3.2. Email Addresses\n  // TODO: fix the email production\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'idn-email': /^(\"(?:[!#-\\[\\]-\\u{10FFFF}]|\\\\[\\t -\\u{10FFFF}])*\"|[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*)@([!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*|\\[[!-Z\\^-\\u{10FFFF}]*\\])$/u,\n\n  // 7.3.3. Hostnames\n\n  // 7.3.4. IP Addresses\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  // FIXME whitespace is invalid\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  // 7.3.5. Resource Identifiers\n  // TODO: A more accurate regular expression for \"uri\" goes:\n  // [A-Za-z][+\\-.0-9A-Za-z]*:((/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?)?#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])|/?%[0-9A-Fa-f]{2}|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*(#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?)?\n  'uri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'uri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/,\n  'iri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'iri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\\u{10FFFF}]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/u,\n  'uuid': /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\n  // 7.3.6. uri-template\n  'uri-template': /(%[0-9a-f]{2}|[!#$&(-;=?@\\[\\]_a-z~]|\\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?)*\\})*/iu,\n\n  // 7.3.7. JSON Pointers\n  'json-pointer': /^(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*$/iu,\n  'relative-json-pointer': /^\\d+(#|(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*)$/iu,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n\n  // 7.3.8. regex\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n\n  // Other definitions\n  // \"style\" was removed from JSON Schema in draft-4 and is deprecated\n  'style': /[\\r\\n\\t ]*[^\\r\\n\\t ][^:]*:[\\r\\n\\t ]*[^\\r\\n\\t ;]*[\\r\\n\\t ]*;?/,\n  // \"color\" was removed from JSON Schema in draft-4 and is deprecated\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/,\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e);\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e);\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key]);\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n}\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n  // ~ must be encoded explicitly because hacks\n  // the slash is encoded by encodeURIComponent\n  return a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\nexports.isSchema = function isSchema(val){\n  return (typeof val === 'object' && val) || (typeof val === 'boolean');\n};\n\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'additionalItems': true,\n  'then': true,\n  'else': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true,\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      if(!v) return;\n      var id = v.$id || v.id;\n      return id ? ('<' + id + '>') : (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  var throwAll = options.throwAll;\n  options.throwError = false;\n  options.throwAll = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n  options.throwAll = throwAll;\n\n  if (!res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n    ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      var id = v.$id || v.id;\n      if(id) return '<' + id + '>';\n      return(v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var id = v.$id || v.id;\n      var msg = id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n    ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    var id = v.$id || v.id;\n    return id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates \"then\" or \"else\" depending on the result of validating \"if\"\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.if = function validateIf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) return null;\n  if (!helpers.isSchema(schema.if)) throw new Error('Expected \"if\" keyword to be a schema');\n  var ifValid = testSchemaNoThrow.call(this, instance, options, ctx, null, schema.if);\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var res;\n  if(ifValid){\n    if (schema.then === undefined) return;\n    if (!helpers.isSchema(schema.then)) throw new Error('Expected \"then\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.then, options, ctx.makeChild(schema.then));\n    result.importErrors(res);\n  }else{\n    if (schema.else === undefined) return;\n    if (!helpers.isSchema(schema.else)) throw new Error('Expected \"else\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.else, options, ctx.makeChild(schema.else));\n    result.importErrors(res);\n  }\n  return result;\n};\n\nfunction getEnumerableProperty(object, key){\n  // Determine if `key` shows up in `for(var key in object)`\n  // First test Object.hasOwnProperty.call as an optimization: that guarantees it does\n  if(Object.hasOwnProperty.call(object, key)) return object[key];\n  // Test `key in object` as an optimization; false means it won't\n  if(!(key in object)) return;\n  while( (object = Object.getPrototypeOf(object)) ){\n    if(Object.propertyIsEnumerable.call(object, key)) return object[key];\n  }\n}\n\n/**\n * Validates propertyNames\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.propertyNames = function validatePropertyNames (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var subschema = schema.propertyNames!==undefined ? schema.propertyNames : {};\n  if(!helpers.isSchema(subschema)) throw new SchemaError('Expected \"propertyNames\" to be a schema (object or boolean)');\n\n  for (var property in instance) {\n    if(getEnumerableProperty(instance, property) !== undefined){\n      var res = this.validateSchema(property, subschema, options, ctx.makeChild(subschema));\n      result.importErrors(res);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    var subschema = properties[property];\n    if(subschema===undefined){\n      continue;\n    }else if(subschema===null){\n      throw new SchemaError('Unexpected null, expected schema in \"properties\"');\n    }\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, subschema, options, ctx);\n    }\n    var prop = getEnumerableProperty(instance, property);\n    var res = this.validateSchema(prop, subschema, options, ctx.makeChild(subschema, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existence tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"is not allowed to have the additional property \" + JSON.stringify(property),\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var subschema = patternProperties[pattern];\n      if(subschema===undefined){\n        continue;\n      }else if(subschema===null){\n        throw new SchemaError('Unexpected null, expected schema in \"patternProperties\"');\n      }\n      try {\n        var regexp = new RegExp(pattern, 'u');\n      } catch(_e) {\n        // In the event the stricter handling causes an error, fall back on the forgiving handling\n        // DEPRECATED\n        regexp = new RegExp(pattern);\n      }\n      if (!regexp.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, subschema, options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], subschema, options, ctx.makeChild(subschema, property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.items===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    if(Array.isArray(schema.items)){\n      var items =  schema.items[i]===undefined ? schema.additionalItems : schema.items[i];\n    }else{\n      var items = schema.items;\n    }\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates the \"contains\" keyword\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.contains = function validateContains (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.contains===undefined) return;\n  if (!helpers.isSchema(schema.contains)) throw new Error('Expected \"contains\" keyword to be a schema');\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var count = instance.some(function (value, i) {\n    var res = self.validateSchema(value, schema.contains, options, ctx.makeChild(schema.contains, i));\n    return res.errors.length===0;\n  });\n  if(count===false){\n    result.addError({\n      name: 'contains',\n      argument: schema.contains,\n      message: \"must contain an item matching given schema\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    if(!(instance > schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than \" + schema.minimum,\n      });\n    }\n  } else {\n    if(!(instance >= schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than or equal to \" + schema.minimum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    if(!(instance < schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than \" + schema.maximum,\n      });\n    }\n  } else {\n    if(!(instance <= schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than or equal to \" + schema.maximum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMinimum = function validateExclusiveMinimum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMinimum, which is handled by the \"minimum\" keyword.\n  if(typeof schema.exclusiveMinimum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance > schema.exclusiveMinimum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMinimum',\n      argument: schema.exclusiveMinimum,\n      message: \"must be strictly greater than \" + schema.exclusiveMinimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMaximum = function validateExclusiveMaximum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMaximum, which is handled by the \"maximum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance < schema.exclusiveMaximum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMaximum',\n      argument: schema.exclusiveMaximum,\n      message: \"must be strictly less than \" + schema.exclusiveMaximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument),\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatibility with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\",\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(getEnumerableProperty(instance, n)===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var pattern = schema.pattern;\n  try {\n    var regexp = new RegExp(pattern, 'u');\n  } catch(_e) {\n    // In the event the stricter handling causes an error, fall back on the forgiving handling\n    // DEPRECATED\n    regexp = new RegExp(pattern);\n  }\n  if (!instance.match(regexp)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (schema.uniqueItems!==true) return;\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var id = type && (type.$id || type.id);\n      var schemaId = id || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n","\"use strict\";\n\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var id = schema.$id || schema.id;\n    var ourBase = id ? urilib.resolve(baseuri, id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+ourBase+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', (Array.isArray(schema.items)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', (Array.isArray(schema.extends)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!Array.isArray(schemas)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n};\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar ValidatorResultError = helpers.ValidatorResultError;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.$id || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    // If this schema is already defined, it will be filtered out by the next step\n    this.unresolvedRefs.push(uri);\n  }\n  // Remove newly defined schemas from unresolvedRefs\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!Array.isArray(schemas)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if((typeof schema !== 'boolean' && typeof schema !== 'object') || schema === null){\n    throw new SchemaError('Expected `schema` to be an object or boolean');\n  }\n  if (!options) {\n    options = {};\n  }\n  // This section indexes subschemas in the provided schema, so they don't need to be added with Validator#addSchema\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var id = schema.$id || schema.id;\n  var base = urilib.resolve(options.base||anonymousBase, id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, [], base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if(options.required && instance===undefined){\n    var result = new ValidatorResult(instance, schema, options, ctx);\n    result.addError('is required, but is undefined');\n    return result;\n  }\n  var result = this.validateSchema(instance, schema, options, ctx);\n  if (!result) {\n    throw new Error('Result undefined');\n  }else if(options.throwAll && result.errors.length){\n    throw new ValidatorResultError(result);\n  }\n  return result;\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (Array.isArray(schema['extends'])) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema = shouldResolve(schema);\n  if (switchSchema) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.path, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref = shouldResolve(schema);\n  if(ref) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n};\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if(type===undefined){\n    return;\n  }else if(type===null){\n    throw new SchemaError('Unexpected null in \"type\" keyword');\n  }\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance === 'object') && !(Array.isArray(instance)) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidatorResultError = require('./helpers').ValidatorResultError;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React, { PureComponent, ComponentType, useRef, useEffect } from 'react'\n\nimport classes from './Input.module.less'\nimport clsx from 'clsx'\n\ntype Props = {\n  component?: ComponentType\n  children?: React.ReactNode\n  className?: string\n  type: string\n  value: number | string | boolean\n  onChange: (val: any) => void\n  placeholder?: string\n  isFocused?: boolean\n  innerRef?: React.Ref<any>\n  schema?: any\n  multiple?: boolean\n}\n\nexport function GenericInput({\n  schema,\n  value,\n  onChange,\n  innerRef,\n  type = 'text',\n  isFocused = false,\n  ...props\n}) {\n  const inputRef = useRef<HTMLInputElement>(innerRef)\n\n  useEffect(() => {\n    if (innerRef && inputRef.current) {\n      innerRef.current = inputRef.current\n    }\n  }, [innerRef])\n\n  useEffect(() => {\n    if (inputRef.current && isFocused) {\n      inputRef.current.focus()\n    }\n  }, [inputRef, isFocused])\n\n  return (\n    <>\n      <input\n        type={type}\n        value={value ?? ''}\n        onInput={onChange}\n        onChange={onChange}\n        className={clsx(classes.input, classes.genericInput)}\n        ref={inputRef}\n        {...props}\n      />\n      {type === 'checkbox' && <span className={classes.checkbox} />}\n      {type === 'radio' && <span className={classes.radioButton} />}\n    </>\n  )\n}\n\nGenericInput.val = function (ev, schema) {\n  const input = ev.target\n  const isNumber =\n    input.type === 'number' ||\n    input.type === 'range' ||\n    (schema && (schema.type === 'number' || schema.type === 'integer'))\n  const value = isNumber ? input.value.replace(/,/g, '.') : input.value\n\n  return isNumber && !isNaN(value - 0) ? value - 0 : value // eslint-disable-line\n}\n\nfunction TextArea({ schema, value, onChange, innerRef, ...rest }) {\n  return <textarea value={value} ref={innerRef} onInput={onChange} {...rest} />\n}\n\nTextArea.val = (ev) => ev.target.value\n\nfunction CheckBox({ schema, value = '', onChange, innerRef, ...rest }) {\n  return (\n    <div className={classes.fieldSetItem}>\n      <input\n        type=\"checkbox\"\n        checked={Boolean(value)}\n        onClick={onChange}\n        onChange={onChange}\n        className={classes.input}\n        ref={innerRef}\n        {...rest}\n      />\n      <span className={classes.checkbox} />\n    </div>\n  )\n}\n\nCheckBox.val = function (ev) {\n  ev.stopPropagation()\n  return !!ev.target.checked\n}\n\nfunction Select({\n  schema,\n  value,\n  name,\n  onSelect,\n  className,\n  multiple = false\n}) {\n  return (\n    <select\n      onChange={onSelect}\n      value={value}\n      name={name}\n      multiple={multiple}\n      className={clsx(classes.select, className)}\n    >\n      {enumSchema(schema, (title, val) => (\n        <option key={val} value={val}>\n          {title}\n        </option>\n      ))}\n    </select>\n  )\n}\n\nSelect.val = function (ev, schema) {\n  const select = ev.target as HTMLSelectElement\n  if (!select.multiple) return enumSchema(schema, select.selectedIndex)\n\n  const options = select.options\n\n  return Array.from(options).reduce(\n    (res, o: HTMLOptionElement, i) =>\n      !o.selected ? res : [enumSchema(schema, i), ...res],\n    [] as HTMLOptionElement[]\n  )\n}\n\nfunction FieldSet({\n  schema,\n  value,\n  selected,\n  onSelect,\n  type = 'radio',\n  checked,\n  ...rest\n}) {\n  return (\n    <fieldset onClick={onSelect}>\n      {enumSchema(schema, (title, val) => (\n        <li key={title} className={classes.fieldSetItem}>\n          <label className={classes.fieldSetLabel}>\n            <input\n              type={type}\n              defaultChecked={\n                type === 'radio' ? selected(val, checked) : selected(val, value)\n              }\n              value={typeof val !== 'object' && val}\n              className={classes.input}\n              {...rest}\n            />\n            {type === 'checkbox' && <span className={classes.checkbox} />}\n            {type === 'radio' && <span className={classes.radioButton} />}\n            {title}\n          </label>\n        </li>\n      ))}\n    </fieldset>\n  )\n}\n\nFieldSet.val = function (ev, schema) {\n  const input = ev.target as HTMLInputElement\n\n  if (ev.target.tagName !== 'INPUT') {\n    ev.stopPropagation()\n    return undefined\n  }\n\n  // Hm.. looks like premature optimization\n  //      should we inline this?\n\n  const fieldset = input?.parentNode?.parentNode?.parentNode\n  const inputCollection = fieldset?.querySelectorAll('input')\n  let result\n\n  if (inputCollection?.length) {\n    result = Array.from(inputCollection).reduce(\n      (res, inp: HTMLInputElement, i) =>\n        !inp.checked ? res : [enumSchema(schema, i), ...res],\n\n      [] as HTMLInputElement[]\n    )\n  }\n\n  return input.type === 'radio' ? result[0] : result\n}\n\nfunction Slider({ value, onChange, name, innerRef, ...rest }) {\n  return (\n    <div className={classes.slider} key={name}>\n      <input\n        ref={innerRef}\n        type=\"checkbox\"\n        checked={value}\n        onClick={onChange}\n        onChange={onChange}\n        name={name}\n        {...rest}\n      />\n      <span />\n    </div>\n  )\n}\n\nSlider.val = function (ev) {\n  ev.stopPropagation()\n  return !!ev.target.checked\n}\n\nfunction enumSchema(schema, cbOrIndex) {\n  const isTypeValue = Array.isArray(schema)\n  if (!isTypeValue && schema.items) schema = schema.items\n\n  if (typeof cbOrIndex === 'function') {\n    return (isTypeValue ? schema : schema.enum).map((item, i) => {\n      const title = isTypeValue\n        ? item.title\n        : schema.enumNames && schema.enumNames[i]\n      return cbOrIndex(\n        title !== undefined ? title : item,\n        item && item.value !== undefined ? item.value : item\n      )\n    })\n  }\n\n  if (!isTypeValue) return schema.enum[cbOrIndex]\n\n  const res = schema[cbOrIndex]\n  return res.value !== undefined ? res.value : res\n}\n\nfunction inputCtrl(component, schema, onChange) {\n  let props = {}\n  if (schema) {\n    // TODO: infer maxLength, min, max, step, etc\n    if (schema.type === 'number' || schema.type === 'integer')\n      props = { type: 'text' }\n  }\n\n  return {\n    onChange: (ev) => {\n      const val = !component.val ? ev : component.val(ev, schema)\n      onChange(val)\n    },\n    ...props\n  }\n}\n\nfunction singleSelectCtrl(component, schema, onChange) {\n  return {\n    selected: (testVal, value) => value === testVal,\n    onSelect: (ev) => {\n      const val = !component.val ? ev : component.val(ev, schema)\n      if (val !== undefined) onChange(val)\n    }\n  }\n}\n\nfunction multipleSelectCtrl(component, schema, onChange) {\n  return {\n    multiple: true,\n    selected: (testVal, values) => values && values.indexOf(testVal) >= 0,\n    onSelect: (ev, values) => {\n      if (component.val) {\n        const val = component.val(ev, schema)\n        if (val !== undefined) onChange(val)\n      } else {\n        const i = values ? values.indexOf(ev) : -1\n        if (i < 0) onChange(values ? [ev, ...values] : [ev])\n        else onChange([...values.slice(0, i), ...values.slice(i + 1)])\n      }\n    }\n  }\n}\n\nfunction ctrlMap(component, props: Props) {\n  const { schema, multiple, onChange } = props\n  if (\n    !schema ||\n    (!schema.enum && !schema.items && !Array.isArray(schema)) ||\n    schema.type === 'string'\n  )\n    return inputCtrl(component, schema, onChange)\n\n  if (multiple || schema.type === 'array')\n    return multipleSelectCtrl(component, schema, onChange)\n\n  return singleSelectCtrl(component, schema, onChange)\n}\n\nfunction componentMap(props: Props) {\n  const { schema, type, multiple } = props\n\n  if (schema?.type === 'boolean' && schema?.description === 'slider') {\n    return Slider\n  }\n\n  if (!schema || (!schema.enum && !schema.items && !Array.isArray(schema))) {\n    if (type === 'checkbox' || (schema && schema.type === 'boolean')) {\n      return CheckBox\n    }\n\n    return type === 'textarea' ? TextArea : GenericInput\n  }\n\n  if (multiple || schema.type === 'array')\n    return type === 'checkbox' ? FieldSet : Select\n\n  return type === 'radio' ? FieldSet : Select\n}\n\nconst AnyComponentWithRef = React.forwardRef(\n  ({ Component, ...props }: any, ref) => <Component {...props} innerRef={ref} />\n)\n\nclass Input extends PureComponent<\n  Props & { innerRef: React.Ref<HTMLInputElement> }\n> {\n  component: any\n  ctrl: {\n    type?: string\n    onChange?: (val: any) => void\n    onSelect?: (ev, values) => void\n    selected?: (testVal: any, value: any) => boolean\n    multiple?: boolean\n  }\n\n  constructor(props: Props & { innerRef: React.Ref<HTMLInputElement> }) {\n    super(props)\n    this.component = props.component || componentMap(props)\n    this.ctrl = ctrlMap(this.component, props)\n  }\n\n  render() {\n    const { children, onChange, innerRef, ...restProps } = this.props\n    return (\n      <AnyComponentWithRef\n        Component={this.component}\n        ref={innerRef}\n        {...this.ctrl}\n        {...restProps}\n      />\n    )\n  }\n}\n\nexport default React.forwardRef(\n  (props: Props, ref: React.Ref<HTMLInputElement>) => {\n    return <Input innerRef={ref} {...props} />\n  }\n)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport MuiSelect, { SelectChangeEvent } from '@mui/material/Select'\nimport Divider from '@mui/material/Divider'\nimport MenuItem from '@mui/material/MenuItem'\nimport { useEffect, useState } from 'react'\nimport clsx from 'clsx'\nimport styles from './Select.module.less'\n\nimport Icon from '../../view/icon'\n\nexport interface Option {\n  value: string\n  label: string\n}\n\ninterface Props {\n  options: Array<Option>\n  onChange: (value: string) => void\n  className?: string\n  value?: string\n  multiple?: boolean\n  disabled?: boolean\n}\n\nconst ChevronIcon = ({ className }) => (\n  <Icon name=\"chevron\" className={clsx(className, styles.chevronIcon)} />\n)\n\nconst Select = ({\n  className,\n  value,\n  onChange,\n  multiple = false,\n  disabled,\n  options\n}: Props) => {\n  const [currentValue, setCurrentValue] = useState<Option>()\n\n  useEffect(() => {\n    let option\n    if (options) {\n      option = options.find((option) => option.value === value)\n    }\n    return setCurrentValue(option)\n  }, [options, value])\n\n  const handleChange = (event: SelectChangeEvent) => {\n    onChange(event.target.value)\n  }\n\n  return (\n    <MuiSelect\n      className={clsx(styles.selectContainer, className)}\n      value={currentValue?.value ?? ''}\n      onChange={handleChange}\n      multiple={multiple}\n      disabled={disabled}\n      MenuProps={{ className: styles.dropdownList }}\n      IconComponent={ChevronIcon}\n    >\n      {options &&\n        options.map((option) => {\n          const isDivider: boolean =\n            typeof option?.value === 'string'\n              ? option.value.includes('Divider')\n              : false\n\n          return isDivider ? (\n            <Divider className={styles.listDivider} key={option.value} />\n          ) : (\n            <MenuItem\n              value={option.value}\n              key={option.value}\n              disableRipple={true}\n            >\n              {option.label}\n            </MenuItem>\n          )\n        })}\n    </MuiSelect>\n  )\n}\n\nexport default Select\n","/****************************************************************************\n * Copyright 2022 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { forwardRef } from 'react'\nimport { Popover } from '@mui/material'\nimport styled from '@emotion/styled'\n\nconst ErrorMessage = styled(Popover)`\n  & .MuiPopover-paper {\n    padding: 0 8px;\n    box-shadow: 4px 0px, 2px rgba(0, 0, 0, 0.25);\n    font-size: 12px;\n    max-width: 160px;\n  }\n`\n\nexport const ErrorPopover = ({ error, anchorEl, handleClose }) => (\n  <ErrorMessage\n    id=\"form-error\"\n    open={true}\n    anchorEl={anchorEl}\n    disableAutoFocus\n    sx={{\n      pointerEvents: 'none'\n    }}\n    onClose={handleClose}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center'\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'left'\n    }}\n  >\n    <>\n      {/* <p style={{ color: 'red' }}>Will work properly if:</p>  TODO: uncomment when error messages are changed */}\n      <p>{error}</p>\n    </>\n  </ErrorMessage>\n)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\nimport clsx from 'clsx'\nimport { Validator } from 'jsonschema'\nimport { cloneDeep } from 'lodash'\nimport { Component, useCallback, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { FormContext } from '../../../../../contexts'\nimport { useFormContext } from '../../../../../hooks'\nimport { updateFormState } from '../../../state/modal/form'\nimport { getSelectOptionsFromSchema } from '../../../utils'\nimport Input from '../Input/Input'\nimport Select from '../Select'\nimport { ErrorPopover } from './errorPopover'\nimport classes from './form.module.less'\n\nclass Form extends Component {\n  constructor(props) {\n    super(props)\n    const { onUpdate, schema, init } = this.props\n\n    this.schema = propSchema(schema, props)\n\n    if (init) {\n      const { valid, errors } = this.schema.serialize(init)\n      const errs = getErrorsObj(errors)\n      const initialState = { ...init, init: true }\n      onUpdate(initialState, valid, errs)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { schema, result, customValid, ...rest } = this.props\n    if (schema.key && schema.key !== prevProps.schema.key) {\n      this.schema = propSchema(schema, rest)\n      this.schema.serialize(result) // hack: valid first state\n      this.updateState(result)\n    }\n  }\n\n  updateState(newState) {\n    const { onUpdate } = this.props\n    const { instance, valid, errors } = this.schema.serialize(newState)\n    const errs = getErrorsObj(errors)\n    onUpdate(instance, valid, errs)\n  }\n\n  field(name, onChange) {\n    const { result, errors } = this.props\n    const value = result[name]\n\n    return {\n      dataError: errors && errors[name],\n      value,\n      onChange: (val) => {\n        const newState = Object.assign({}, this.props.result, { [name]: val })\n        this.updateState(newState)\n        if (onChange) onChange(val)\n      }\n    }\n  }\n\n  render() {\n    const { schema, children } = this.props\n\n    return (\n      <form>\n        <FormContext.Provider value={{ schema, stateStore: this }}>\n          {children}\n        </FormContext.Provider>\n      </form>\n    )\n  }\n}\n\nexport default connect(null, (dispatch) => ({\n  onUpdate: (result, valid, errors) => {\n    dispatch(updateFormState({ result, valid, errors }))\n  }\n}))(Form)\n\nfunction Label({ labelPos, title, children, ...props }) {\n  const tooltip = props.tooltip ? props.tooltip : null\n\n  return (\n    <label {...props}>\n      {title && labelPos !== 'after' ? (\n        <span title={tooltip}>{title}</span>\n      ) : (\n        ''\n      )}\n      {children}\n      {title && labelPos === 'after' ? (\n        <span title={tooltip}>{title}</span>\n      ) : (\n        ''\n      )}\n    </label>\n  )\n}\n\nfunction Field(props) {\n  const { name, onChange, component, labelPos, className, ...rest } = props\n  const [anchorEl, setAnchorEl] = useState(null)\n  const handlePopoverOpen = useCallback((event) => {\n    setAnchorEl(event.currentTarget)\n  }, [])\n  const handlePopoverClose = useCallback(() => {\n    setAnchorEl(null)\n  }, [])\n  const { schema, stateStore } = useFormContext()\n  const desc = rest.schema || schema.properties[name]\n  const { dataError, ...fieldOpts } = stateStore.field(name, onChange)\n  const Component = component\n  const formField = component ? (\n    <Component name={name} schema={desc} {...fieldOpts} {...rest} />\n  ) : (\n    <Input name={name} schema={desc} {...fieldOpts} {...rest} />\n  )\n\n  if (labelPos === false) return formField\n  return (\n    <Label\n      className={clsx({ [classes.dataError]: dataError }, className)}\n      error={dataError}\n      title={rest.title || desc.title}\n      labelPos={labelPos}\n      tooltip={rest?.tooltip}\n    >\n      <span\n        className={classes.inputWrapper}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n      >\n        {formField}\n      </span>\n      {dataError && anchorEl && (\n        <ErrorPopover\n          anchorEl={anchorEl}\n          open={!!anchorEl}\n          error={dataError}\n          onClose={handlePopoverClose}\n        />\n      )}\n    </Label>\n  )\n}\n\nconst SelectOneOf = (props) => {\n  const { title, name, schema, ...prop } = props\n\n  const selectDesc = {\n    title,\n    enum: [],\n    enumNames: []\n  }\n\n  Object.keys(schema).forEach((item) => {\n    selectDesc.enum.push(item)\n    selectDesc.enumNames.push(schema[item].title || item)\n  })\n\n  return (\n    <Field\n      name={name}\n      options={getSelectOptionsFromSchema(selectDesc)}\n      title={title}\n      {...prop}\n      component={Select}\n    />\n  )\n}\n\n//\n\nfunction propSchema(schema, { customValid, serialize = {}, deserialize = {} }) {\n  const schemaCopy = cloneDeep(schema)\n\n  Validator.prototype.customFormats = {}\n  if (customValid) {\n    Object.entries(customValid).forEach(([formatName, formatValidator]) => {\n      Validator.prototype.customFormats[formatName] = formatValidator\n      const {\n        pattern,\n        maxLength,\n        enum: enumIsReservedWord,\n        enumNames,\n        ...rest\n      } = schemaCopy.properties[formatName]\n      schemaCopy.properties[formatName] = {\n        ...rest,\n        format: formatName\n      }\n    })\n  }\n\n  const validator = new Validator()\n  return {\n    key: schema.key || '',\n    serialize: (inst) => {\n      const result = validator.validate(inst, schemaCopy)\n      return {\n        instance: serializeRewrite(serialize, inst, schemaCopy),\n        valid: result.valid,\n        errors: result.errors\n      }\n    },\n    deserialize: (inst) => {\n      validator.validate(inst, schemaCopy)\n      return deserializeRewrite(deserialize, inst)\n    }\n  }\n}\n\nfunction serializeRewrite(serializeMap, instance, schema) {\n  const res = {}\n  if (typeof instance !== 'object' || !schema.properties) {\n    return instance !== undefined ? instance : schema.default\n  }\n\n  Object.keys(schema.properties).forEach((p) => {\n    if (p in instance) res[p] = instance[serializeMap[p]] || instance[p]\n  })\n\n  return res\n}\n\nfunction deserializeRewrite(deserializeMap, instance) {\n  return instance\n}\n\nfunction getInvalidMessage(item) {\n  if (!item.schema.invalidMessage) return item.message\n  return typeof item.schema.invalidMessage === 'function'\n    ? item.schema.invalidMessage(item.data)\n    : item.schema.invalidMessage\n}\n\nfunction getErrorsObj(errors) {\n  const errs = {}\n  let field\n\n  errors.forEach((item) => {\n    field = item.path[item.path.length - 1]\n    if (!errs[field]) errs[field] = getInvalidMessage(item)\n  })\n\n  return errs\n}\n\nexport { Field, SelectOneOf }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useCallback, useState } from 'react'\n\nimport { HexColorPicker, HexColorInput } from 'react-colorful'\nimport classes from './ColorPicker.module.less'\nimport clsx from 'clsx'\nimport Icon from '../../../component/view/icon'\n\ninterface ColorPickerProps {\n  value: string\n  name: string\n  schema: any\n  type?: string\n}\n\ninterface ColorPickerCallProps {\n  onChange: (value: string) => void\n}\n\ntype Props = ColorPickerProps & ColorPickerCallProps\n\nconst presetColors = [\n  '#FF4545',\n  '#FFAD31',\n  '#68D442',\n  '#3ACACC',\n  '#4434FF',\n  '#9C9C9C',\n  '#000000'\n]\n\nconst ColorPicker = (props: Props) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const [isPaletteOpen, setIsPaletteOpen] = useState(false)\n  const { onChange, value } = props\n\n  const handleChange = useCallback(\n    (color) => {\n      onChange(color)\n    },\n    [onChange]\n  )\n\n  const throttle = useCallback((func, limit) => {\n    let inThrottle\n    return (e) => {\n      if (!inThrottle) {\n        func(e)\n        inThrottle = true\n        setTimeout(() => (inThrottle = false), limit)\n      }\n    }\n  }, [])\n\n  const handleClick = useCallback(\n    throttle((e) => {\n      e.preventDefault()\n      setIsOpen((prev) => !prev)\n      setIsPaletteOpen(false)\n    }, 200),\n    []\n  )\n\n  const handlePaletteOpen = () => {\n    setIsPaletteOpen(true)\n  }\n  const handleColorChange = (color) => {\n    handleChange(color)\n  }\n\n  const handleBlur = (e) => {\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      handleClick(e)\n    }\n  }\n\n  return (\n    <div\n      className={classes.colorPickerWrapper}\n      data-testid={isOpen ? 'color-picker-field-open' : 'color-picker-field'}\n      onClick={(e) => e.preventDefault()}\n    >\n      <div\n        className={clsx({\n          [classes.colorPickerInput]: true,\n          [classes.selectedInput]: isOpen\n        })}\n        onClick={handleClick}\n      >\n        <div\n          className={classes.colorPickerPreview}\n          data-testid=\"color-picker-preview\"\n          style={{ backgroundColor: value }}\n        />\n\n        <Icon\n          className={clsx({\n            [classes.expandIcon]: true,\n            [classes.turnedIcon]: !isOpen\n          })}\n          name=\"chevron\"\n        />\n      </div>\n      {isOpen && (\n        <div\n          className={clsx(\n            classes.colorPickerWrap,\n            isPaletteOpen && classes.withPalette\n          )}\n          onBlur={handleBlur}\n          data-testid=\"color-picker-preset\"\n        >\n          <div className={classes.presetColors}>\n            <button\n              className={clsx(\n                classes.chooseColor,\n                isPaletteOpen && classes.clicked\n              )}\n              onClick={handlePaletteOpen}\n              autoFocus\n              data-testid=\"color-picker-btn\"\n            />\n            {presetColors.map((color) => (\n              <button\n                key={color}\n                onClick={() => handleColorChange(color)}\n                style={{ backgroundColor: color }}\n                className={classes.presetColor}\n              />\n            ))}\n          </div>\n\n          {isPaletteOpen && (\n            <div className={classes.colorPicker} data-testid=\"color-palette\">\n              <HexColorPicker color={value} onChange={handleChange} />\n              <div className={classes.colorContainer}>\n                <span className={classes.hex}>HEX</span>\n                <HexColorInput\n                  data-testid=\"color-picker-input\"\n                  color={value}\n                  onChange={handleChange}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ColorPicker\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React, { useEffect, useState } from 'react'\n\nimport Input from '../Input/Input'\nimport Select from '../Select'\nimport styles from './measure-input.module.less'\nimport { getSelectOptionsFromSchema } from '../../../utils'\n\nconst selectOptions = getSelectOptionsFromSchema({\n  enum: ['cm', 'px', 'pt', 'inch']\n})\n\nconst MeasureInput = ({ schema, value, onChange, name, ...rest }) => {\n  const [measure, setMeasure] = useState('px')\n  const [cust, setCust] = useState(value || schema.default)\n\n  useEffect(() => {\n    if (measure === 'px' && cust?.toFixed() - 0 !== value) {\n      setMeasure('px')\n      setCust(value)\n    } // Hack: Set init value (RESET)\n  }, [])\n\n  const handleChange = (value) => {\n    const convValue = convertValue(value, measure, 'px')\n    setCust(value)\n    onChange(convValue)\n  }\n\n  const handleMeasChange = (m) => {\n    setCust((prev) => {\n      convertValue(prev, measure, m)\n    })\n    setMeasure(m)\n  }\n\n  const calcValue = () => {\n    const newValue = convertValue(value, 'px', measure)\n    setCust(newValue)\n  }\n\n  useEffect(() => {\n    calcValue()\n  }, [value, measure, calcValue])\n\n  const desc = schema || schema.properties[name]\n\n  return (\n    <div className={styles.measureInput} {...rest}>\n      <span>{rest.title || desc.title}</span>\n      <div style={{ display: 'flex' }}>\n        <Input\n          schema={schema}\n          step={measure === 'px' || measure === 'pt' ? '1' : '0.001'}\n          value={cust}\n          onChange={handleChange}\n        />\n        <Select\n          onChange={handleMeasChange}\n          options={selectOptions}\n          value={measure}\n          className={styles.select}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst measureMap = {\n  px: 1,\n  cm: 37.795278,\n  pt: 1.333333,\n  inch: 96\n}\n\nfunction convertValue(value, measureFrom, measureTo) {\n  if ((!value && value !== 0) || isNaN(value)) return null // eslint-disable-line\n\n  return measureTo === 'px' || measureTo === 'pt'\n    ? ((value * measureMap[measureFrom]) / measureMap[measureTo]).toFixed() - 0\n    : ((value * measureMap[measureFrom]) / measureMap[measureTo]).toFixed(3) - 0\n}\n\nexport default MeasureInput\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Component } from 'react'\nimport clsx from 'clsx'\n\nimport { fileOpener } from '../../utils'\nimport classes from './buttons.module.less'\n\nclass OpenButton extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    if (props.server) {\n      fileOpener(props.server).then((opener) => {\n        this.setState({ opener })\n      })\n    }\n  }\n\n  open(ev) {\n    const files = ev.target.files\n    const noop = () => null\n    const { onLoad = noop, onError = noop } = this.props\n\n    if (this.state.opener && files.length)\n      this.state.opener(files[0]).then(onLoad, onError)\n    else if (files.length) onLoad(files[0])\n    ev.target.value = null\n    ev.preventDefault()\n  }\n\n  render() {\n    const { children, type, server, className, ...props } = this.props\n\n    return (\n      <button\n        onClick={() => this.btn.click()}\n        className={clsx(classes.openButton, className)}\n        {...props}\n      >\n        <input\n          onChange={(ev) => this.open(ev)}\n          accept={type}\n          type=\"file\"\n          ref={(el) => {\n            this.btn = el\n          }}\n        />\n        {children}\n      </button>\n    )\n  }\n}\n\nexport default OpenButton\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\nimport { OutputFormatType } from 'ketcher-core'\n\nimport { saveAs } from 'file-saver'\nimport React, { PropsWithChildren } from 'react'\nimport { useAppContext } from '../../../../hooks'\n\ntype Props = {\n  server?: any\n  filename: string\n  outputFormat?: OutputFormatType\n  data: any\n  type?: string\n  mode?: string\n  onSave?: () => void\n  onError?: (err: any) => void\n  className?: string\n  title?: string\n  disabled?: boolean\n}\n\ntype FileSaverReturnType = Promise<\n  (data: Blob | string, fn, type: string | undefined) => void | never\n>\n\ntype SaverType = Awaited<FileSaverReturnType>\ntype SaveButtonProps = PropsWithChildren<Props>\n\nconst SaveButton = (props: SaveButtonProps) => {\n  const noop = () => null\n  const {\n    server,\n    filename = 'unnamed',\n    outputFormat,\n    data,\n    type,\n    mode = 'saveFile',\n    onSave = noop,\n    onError = noop,\n    className,\n    title,\n    disabled\n  } = props\n  const { getKetcherInstance } = useAppContext()\n\n  const save = (event: React.KeyboardEvent | React.MouseEvent) => {\n    event.preventDefault()\n    switch (mode) {\n      case 'saveImage':\n        saveImage()\n        break\n      case 'saveFile':\n      default:\n        saveFile()\n    }\n  }\n\n  const saveFile = () => {\n    if (data) {\n      try {\n        fileSaver(server).then((saver: SaverType) => {\n          saver(data, filename, type)\n          onSave()\n        })\n      } catch (error) {\n        onError(error)\n      }\n    }\n  }\n\n  const saveImage = () => {\n    const ketcherInstance = getKetcherInstance()\n    if (outputFormat) {\n      ketcherInstance\n        .generateImage(data, { outputFormat })\n        .then((blob) => {\n          saveAs(blob, `${filename}.${outputFormat}`)\n          onSave()\n        })\n        .catch((error) => {\n          onError(error)\n        })\n    }\n  }\n\n  return (\n    <button\n      title={title}\n      className={className}\n      disabled={disabled}\n      onClick={(event) => {\n        save(event)\n      }}\n    >\n      {props.children}\n    </button>\n  )\n}\n\nconst fileSaver = (server): FileSaverReturnType => {\n  return new Promise((resolve, reject) => {\n    if (global.Blob && saveAs) {\n      resolve((data, fn, type) => {\n        const blob = new Blob([data], { type }) // eslint-disable-line no-undef\n        saveAs(blob, fn)\n      })\n    } else if (server) {\n      resolve(\n        server.then(() => {\n          throw Error(\"Server doesn't still support echo method\")\n        })\n      )\n    } else {\n      reject(new Error('Your browser does not support opening files locally'))\n    }\n  })\n}\n\nexport { SaveButton }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport React, { useState } from 'react'\nimport classes from './Accordion.module.less'\nimport clsx from 'clsx'\nimport Icon from '../../../../../../component/view/icon'\n\nconst Accordion = ({ tabs, className, changedGroups }): React.ReactElement => {\n  const [expandedAccordions, setExpandedAccordions] = useState<string[]>([\n    'General'\n  ])\n\n  const handleAccordionChange = (accordion) => () => {\n    const isExpand = !expandedAccordions.includes(accordion)\n    setExpandedAccordions(\n      isExpand\n        ? [...expandedAccordions, accordion]\n        : [...expandedAccordions].filter(\n            (expandedAccordion) => expandedAccordion !== accordion\n          )\n    )\n  }\n\n  return (\n    <div className={clsx(classes.accordionWrapper, className)}>\n      {tabs.map(({ label, content, key }) => {\n        const shouldGroupBeRended = expandedAccordions.includes(label)\n        return (\n          <div key={key}>\n            <div\n              onClick={handleAccordionChange(label)}\n              className={classes.accordionSummaryWrapper}\n            >\n              <div className={classes.accordionSummary}>\n                <Icon\n                  className={clsx({\n                    [classes.expandIcon]: true,\n                    [classes.turnedIcon]: !shouldGroupBeRended\n                  })}\n                  name=\"chevron\"\n                />\n                <div className={classes.groupLabel}>\n                  <Icon name=\"elements-group\" className={classes.groupIcon} />\n                  <span>{label}</span>\n                </div>\n                {changedGroups.has(label) && (\n                  <span className={classes.changeMarker}></span>\n                )}\n              </div>\n            </div>\n            <div\n              className={clsx({\n                [classes.accordionDetailsWrapper]: true,\n                [classes.hiddenAccordion]: !shouldGroupBeRended\n              })}\n            >\n              <div className={classes.accordionDetails}>{content}</div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Accordion\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useCallback, useEffect, useState } from 'react'\n\nimport FontFaceObserver from 'font-face-observer'\nimport Select from './Select'\n\nconst commonFonts = [\n  'Arial',\n  'Arial Black',\n  'Comic Sans MS',\n  'Courier New',\n  'Georgia',\n  'Impact',\n  'Charcoal',\n  'Lucida Console',\n  'Monaco',\n  'Palatino Linotype',\n  'Book Antiqua',\n  'Palatino',\n  'Tahoma',\n  'Geneva',\n  'Times New Roman',\n  'Times',\n  'Verdana',\n  'Symbol',\n  'MS Serif',\n  'MS Sans Serif',\n  'New York',\n  'Droid Sans',\n  'Droid Serif',\n  'Droid Sans Mono',\n  'Roboto'\n]\n\nfunction checkInSystem() {\n  const availableFontsPromises = commonFonts.map((fontName) => {\n    const observer = new FontFaceObserver(fontName)\n    return observer.check().then(\n      () => fontName,\n      () => null\n    )\n  })\n\n  return Promise.all(availableFontsPromises)\n}\n\nfunction SystemFonts(props) {\n  const [availableFonts, setAvailableFonts] = useState(null)\n  const { value, onChange } = props\n  const onChangeCallback = useCallback(\n    (value) => {\n      onChange(value)\n    },\n    [onChange]\n  )\n\n  useEffect(() => {\n    let mounted = true\n    checkInSystem().then((results) => {\n      const fonts = results\n        .filter((i) => i !== null)\n        .map((font) => {\n          return { value: `30px ${font}`, label: font }\n        })\n      if (mounted) {\n        setAvailableFonts(fonts)\n      }\n    })\n\n    return () => (mounted = false)\n  }, [])\n\n  return (\n    <Select\n      onChange={onChangeCallback}\n      value={value}\n      disabled={availableFonts === null}\n      options={availableFonts}\n    />\n  )\n}\n\nexport default SystemFonts\n","const fieldGroups = {\n  resetToSelect: 'General',\n  rotationStep: 'General',\n  showValenceWarnings: 'General',\n  atomColoring: 'General',\n  font: 'General',\n  fontsz: 'General',\n  fontszsub: 'General',\n  showStereoFlags: 'Stereochemistry',\n  stereoLabelStyle: 'Stereochemistry',\n  colorOfAbsoluteCenters: 'Stereochemistry',\n  colorOfAndCenters: 'Stereochemistry',\n  colorOfOrCenters: 'Stereochemistry',\n  colorStereogenicCenters: 'Stereochemistry',\n  autoFadeOfStereoLabels: 'Stereochemistry',\n  absFlagLabel: 'Stereochemistry',\n  andFlagLabel: 'Stereochemistry',\n  orFlagLabel: 'Stereochemistry',\n  mixedFlagLabel: 'Stereochemistry',\n  ignoreChiralFlag: 'Stereochemistry',\n  carbonExplicitly: 'Atoms',\n  showCharge: 'Atoms',\n  showValence: 'Atoms',\n  showHydrogenLabels: 'Atoms',\n  aromaticCircle: 'Bonds',\n  doubleBondWidth: 'Bonds',\n  bondThickness: 'Bonds',\n  stereoBondWidth: 'Bonds',\n  'smart-layout': 'Server',\n  'ignore-stereochemistry-errors': 'Server',\n  'mass-skip-error-on-pseudoatoms': 'Server',\n  'gross-formula-add-rsites': 'Server',\n  'gross-formula-add-isotopes': 'Server',\n  miewMode: '3D Viewer',\n  miewTheme: '3D Viewer',\n  miewAtomLabel: '3D Viewer',\n  showAtomIds: 'Options for Debugging',\n  showBondIds: 'Options for Debugging',\n  showHalfBondIds: 'Options for Debugging',\n  showLoopIds: 'Options for Debugging'\n}\n\nexport default fieldGroups\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport Form, { Field } from '../../../../../component/form/form/form'\nimport {\n  setDefaultSettings,\n  updateFormState\n} from '../../../../../state/modal/form'\nimport { useEffect, useState } from 'react'\n\nimport ColorPicker from '../../../../../component/form/colorPicker/ColorPicker'\nimport { Dialog } from '../../../../components'\nimport Icon from '../../../../../component/view/icon'\nimport MeasureInput from '../../../../../component/form/MeasureInput/measure-input'\nimport OpenButton from '../../../../../component/view/openbutton'\nimport { SaveButton } from '../../../../../component/view/savebutton'\nimport Select from '../../../../../component/form/Select'\nimport Accordion from './Accordion'\nimport { StructService } from 'ketcher-core'\nimport SystemFonts from '../../../../../component/form/systemfonts'\nimport classes from './Settings.module.less'\nimport { connect } from 'react-redux'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\nimport { saveSettings } from '../../../../../state/options'\nimport settingsSchema, {\n  getDefaultOptions\n} from '../../../../../data/schema/options-schema'\nimport fieldGroups from './fieldGroups'\nimport { isEqual } from 'lodash'\n\ninterface SettingsProps extends BaseProps {\n  initState: any\n  appOpts: {\n    version: string\n    buildDate: string\n    buildNumber: string\n    indigoVersion: string\n    imagoVersions: Array<string>\n    server: boolean\n    templates: boolean\n  }\n  server: StructService\n}\n\ninterface SettingsCallProps extends BaseCallProps {\n  onOpenFile: (any) => void\n  onReset: () => void\n}\n\nconst defaultSettings = getDefaultOptions()\n\nconst HeaderContent = ({\n  server,\n  onOpenFile,\n  onReset,\n  formState,\n  initState\n}) => {\n  const getIsResetDisabled = () => {\n    if (formState.result.init) return isEqual(defaultSettings, initState)\n    else return isEqual(defaultSettings, formState.result)\n  }\n\n  return (\n    <div className={classes.headerContent}>\n      <span className={classes.title}> Settings</span>\n      <OpenButton\n        title=\"Open from File\"\n        key=\"settings\"\n        server={server}\n        onLoad={onOpenFile}\n        className={classes.button}\n      >\n        <Icon name=\"open-1\" />\n      </OpenButton>\n      <SaveButton\n        title=\"Save to File\"\n        key=\"ketcher-settings\"\n        data={JSON.stringify(formState.result)}\n        filename=\"ketcher-settings\"\n        className={classes.button}\n      >\n        <Icon name=\"save-1\" />\n      </SaveButton>\n      <button\n        title=\"Reset\"\n        key=\"settings-button\"\n        onClick={onReset}\n        className={classes.button}\n        disabled={getIsResetDisabled()}\n      >\n        <Icon name=\"reset\" />\n      </button>\n    </div>\n  )\n}\n\ntype Props = SettingsProps & SettingsCallProps\n\nconst settingsProps = settingsSchema.properties\n\nconst SettingsDialog = (props: Props) => {\n  const {\n    initState,\n    formState,\n    server,\n    onOpenFile,\n    onReset,\n    appOpts,\n    ...prop\n  } = props\n\n  const [changedGroups, setChangedGroups] = useState(new Set())\n\n  useEffect(() => {\n    const changed = new Set<string>()\n\n    for (const key in initState) {\n      if (initState[key] !== formState.result[key]) {\n        const group = fieldGroups[key]\n        changed.add(group)\n      }\n    }\n    setChangedGroups(changed)\n  }, [initState, formState.result])\n\n  const generalTab = {\n    key: 'general',\n    label: 'General',\n    content: (\n      <fieldset>\n        <Field\n          name=\"resetToSelect\"\n          component={Select}\n          options={getSelectOptionsFromSchema(settingsProps?.resetToSelect)}\n        />\n        <Field name=\"rotationStep\" />\n        <Field name=\"showValenceWarnings\" />\n        <Field name=\"atomColoring\" />\n        <Field name=\"font\" component={SystemFonts} />\n        <Field name=\"fontsz\" component={MeasureInput} labelPos={false} />\n        <Field name=\"fontszsub\" component={MeasureInput} labelPos={false} />\n      </fieldset>\n    )\n  }\n  const stereoTab = {\n    key: 'stereo',\n    label: 'Stereochemistry',\n    content: (\n      <fieldset>\n        <Field name=\"showStereoFlags\" />\n        <Field\n          name=\"stereoLabelStyle\"\n          component={Select}\n          options={getSelectOptionsFromSchema(settingsProps?.stereoLabelStyle)}\n        />\n        <Field name=\"colorOfAbsoluteCenters\" component={ColorPicker} />\n        <Field name=\"colorOfAndCenters\" component={ColorPicker} />\n        <Field name=\"colorOfOrCenters\" component={ColorPicker} />\n        <Field\n          name=\"colorStereogenicCenters\"\n          component={Select}\n          options={getSelectOptionsFromSchema(\n            settingsProps?.colorStereogenicCenters\n          )}\n        />\n        <Field name=\"autoFadeOfStereoLabels\" />\n        <Field name=\"absFlagLabel\" />\n        <Field name=\"andFlagLabel\" />\n        <Field name=\"orFlagLabel\" />\n        <Field name=\"mixedFlagLabel\" />\n        <Field\n          name=\"ignoreChiralFlag\"\n          tooltip=\"Ignore chiral flag while loading from molfiles. By default all the stereo will be ABS\"\n        />\n      </fieldset>\n    )\n  }\n  const atomsTab = {\n    key: 'atoms',\n    label: 'Atoms',\n    content: (\n      <fieldset>\n        <Field name=\"carbonExplicitly\" />\n        <Field name=\"showCharge\" />\n        <Field name=\"showValence\" />\n        <Field\n          name=\"showHydrogenLabels\"\n          component={Select}\n          options={getSelectOptionsFromSchema(\n            settingsProps?.showHydrogenLabels\n          )}\n        />\n      </fieldset>\n    )\n  }\n  const bondsTab = {\n    key: 'bonds',\n    label: 'Bonds',\n    content: (\n      <fieldset>\n        <Field name=\"aromaticCircle\" />\n        <Field\n          name=\"doubleBondWidth\"\n          component={MeasureInput}\n          labelPos={false}\n        />\n        <Field name=\"bondThickness\" component={MeasureInput} labelPos={false} />\n        <Field\n          name=\"stereoBondWidth\"\n          component={MeasureInput}\n          labelPos={false}\n        />\n      </fieldset>\n    )\n  }\n  const serverTab = {\n    key: 'server',\n    label: 'Server',\n    content: (\n      <fieldset disabled={!appOpts.server}>\n        <Field name=\"smart-layout\" />\n        <Field name=\"ignore-stereochemistry-errors\" />\n        <Field name=\"mass-skip-error-on-pseudoatoms\" />\n        <Field name=\"gross-formula-add-rsites\" />\n        <Field name=\"gross-formula-add-isotopes\" />\n      </fieldset>\n    )\n  }\n  const threeDViewerTab = {\n    key: '3dviewer',\n    label: '3D Viewer',\n    content: (\n      // eslint-disable-next-line dot-notation\n      <fieldset className={classes.viewer}>\n        <Field\n          name=\"miewMode\"\n          component={Select}\n          options={getSelectOptionsFromSchema(settingsProps?.miewMode)}\n        />\n        <Field\n          name=\"miewTheme\"\n          component={Select}\n          options={getSelectOptionsFromSchema(settingsProps?.miewTheme)}\n        />\n        <Field\n          name=\"miewAtomLabel\"\n          component={Select}\n          options={getSelectOptionsFromSchema(settingsProps?.miewAtomLabel)}\n        />\n      </fieldset>\n    )\n  }\n  const debuggingTab = {\n    key: 'debugging',\n    label: 'Options for Debugging',\n    content: (\n      <fieldset>\n        <Field name=\"showAtomIds\" />\n        <Field name=\"showBondIds\" />\n        <Field name=\"showHalfBondIds\" />\n        <Field name=\"showLoopIds\" />\n      </fieldset>\n    )\n  }\n\n  const tabs = [\n    generalTab,\n    stereoTab,\n    atomsTab,\n    bondsTab,\n    serverTab,\n    threeDViewerTab,\n    debuggingTab\n  ]\n\n  return (\n    <Dialog\n      className={classes.settings}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={prop}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n      needMargin={false}\n      headerContent={\n        <HeaderContent\n          server={server}\n          onOpenFile={onOpenFile}\n          onReset={onReset}\n          formState={formState}\n          initState={initState}\n        />\n      }\n    >\n      <Form schema={settingsSchema} init={initState} {...formState}>\n        <Accordion\n          tabs={tabs}\n          className={classes.accordion}\n          changedGroups={changedGroups}\n        />\n      </Form>\n    </Dialog>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  server: state.options.app.server ? state.server : null,\n  appOpts: state.options.app,\n  initState: state.options.settings,\n  formState: state.modal.form\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onOpenFile: (newOpts) => {\n    try {\n      dispatch(updateFormState({ result: JSON.parse(newOpts) }))\n    } catch (ex) {\n      console.info('Bad file')\n    }\n  },\n  onReset: () => dispatch(setDefaultSettings()),\n  onOk: (res) => {\n    dispatch(saveSettings(res))\n    ownProps.onOk(res)\n  }\n})\n\nconst Settings = connect(mapStateToProps, mapDispatchToProps)(SettingsDialog)\n\nexport default Settings\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nfunction ErrorsCheck(props) {\n  const { moleculeErrors, checkSchema } = props\n  const moleculeErrorsTypes = Object.keys(moleculeErrors)\n\n  const getOptionName = (option) => {\n    const { items } = checkSchema.properties.checkOptions\n    const nameIndex = items.enum.indexOf(option)\n    return items.enumNames[nameIndex]\n  }\n\n  return (\n    <>\n      <fieldset>\n        {moleculeErrorsTypes.length === 0 ? (\n          <div>\n            <dd>No errors detected</dd>\n          </div>\n        ) : (\n          moleculeErrorsTypes.map((type, key) => (\n            <div key={key}>\n              <dt>{getOptionName(type)} warning:</dt>\n              <dd>{moleculeErrors[type]}</dd>\n            </div>\n          ))\n        )}\n      </fieldset>\n    </>\n  )\n}\n\nexport default ErrorsCheck\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Form, { Field } from '../../../../../component/form/form/form'\nimport { Dialog } from '../../../../components'\nimport ErrorsCheck from './components'\nimport { check } from '../../../../../state/server'\nimport { checkOpts } from '../../../../../state/options'\nimport { connect } from 'react-redux'\nimport style from './Check.module.less'\nimport { useEffect, useState } from 'react'\nimport { LoadingCircles } from 'src/script/ui/views/components/Spinner'\n\nconst checkSchema = {\n  title: 'Check',\n  type: 'object',\n  properties: {\n    checkOptions: {\n      title: 'Settings',\n      type: 'array',\n      items: {\n        type: 'string',\n        enum: [\n          'valence',\n          'radicals',\n          'pseudoatoms',\n          'stereo',\n          'query',\n          'overlapping_atoms',\n          'overlapping_bonds',\n          'rgroups',\n          'chiral',\n          '3d',\n          'chiral_flag'\n        ],\n        enumNames: [\n          'Valence',\n          'Radical',\n          'Pseudoatom',\n          'Stereochemistry',\n          'Query',\n          'Overlapping Atoms',\n          'Overlapping Bonds',\n          'R-Groups',\n          'Chirality',\n          '3D Structure',\n          'Chiral flag'\n        ]\n      }\n    }\n  }\n}\n\nconst getFormattedDateString = (date) => {\n  const getFixedString = (num) => (num + '').padStart(2, 0)\n  return `${getFixedString(date.getHours())}:${getFixedString(\n    date.getMinutes()\n  )}:${getFixedString(date.getSeconds())}  ${getFixedString(\n    date.getDate()\n  )}.${getFixedString(date.getMonth() + 1)}.${getFixedString(\n    date.getFullYear()\n  )}`\n}\n\nconst FooterContent = ({\n  handleCheck,\n  handleApply,\n  onCancel,\n  isStuctureChecking,\n  isCheckedWithNewSettings\n}) => {\n  return (\n    <div className={style.buttons}>\n      <div>\n        <button\n          className={\n            isCheckedWithNewSettings\n              ? style.buttonSecondary\n              : style.buttonPrimary\n          }\n          onClick={handleCheck}\n          disabled={!isStuctureChecking}\n        >\n          Check\n        </button>\n      </div>\n      <div className={style.buttonsRight}>\n        <button className={style.buttonSecondary} onClick={onCancel}>\n          Cancel\n        </button>\n        <button\n          className={style.buttonPrimary}\n          onClick={handleApply}\n          disabled={!isStuctureChecking}\n        >\n          Apply\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction CheckDialog(props) {\n  const { formState, checkState, onCheck, onApply, onCancel, ...restProps } =\n    props\n  const { result = checkState, moleculeErrors } = formState\n  const [isStuctureChecking, setIsStructureChecking] = useState(false)\n  const [lastCheckDate, setLastCheckDate] = useState(null)\n  const [isCheckedWithNewSettings, setIsCheckedWithNewSettings] =\n    useState(false)\n\n  const handleApply = () => onApply(result)\n\n  const handleCheck = () => {\n    setIsStructureChecking(false)\n    onCheck(result.checkOptions).then(() => {\n      setIsStructureChecking(true)\n      setLastCheckDate(new Date())\n      setIsCheckedWithNewSettings(true)\n    })\n  }\n\n  const handleSettingsChange = () => setIsCheckedWithNewSettings(false)\n\n  useEffect(() => {\n    handleCheck()\n  }, [])\n\n  return (\n    <Dialog\n      title=\"Structure Check\"\n      className={style.dialog_body}\n      params={{ ...restProps, onCancel }}\n      buttons={[]}\n      footerContent={\n        <FooterContent\n          handleCheck={handleCheck}\n          handleApply={handleApply}\n          onCancel={onCancel}\n          isStuctureChecking={isStuctureChecking}\n          isCheckedWithNewSettings={isCheckedWithNewSettings}\n        />\n      }\n      withDivider\n    >\n      <Form\n        schema={checkSchema}\n        init={checkState}\n        {...formState}\n        result={result}\n      >\n        <div className={style.wrapper}>\n          <div className={style.settings}>\n            <label>Settings</label>\n            <div\n              className={!isStuctureChecking ? style.checkBoxesDisabled : ''}\n            >\n              <Field\n                name=\"checkOptions\"\n                labelPos={false}\n                multiple\n                type=\"checkbox\"\n                disabled={!isStuctureChecking}\n                onChange={handleSettingsChange}\n              />\n            </div>\n          </div>\n          <div className={style.checkInfo}>\n            <span>\n              Last check:{' '}\n              {lastCheckDate && getFormattedDateString(lastCheckDate)}\n            </span>\n            <div\n              className={\n                !Object.keys(moleculeErrors).length || !isStuctureChecking\n                  ? style.centeredContainer\n                  : style.warnings\n              }\n            >\n              {isStuctureChecking ? (\n                <div\n                  className={\n                    Object.keys(moleculeErrors).length\n                      ? style.warningsContainer\n                      : style.centeredContainer\n                  }\n                >\n                  <ErrorsCheck\n                    moleculeErrors={moleculeErrors}\n                    checkSchema={checkSchema}\n                  />\n                </div>\n              ) : (\n                <LoadingCircles />\n              )}\n            </div>\n          </div>\n        </div>\n      </Form>\n    </Dialog>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  formState: state.modal.form,\n  checkState: state.options.check\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onCheck: (opts) => dispatch(check(opts)).catch(ownProps.onCancel),\n  onApply: (res) => {\n    dispatch(checkOpts(res))\n    ownProps.onOk(res)\n  }\n})\n\nconst Check = connect(mapStateToProps, mapDispatchToProps)(CheckDialog)\n\nexport default Check\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styles from './FormulaInput.module.less'\n\nconst formulaRegexp = /\\b(\\d*)([A-Z][a-z]{0,3}#?)(\\d*)\\s*\\b/g\nconst errorRegexp = /error:.*/g\n\nfunction formulaInputMarkdown(contentData) {\n  const { content, contentEditable } = contentData\n  const onKeyDown = (e) => {\n    if (e.keyCode === 8) {\n      e.preventDefault()\n      return false\n    }\n  }\n  return (\n    <div\n      className={styles.chem_input}\n      onKeyPress={(e) => e.preventDefault()}\n      onPaste={(e) => e.preventDefault()}\n      onKeyDown={onKeyDown}\n      contentEditable={contentEditable}\n      suppressContentEditableWarning={true}\n    >\n      {content}\n    </div>\n  )\n}\n\nfunction FormulaInput({ value, contentEditable }) {\n  if (errorRegexp.test(value)) return formulaInputMarkdown(value)\n\n  const content = []\n  let cnd\n  let pos = 0\n\n  while ((cnd = formulaRegexp.exec(value)) !== null) {\n    if (cnd[1].length > 0)\n      content.push(<sup key={content.length}>{cnd[1]}</sup>)\n    content.push(value.substring(pos, cnd.index) + cnd[2])\n    if (cnd[3].length > 0)\n      content.push(<sub key={content.length}>{cnd[3]}</sub>)\n    pos = cnd.index + cnd[0].length\n  }\n\n  if (pos === 0) content.push(value)\n  else content.push(value.substring(pos, value.length))\n\n  return formulaInputMarkdown({ content, contentEditable })\n}\n\nexport default FormulaInput\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nfunction FrozenInput({ value }) {\n  return (\n    <input\n      type=\"text\"\n      spellCheck={false}\n      value={value}\n      readOnly\n      onChange={(event) => event.preventDefault()}\n    />\n  )\n}\n\nexport default FrozenInput\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FormulaInput, FrozenInput } from './components'\n\nimport { Component } from 'react'\nimport { Dialog } from '../../../../components'\nimport { ErrorsContext } from '../../../../../../../contexts'\nimport { analyse } from '../../../../../state/server'\nimport { changeRound } from '../../../../../state/options'\nimport classes from './Analyse.module.less'\nimport { connect } from 'react-redux'\nimport { range } from 'lodash/fp'\nimport Select from '../../../../../component/form/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\n\nfunction roundOff(value, round) {\n  if (typeof value === 'number') return value.toFixed(round)\n  return value.replace(/[0-9]*\\.[0-9]+/g, (str) => (+str).toFixed(round))\n}\n\nconst selectOptions = getSelectOptionsFromSchema({ enum: range(0, 8) })\n\nclass AnalyseDialog extends Component {\n  static contextType = ErrorsContext\n\n  componentDidMount() {\n    this.props.onAnalyse()\n  }\n\n  render() {\n    const { values, round, loading, onAnalyse, onChangeRound, ...props } =\n      this.props\n    return (\n      <Dialog\n        title=\"Calculated Values\"\n        className={classes.analyse}\n        withDivider={true}\n        needMargin={true}\n        valid={() => true}\n        buttons={['OK']}\n        buttonsNameMap={{ OK: 'Close' }}\n        params={props}\n      >\n        <ul>\n          {[\n            {\n              name: 'Chemical Formula',\n              key: 'gross',\n              withSelector: false\n            },\n            {\n              name: 'Molecular Weight',\n              key: 'molecular-weight',\n              round: 'roundWeight',\n              withSelector: true\n            },\n            {\n              name: 'Exact Mass',\n              key: 'monoisotopic-mass',\n              round: 'roundMass',\n              withSelector: true\n            },\n            {\n              name: 'Elemental Analysis',\n              key: 'mass-composition',\n              round: 'roundElAnalysis',\n              withSelector: false\n            }\n          ].map((item) => (\n            <li key={item.key} className={classes.contentWrapper}>\n              <div className={classes.inputWrapper}>\n                <label>{item.name}:</label>\n                {item.key === 'gross' ? (\n                  <FormulaInput\n                    value={values && !loading ? values[item.key] : ''}\n                    contentEditable={false}\n                  />\n                ) : item.key === 'mass-composition' ? (\n                  <textarea\n                    readOnly\n                    value={\n                      values && !loading\n                        ? roundOff(values[item.key], round[item.round])\n                        : 0\n                    }\n                  />\n                ) : (\n                  <FrozenInput\n                    value={\n                      values && !loading\n                        ? roundOff(values[item.key], round[item.round])\n                        : 0\n                    }\n                  />\n                )}\n              </div>\n              {item.withSelector ? (\n                <div className={classes.selectWrapper}>\n                  <span>Decimal places</span>\n                  <Select\n                    options={selectOptions}\n                    value={round[item.round]}\n                    onChange={(val) => onChangeRound(item.round, val)}\n                    className={classes.select}\n                  />\n                </div>\n              ) : null}\n            </li>\n          ))}\n        </ul>\n      </Dialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  values: state.options.analyse.values,\n  loading: state.options.analyse.loading,\n  round: {\n    roundWeight: state.options.analyse.roundWeight,\n    roundMass: state.options.analyse.roundMass,\n    roundElAnalysis: state.options.analyse.roundElAnalysis\n  }\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onAnalyse: () => dispatch(analyse()),\n  onChangeRound: (roundName, val) => dispatch(changeRound(roundName, val))\n})\n\nconst Analyse = connect(mapStateToProps, mapDispatchToProps)(AnalyseDialog)\n\nexport default Analyse\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\ntype Props = {\n  clickHandler: () => void\n  disabled: boolean\n  label: string\n  styles: string\n  title?: string\n}\n\nexport const DialogActionButton = ({\n  clickHandler,\n  label,\n  title,\n  styles,\n  disabled\n}: Props) => (\n  <input\n    key=\"Open\"\n    type=\"button\"\n    className={styles}\n    value={label}\n    title={title || label}\n    disabled={disabled}\n    onClick={clickHandler}\n  />\n)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useCallback, useEffect, useState } from 'react'\nimport {\n  changeImage,\n  changeVersion,\n  shouldFragment\n} from '../../../../../state/options'\n\nimport { Dialog } from '../../../../components'\nimport Input from '../../../../../component/form/Input/Input'\nimport OpenButton from '../../../../../component/view/openbutton'\nimport { LoadingCircles } from 'src/script/ui/views/components/Spinner'\nimport StructRender from '../../../../../component/structrender'\nimport classes from './Recognize.module.less'\nimport { connect } from 'react-redux'\nimport { load } from '../../../../../state'\nimport { range } from 'lodash/fp'\nimport { recognize } from '../../../../../state/server'\nimport { DialogActionButton } from 'src/script/ui/views/modal/components/document/Open/components/DialogActionButton'\nimport Icon from 'src/script/ui/component/view/icon'\n\nfunction isImage(file) {\n  return file?.type?.includes('image')\n}\n\nfunction FooterContent({ onImage, structStr, openHandler, copyHandler }) {\n  return (\n    <div className={classes.footerContent}>\n      <OpenButton\n        key=\"choose\"\n        onLoad={onImage}\n        type=\"image/*\"\n        className={classes.openButton}\n      >\n        <Icon name=\"open\" />\n        <span>Change image</span>\n      </OpenButton>\n      <div>\n        <DialogActionButton\n          key=\"openButton\"\n          disabled={!structStr}\n          clickHandler={openHandler}\n          styles={classes.secondaryButton}\n          label=\"Open as new Project\"\n        />\n        <DialogActionButton\n          key=\"copyButton\"\n          disabled={!structStr}\n          clickHandler={copyHandler}\n          styles={classes.primaryButton}\n          label=\"Add to Canvas\"\n          title=\"Structure will be loaded as fragment and added to Clipboard\"\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction RecognizeDialog(prop) {\n  const {\n    file,\n    structStr,\n    fragment,\n    version,\n    imagoVersions,\n    onOk,\n    ...partProps\n  } = prop\n  const { onRecognize, isFragment, onImage, onChangeImago, ...props } =\n    partProps\n  const [canPreviewImage, setCanPreviewImage] = useState(true)\n  const result = () =>\n    structStr && !(structStr instanceof Promise)\n      ? { structStr, fragment }\n      : null\n\n  useEffect(() => {\n    onRecognize(file, version)\n  }, [file, version])\n\n  const clearFile = useCallback(() => {\n    onImage(null)\n    return true\n  }, [onImage])\n\n  const copyHandler = () => {\n    onOk({ structStr, fragment: true })\n  }\n\n  const openHandler = () => {\n    onOk({ structStr, fragment: false })\n  }\n\n  return (\n    <Dialog\n      title=\"Import Structure from Image\"\n      className={classes.recognize}\n      params={{ ...props, onOk }}\n      result={() => result(structStr, fragment)}\n      withDivider={true}\n      needMargin={false}\n      footerContent={\n        <FooterContent\n          onImage={onImage}\n          openHandler={openHandler}\n          structStr={structStr}\n          copyHandler={copyHandler}\n        />\n      }\n      buttons={[]}\n    >\n      <div className={classes.topBody}>\n        <label className={classes.imagoVersion}>\n          Imago version\n          <Input\n            schema={{\n              enum: imagoVersions,\n              enumNames: range(1, imagoVersions.length + 1).map(\n                (i) => `Version ${i}`\n              )\n            }}\n            value={version}\n            onChange={onChangeImago}\n          />\n        </label>\n        <span>Original image</span>\n        <span>Recognized structure preview</span>\n      </div>\n      <div className={classes.imagesContainer}>\n        <div className={classes.picture}>\n          {file && isImage(file) && canPreviewImage && (\n            <img\n              alt=\"\"\n              id=\"pic\"\n              src={url(file) || ''}\n              onError={() => {\n                setCanPreviewImage(false)\n              }}\n            />\n          )}\n          <span className={classes.filename}> {file ? file.name : null} </span>\n          {file && isImage(file) && !canPreviewImage && (\n            <div className={classes.messageContainer}>\n              <p>\n                Preview of '{file.type}' MIME type is not supported by current\n                browser\n              </p>\n            </div>\n          )}\n          {(!file || (!isImage(file) && clearFile())) && (\n            <div className={classes.messageContainer}>\n              <p>Please choose image</p>\n            </div>\n          )}\n        </div>\n        <div className={classes.output}>\n          {structStr &&\n            // in Edge 38: instanceof Promise always `false`\n            (structStr instanceof Promise || typeof structStr !== 'string' ? (\n              <div className={classes.messageContainer}>\n                <LoadingCircles />\n              </div>\n            ) : (\n              <StructRender className={classes.struct} struct={structStr} />\n            ))}\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n\nfunction url(file) {\n  if (!file) return null\n  const URL = window.URL || window.webkitURL\n  return URL ? URL.createObjectURL(file) : 'No preview'\n}\n\nconst mapStateToProps = (state) => ({\n  imagoVersions: state.options.app.imagoVersions,\n  file: state.options.recognize.file,\n  structStr: state.options.recognize.structStr,\n  fragment: state.options.recognize.fragment,\n  version: state.options.recognize.version || state.options.app.imagoVersions[1]\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  isFragment: (v) => dispatch(shouldFragment(v)),\n  onImage: (file) => dispatch(changeImage(file)),\n  onRecognize: (file, ver) => dispatch(recognize(file, ver)),\n  onChangeImago: (ver) => dispatch(changeVersion(ver)),\n  onOk: (res) => {\n    dispatch(\n      load(res.structStr, {\n        rescale: true,\n        fragment: res.fragment\n      })\n      // TODO: Removed ownProps.onOk call. consider refactoring of load function in release 2.4\n      // See PR #731 (https://github.com/epam/ketcher/pull/731)\n    )\n  }\n})\n\nconst Recognize = connect(mapStateToProps, mapDispatchToProps)(RecognizeDialog)\n\nexport default Recognize\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { lazy, Suspense, useCallback, useRef, useState } from 'react'\nimport { Dialog, LoadingCircles } from '../../../../components'\nimport {\n  FormatterFactory,\n  Struct,\n  StructService,\n  SupportedFormat\n} from 'ketcher-core'\nimport { MIEW_OPTIONS } from '../../../../../data/schema/options-schema'\nimport classes from './Miew.module.less'\nimport { connect } from 'react-redux'\nimport { load } from '../../../../../state'\nimport { pick } from 'lodash/fp'\nimport { Miew as MiewAsType } from 'miew'\n\nconst Viewer = lazy(() => import('miew-react'))\n\ntype MiewDialogProps = {\n  miewOpts: any\n  server: StructService\n  struct: Struct\n  onCancel: () => void\n  onOk: (result: any) => void\n  miewTheme: 'dark' | 'light'\n}\ntype MiewDialogCallProps = {\n  onExportCML: (cmlStruct: string) => void\n}\ntype Props = MiewDialogProps & MiewDialogCallProps\n\n/* OPTIONS for MIEW */\nconst BACKGROUND_COLOR = {\n  dark: '0x202020',\n  light: '0xcccccc'\n}\n\nconst MIEW_TX_TYPES = {\n  no: null,\n  bright: {\n    colorer: 'EL'\n  },\n  blackAndWhite: {\n    colorer: ['UN', { color: 0xffffff }],\n    bg: '0x000'\n  },\n  black: {\n    colorer: ['UN', { color: 0x000000 }]\n  }\n}\n\nconst TXoptions = (userOpts) => {\n  const type = userOpts.miewAtomLabel\n  if (MIEW_TX_TYPES[type] === null) return null\n  return {\n    colorer: MIEW_TX_TYPES[type].colorer,\n    selector: 'not elem C',\n    mode: [\n      'TX',\n      {\n        bg: MIEW_TX_TYPES[type].bg || BACKGROUND_COLOR[userOpts.miewTheme],\n        showBg: true,\n        template: '{{elem}}'\n      }\n    ]\n  }\n}\n\nfunction createMiewOptions(userOpts) {\n  const options = {\n    settings: {\n      bg: { color: Number(BACKGROUND_COLOR[userOpts.miewTheme]) },\n      autoPreset: false,\n      editing: true,\n      inversePanning: true\n    },\n    reps: [\n      {\n        mode: userOpts.miewMode\n      }\n    ]\n  }\n\n  const textMode = TXoptions(userOpts)\n  if (textMode) options.reps.push(textMode)\n\n  return options\n}\n/* ---------------- */\nconst CHANGING_WARNING =\n  'Stereocenters can be changed after the strong 3D rotation'\n\nconst FooterContent = () => (\n  <div className={classes.warning}>{CHANGING_WARNING}</div>\n)\n\nconst MiewDialog = ({\n  miewOpts,\n  server,\n  struct,\n  onExportCML,\n  miewTheme = 'light',\n  ...prop\n}: Props) => {\n  const miewRef = useRef<MiewAsType>()\n  const [isInitialized, setIsIsInitialized] = useState(false)\n\n  const onMiewInit = useCallback(\n    (miew: MiewAsType) => {\n      miewRef.current = miew\n      const factory = new FormatterFactory(server)\n      const service = factory.create(SupportedFormat.cml)\n\n      service\n        .getStructureFromStructAsync(struct)\n        .then((res) =>\n          miew.load(res, { sourceType: 'immediate', fileType: 'cml' })\n        )\n        .then(() => {\n          miew.setOptions(miewOpts)\n          setIsIsInitialized(true)\n        })\n        .catch((ex) => console.error(ex.message))\n    },\n    [miewOpts, server, struct]\n  )\n\n  const exportCML = useCallback(() => {\n    const cmlStruct = miewRef.current?.exportCML()\n    if (!cmlStruct) {\n      return\n    }\n    onExportCML(cmlStruct)\n  }, [onExportCML, miewRef])\n\n  return (\n    <Dialog\n      title=\"Miew\"\n      needMargin={false}\n      params={prop}\n      buttons={[\n        'Cancel',\n        <button\n          key=\"apply\"\n          onClick={exportCML}\n          className={classes.applyButton}\n          disabled={!isInitialized}\n        >\n          Apply\n        </button>\n      ]}\n      footerContent={<FooterContent />}\n      className={classes.miewDialog}\n    >\n      <div>\n        <div\n          className={`${classes.miewContainer} ${\n            miewTheme === 'dark' ? classes.miewDarkTheme : ''\n          }`}\n        >\n          <Suspense\n            fallback={\n              <div className={classes.loadingContainer}>\n                <LoadingCircles />\n              </div>\n            }\n          >\n            <Viewer onInit={onMiewInit} />\n          </Suspense>\n        </div>\n      </div>\n    </Dialog>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  miewOpts: createMiewOptions(pick(MIEW_OPTIONS, state.options.settings)),\n  server: state.options.app.server ? state.server : null,\n  struct: state.editor.struct(),\n  miewTheme: state.options.settings.miewTheme\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onExportCML: (cmlStruct) => {\n    dispatch(load(cmlStruct))\n    // TODO: Removed ownProps.onOk call. consider refactoring of load function in release 2.4\n    // See PR #731 (https://github.com/epam/ketcher/pull/731)\n  }\n})\n\nconst Miew = connect(mapStateToProps, mapDispatchToProps)(MiewDialog)\n\nexport default Miew\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Elements } from 'ketcher-core'\nimport { capitalize } from 'lodash/fp'\n\ninterface ElementNumberProps {\n  label: string\n}\n\ntype Props = ElementNumberProps\n\nconst ElementNumber = (props: Props) => {\n  const { label } = props\n  const value = Elements.get(capitalize(label))?.number || ''\n\n  return (\n    <label>\n      <span>Number</span>\n      <input type=\"text\" readOnly value={value} />\n    </label>\n  )\n}\n\nexport default ElementNumber\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\n\nimport Form, { Field } from '../../../../../component/form/form/form'\nimport { FC, useCallback, useState } from 'react'\n\nimport { Dialog } from '../../../../components'\nimport ElementNumber from './ElementNumber'\nimport { Elements } from 'ketcher-core'\nimport { atom as atomSchema } from '../../../../../data/schema/struct-schema'\nimport { capitalize } from 'lodash/fp'\nimport classes from './Atom.module.less'\nimport Select from '../../../../../component/form/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\nimport Icon from '../../../../../component/view/icon'\nimport clsx from 'clsx'\n\ninterface AtomProps extends BaseCallProps, BaseProps {\n  alias: string\n  charge: string\n  exactChangeFlag: boolean\n  explicitValence: number\n  hCount: number\n  invRet: number\n  isotope: number\n  label: string\n  radical: number\n  ringBondCount: number\n  stereoParity: number\n  substitutionCount: number\n  unsaturatedAtom: boolean\n}\n\ntype Props = AtomProps & {\n  isMultipleAtoms?: boolean\n}\n\nconst atomProps = atomSchema.properties\n\nconst Atom: FC<Props> = (props: Props) => {\n  const { formState, stereoParity, isMultipleAtoms = false, ...rest } = props\n  const [currentLabel, setCurrentLabel] = useState<string>(rest.label)\n  const [expandedAccordions, setExpandedAccordions] = useState<string[]>([\n    'General'\n  ])\n\n  const handleAccordionChange = (accordion) => () => {\n    const isExpand = !expandedAccordions.includes(accordion)\n    setExpandedAccordions(\n      isExpand\n        ? [...expandedAccordions, accordion]\n        : [...expandedAccordions].filter(\n            (expandedAccordion) => expandedAccordion !== accordion\n          )\n    )\n  }\n\n  const onLabelChangeCallback = useCallback((newValue) => {\n    setCurrentLabel(newValue)\n  }, [])\n\n  const itemGroups = [\n    {\n      groupName: 'General',\n      component: (\n        <div>\n          <Field name=\"label\" onChange={onLabelChangeCallback} autoFocus />\n          <ElementNumber label={currentLabel} />\n\n          <Field name=\"alias\" />\n\n          <Field name=\"charge\" maxLength=\"5\" />\n          <Field name=\"isotope\" />\n\n          <Field\n            name=\"explicitValence\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.explicitValence)}\n          />\n\n          <Field\n            name=\"radical\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.radical)}\n          />\n        </div>\n      )\n    },\n    {\n      groupName: 'Query specific',\n      component: (\n        <div className={classes.querySpecific}>\n          <Field\n            name=\"ringBondCount\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.ringBondCount)}\n          />\n          <Field\n            name=\"hCount\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.hCount)}\n          />\n          <Field\n            name=\"substitutionCount\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.substitutionCount)}\n          />\n          <Field\n            name=\"unsaturatedAtom\"\n            labelPos=\"before\"\n            className={classes.checkbox}\n          />\n        </div>\n      )\n    },\n    {\n      groupName: 'Reaction flags',\n      component: (\n        <div className={classes.reactionFlags}>\n          <Field\n            name=\"invRet\"\n            component={Select}\n            options={getSelectOptionsFromSchema(atomProps.invRet)}\n          />\n          <Field\n            name=\"exactChangeFlag\"\n            labelPos=\"before\"\n            className={classes.checkbox}\n          />\n        </div>\n      )\n    }\n  ]\n\n  return (\n    <Dialog\n      title=\"Atom Properties\"\n      className={classes.atomProps}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={rest}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <Form\n        schema={atomSchema}\n        customValid={{\n          label: (label) => atomValid(label, isMultipleAtoms),\n          charge: (charge) => chargeValid(charge, isMultipleAtoms)\n        }}\n        init={rest}\n        {...formState}\n      >\n        <div className={classes.accordionWrapper}>\n          {itemGroups.map(({ groupName, component }) => {\n            const shouldGroupBeRended = expandedAccordions.includes(groupName)\n            return (\n              <div key={groupName}>\n                <div\n                  onClick={handleAccordionChange(groupName)}\n                  className={classes.accordionSummaryWrapper}\n                >\n                  <div className={classes.accordionSummary}>\n                    <span>{groupName}</span>\n                    <Icon\n                      className={clsx({\n                        [classes.expandIcon]: true,\n                        [classes.turnedIcon]: !shouldGroupBeRended\n                      })}\n                      name=\"chevron\"\n                    />\n                  </div>\n                </div>\n                <div\n                  className={clsx({\n                    [classes.accordionDetailsWrapper]: true,\n                    [classes.hiddenAccordion]: !shouldGroupBeRended\n                  })}\n                >\n                  <div className={classes.accordionDetails}>{component}</div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </Form>\n    </Dialog>\n  )\n}\n\nfunction atomValid(label: string, isMultipleAtoms: boolean) {\n  const isChemicalElement = !!Elements.get(capitalize(label))\n  if (isMultipleAtoms) {\n    return label === '' || isChemicalElement\n  }\n  return label && isChemicalElement\n}\n\nfunction chargeValid(charge, isMultipleAtoms: boolean) {\n  const regex = new RegExp(atomSchema.properties.charge.pattern)\n  const result = regex.exec(charge)\n  const isValidCharge = result && (result[1] === '' || result[3] === '')\n  if (isMultipleAtoms) {\n    return charge === '0' || charge === 0 || charge === '' || isValidCharge\n  }\n  return isValidCharge\n}\n\nexport type { AtomProps }\nexport default Atom\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Atom from './Atom'\nimport { BaseProps } from '../../../modal.types'\nimport { connect } from 'react-redux'\n\ntype StateProps = Pick<BaseProps, 'formState'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  formState: state.modal.form\n})\n\nconst AtomContainer = connect(mapStateToProps)(Atom)\nexport default AtomContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport Form, { Field } from '../../../../../component/form/form/form'\n\nimport { Dialog } from '../../../../components'\nimport { attachmentPoints as attachmentPointsSchema } from '../../../../../data/schema/struct-schema'\nimport classes from './Attach.module.less'\n\ninterface AttachPointsProps extends BaseProps {\n  primary: boolean\n  secondary: boolean\n}\n\ntype Props = AttachPointsProps & BaseCallProps\n\nconst AttachPoints = (props: Props) => {\n  const { formState, ...rest } = props\n  return (\n    <Dialog\n      title=\"Attachment Points\"\n      className={classes.attachPoints}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={rest}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <Form schema={attachmentPointsSchema} init={rest} {...formState}>\n        <Field name=\"primary\" />\n        <Field name=\"secondary\" />\n      </Form>\n    </Dialog>\n  )\n}\n\nexport type { AttachPointsProps }\nexport default AttachPoints\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport AttachPoints from './Attach'\nimport { BaseProps } from '../../../modal.types'\nimport { connect } from 'react-redux'\n\ntype StateProps = Pick<BaseProps, 'formState'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  formState: state.modal.form\n})\n\nconst AttachPointsContainer = connect(mapStateToProps)(AttachPoints)\nexport default AttachPointsContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport Form, { Field } from '../../../../../component/form/form/form'\nimport { Dialog } from '../../../../components'\nimport classes from './Automap.module.less'\nimport Select from '../../../../../component/form/Select/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\n\ntype Props = BaseProps & BaseCallProps\n\nexport const automapSchema = {\n  title: 'Reaction Auto-Mapping',\n  type: 'object',\n  required: ['mode'],\n  properties: {\n    mode: {\n      title: 'Mode',\n      enum: ['discard', 'keep', 'alter', 'clear'],\n      enumNames: ['Discard', 'Keep', 'Alter', 'Clear'],\n      default: 'discard'\n    }\n  }\n}\n\nconst Automap = (props: Props) => {\n  const { formState, ...rest } = props\n  return (\n    <Dialog\n      title=\"Reaction Auto-Mapping\"\n      className={classes.automap}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={rest}\n      withDivider\n      buttons={['Cancel', 'OK']}\n      buttonsNameMap={{ OK: 'Apply' }}\n    >\n      <Form schema={automapSchema} {...formState}>\n        <Field\n          name=\"mode\"\n          options={getSelectOptionsFromSchema(automapSchema.properties.mode)}\n          {...props}\n          component={Select}\n        />\n      </Form>\n    </Dialog>\n  )\n}\n\nexport default Automap\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\n\nimport Automap from './Automap'\nimport { automap } from '../../../../../state/server'\nimport { connect } from 'react-redux'\n\ntype StateProps = Pick<BaseProps, 'formState'>\ntype DispatchProps = Pick<BaseCallProps, 'onOk'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  formState: state.modal.form\n})\n\nconst mapDispatchToProps = (dispatch: any, ownProps: any): DispatchProps => ({\n  onOk: (result) => {\n    dispatch(automap(result))\n    ownProps.onOk(result)\n  }\n})\n\nconst AutomapContainer = connect(mapStateToProps, mapDispatchToProps)(Automap)\nexport default AutomapContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport Form, { Field } from '../../../../../component/form/form/form'\n\nimport { Dialog } from '../../../../components'\nimport Select from '../../../../../component/form/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\nimport { bond as bondSchema } from '../../../../../data/schema/struct-schema'\nimport classes from './Bond.module.less'\n\ninterface BondProps extends BaseProps {\n  center: number\n  topology: number\n  type: string\n}\n\ntype Props = BondProps & BaseCallProps\n\nconst Bond = (props: Props) => {\n  const { formState, ...rest } = props\n  const bondProps = bondSchema.properties\n  return (\n    <Dialog\n      title=\"Bond Properties\"\n      className={classes.bond}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={rest}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <Form schema={bondSchema} init={rest} {...formState}>\n        <Field\n          name=\"type\"\n          component={Select}\n          options={getSelectOptionsFromSchema(bondProps.type)}\n        />\n        <Field\n          name=\"topology\"\n          component={Select}\n          options={getSelectOptionsFromSchema(bondProps.topology)}\n        />\n        <Field\n          name=\"center\"\n          component={Select}\n          options={getSelectOptionsFromSchema(bondProps.center)}\n        />\n      </Form>\n    </Dialog>\n  )\n}\n\nexport type { BondProps }\nexport default Bond\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseProps } from '../../../modal.types'\nimport Bond from './Bond'\nimport { connect } from 'react-redux'\n\ntype StateProps = Pick<BaseProps, 'formState'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  formState: state.modal.form\n})\n\nconst BondContainer = connect(mapStateToProps)(Bond)\nexport default BondContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Field } from '../../../../../../../component/form/form/form'\nimport { RgroupLogicProps } from '../../RgroupLogic'\nimport classes from './IfThenSelect.module.less'\nimport { useFormContext } from '../../../../../../../../../hooks'\nimport Select from '../../../../../../../component/form/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../../../utils'\n\ntype Props = Pick<RgroupLogicProps, 'label' | 'rgroupLabels' | 'name'>\n\nconst IfThenSelect = (props: Props) => {\n  const { rgroupLabels, label, name } = props\n  const { schema } = useFormContext() as any\n  const desc = {\n    title: schema.properties[name!].title,\n    enum: [0],\n    enumNames: ['Always']\n  }\n\n  rgroupLabels.forEach((rgroupLabel) => {\n    if (label !== rgroupLabel) {\n      desc.enum.push(rgroupLabel)\n      desc.enumNames.push(`IF R${label} THEN R${rgroupLabel}`)\n    }\n  })\n\n  return (\n    <Field\n      schema={desc}\n      className={classes.field}\n      {...props}\n      component={Select}\n      options={getSelectOptionsFromSchema(desc)}\n    />\n  )\n}\n\nexport default IfThenSelect\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport Form, { Field } from '../../../../../component/form/form/form'\n\nimport { Dialog } from '../../../../components'\nimport IfThenSelect from './components'\nimport classes from './RgroupLogic.module.less'\nimport { rgroupLogic as rgroupSchema } from '../../../../../data/schema/struct-schema'\n\ninterface RgroupLogicProps extends BaseProps {\n  frags: Set<number>\n  ifthen: number\n  label: number\n  range: string\n  resth: boolean\n  rgroupLabels: Array<number>\n  name?: string\n}\n\ntype Props = RgroupLogicProps & BaseCallProps\n\nconst RgroupLogic = (props: Props) => {\n  const { formState, label, rgroupLabels, ...rest } = props\n  return (\n    <Dialog\n      title=\"R-Group Logic Condition\"\n      className={classes.rgroupLogic}\n      result={() => formState.result}\n      valid={() => formState.valid}\n      params={rest}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <Form\n        schema={rgroupSchema}\n        customValid={{ range: (r) => rangeConv(r) }}\n        init={rest}\n        {...formState}\n      >\n        <Field name=\"range\" />\n        <Field name=\"resth\" labelPos=\"after\" className={classes.resth} />\n        <IfThenSelect name=\"ifthen\" label={label} rgroupLabels={rgroupLabels} />\n      </Form>\n    </Dialog>\n  )\n}\n\nfunction rangeConv(range) {\n  // structConv\n  const res = range\n    .replace(/\\s*/g, '')\n    .replace(/,+/g, ',')\n    .replace(/^,/, '')\n    .replace(/,$/, '')\n\n  return res\n    .split(',')\n    .every((s) => s.match(/^[>,<=]?[0-9]+$/g) || s.match(/^[0-9]+-[0-9]+$/g))\n}\n\nexport type { RgroupLogicProps }\nexport default RgroupLogic\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseProps } from '../../../modal.types'\nimport RgroupLogic from './RgroupLogic'\nimport { connect } from 'react-redux'\n\ntype StateProps = Pick<BaseProps, 'formState'>\n\nconst mapStateToProps = (state: any): StateProps => ({\n  formState: state.modal.form\n})\n\nconst RgroupLogicContainer = connect(mapStateToProps)(RgroupLogic)\nexport default RgroupLogicContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Icon from 'src/script/ui/component/view/icon'\nimport styles from './AnalyzingFile.module.less'\nimport { LoadingCircles } from 'src/script/ui/views/components/Spinner'\n\nexport type AnalyzingFileProps = {\n  fileName?: string\n}\n\nconst ICON_NAME = 'file-thumbnail'\n\nexport const AnalyzingFile = ({ fileName }: AnalyzingFileProps) => (\n  <div className={styles.analyzingFileWrapper}>\n    {fileName && (\n      <div className={styles.fileBox}>\n        <Icon name={ICON_NAME} />\n        <p>{fileName}</p>\n      </div>\n    )}\n    <LoadingCircles />\n  </div>\n)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useMemo } from 'react'\nimport { useDropzone, DropzoneOptions } from 'react-dropzone'\n\nimport parentStyles from './OpenOptions.module.less'\nimport styles from './FileDrop.module.less'\nimport Icon from 'src/script/ui/component/view/icon'\n\ntype FileDropProps = {\n  buttonLabel: string\n  textLabel: string\n  iconName: string\n  disabled?: boolean\n  disabledText?: string\n} & DropzoneOptions\n\nconst FileDrop = ({\n  buttonLabel,\n  textLabel,\n  iconName,\n  disabled,\n  disabledText,\n  ...rest\n}: FileDropProps) => {\n  const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\n    multiple: false,\n    disabled,\n    ...rest\n  })\n\n  const getClassesString = useMemo((): string => {\n    const classes = [\n      parentStyles.dropContainer,\n      isDragActive ? styles.isHovered : null,\n      disabled ? styles.isDisabled : null\n    ]\n    return classes.join(' ')\n  }, [isDragActive])\n\n  return (\n    <div\n      onKeyDown={open}\n      {...getRootProps({\n        className: getClassesString\n      })}\n    >\n      <input {...getInputProps()} />\n      <div className={parentStyles.dropIconWrapper}>\n        <Icon name={iconName} />\n      </div>\n      {disabled ? (\n        <p className={parentStyles.textLabel}>{disabledText}</p>\n      ) : (\n        <>\n          <div className={parentStyles.textLabelWrapper}>\n            <p className={parentStyles.textLabel}>{textLabel}</p>\n          </div>\n          <div className={parentStyles.buttonLabelWrapper}>\n            <p className={parentStyles.buttonLabel}>{buttonLabel}</p>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport { FileDrop }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC } from 'react'\n\nimport Icon from 'src/script/ui/component/view/icon'\nimport styles from './OpenOptions.module.less'\nimport { FileDrop } from './FileDrop'\n\nconst ICON_NAMES = {\n  PASTE: 'open-window-paste-icon',\n  FILE: 'open-window-upload-icon',\n  IMAGE: 'image-frame'\n}\n\nexport type OpenOptionsProps = {\n  selectClipboard: () => void\n  errorHandler: (err: string) => void\n  fileLoadHandler: (files: File[]) => void\n  imageLoadHandler: (files: File[]) => void\n  isRecognizeDisabled: boolean\n}\n\nexport const OpenOptions: FC<OpenOptionsProps> = ({\n  selectClipboard,\n  fileLoadHandler,\n  imageLoadHandler,\n  isRecognizeDisabled,\n  errorHandler\n}) => {\n  return (\n    <div className={styles.optionsContainer}>\n      <div onClick={selectClipboard} className={styles.dropContainer}>\n        <div className={styles.dropIconWrapper}>\n          <Icon name={ICON_NAMES.PASTE} />\n        </div>\n        <div className={styles.textLabelWrapper}>\n          {/* <p className={styles.textLabel}>or press Ctrl + V</p> */}\n        </div>\n        <div className={styles.buttonLabelWrapper}>\n          <p className={styles.buttonLabel}>Paste from clipboard</p>\n        </div>\n      </div>\n\n      <FileDrop\n        onDropAccepted={fileLoadHandler}\n        onDropRejected={(e) => errorHandler(`Unable to accept file(s). ${e}`)}\n        buttonLabel=\"Open from file\"\n        textLabel=\"or drag file here\"\n        iconName={ICON_NAMES.FILE}\n      />\n\n      <FileDrop\n        accept=\"image/*\"\n        disabled={isRecognizeDisabled}\n        disabledText=\"Image Recognition service is not available\"\n        onDropAccepted={imageLoadHandler}\n        onDropRejected={() =>\n          errorHandler(\n            'Unable to accept file(s). Make sure you upload 1 image.'\n          )\n        }\n        buttonLabel=\"Open from image\"\n        textLabel=\"or drag file here\"\n        iconName={ICON_NAMES.IMAGE}\n      />\n    </div>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from '../Open.module.less'\n\nexport type TextEditorProps = {\n  structStr: string\n  inputHandler: (str: string) => void\n  autoFocus?: boolean\n}\n\nexport const TextEditor = ({\n  structStr,\n  inputHandler,\n  autoFocus = false\n}: TextEditorProps) => {\n  return (\n    <>\n      <textarea\n        className={classes.textareaEditor}\n        value={structStr}\n        onChange={(event) => inputHandler(event.target.value)}\n        autoFocus={autoFocus}\n      />\n    </>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC } from 'react'\nimport { AnalyzingFile, AnalyzingFileProps } from './AnalyzingFile'\n\nimport { OpenOptions, OpenOptionsProps } from './OpenOptions'\nimport { TextEditor, TextEditorProps } from './TextEditor'\n\ntype ViewStates = {\n  idle: string\n  textEditor: string\n  imageRec: string\n}\n\ntype SwitchProps = {\n  currentState: string\n  states: ViewStates\n  isAnalyzingFile: boolean\n} & OpenOptionsProps &\n  TextEditorProps &\n  AnalyzingFileProps\n\nexport const ViewSwitcher: FC<SwitchProps> = (props: SwitchProps) => {\n  if (props.isAnalyzingFile) {\n    return <AnalyzingFile fileName={props.fileName} />\n  } else {\n    switch (props.currentState) {\n      case props.states.idle:\n        return <OpenOptions {...props} />\n      case props.states.textEditor:\n        return <TextEditor {...props} />\n      default:\n        return null\n    }\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport { FC, useEffect, useState } from 'react'\nimport { Dialog } from '../../../../components'\nimport classes from './Open.module.less'\nimport Recognize from '../../process/Recognize/Recognize'\nimport { fileOpener } from '../../../../../utils/'\nimport { DialogActionButton } from './components/DialogActionButton'\nimport { ViewSwitcher } from './components/ViewSwitcher'\n\ninterface OpenProps {\n  server: any\n  errorHandler: (err: string) => void\n  isRecognizeDisabled: boolean\n  isAnalyzingFile: boolean\n  ignoreChiralFlag: boolean\n}\n\ntype Props = OpenProps &\n  Pick<BaseProps, 'className'> &\n  BaseCallProps & { onImageUpload: (file: File) => void }\n\nconst MODAL_STATES = {\n  idle: 'idle',\n  textEditor: 'textEditor',\n  imageRec: 'imageRec'\n}\n\nconst FooterContent = ({ structStr, openHandler, copyHandler, onCancel }) => {\n  return (\n    <div className={classes.footerContent}>\n      <button onClick={onCancel} className={classes.cancelButton}>\n        Cancel\n      </button>\n      <div className={classes.buttonsContainer}>\n        <DialogActionButton\n          key=\"openButton\"\n          disabled={!structStr}\n          clickHandler={openHandler}\n          styles={classes.openButton}\n          label=\"Open as New Project\"\n        />\n        <DialogActionButton\n          key=\"copyButton\"\n          disabled={!structStr}\n          clickHandler={copyHandler}\n          styles={classes.copyButton}\n          label=\"Add to Canvas\"\n          title=\"Structure will be loaded as fragment and added to Clipboard\"\n        />\n      </div>\n    </div>\n  )\n}\n\nconst Open: FC<Props> = (props) => {\n  const {\n    server,\n    onImageUpload,\n    errorHandler,\n    isAnalyzingFile,\n    isRecognizeDisabled,\n    ignoreChiralFlag,\n    ...rest\n  } = props\n\n  const [structStr, setStructStr] = useState<string>('')\n  const [fileName, setFileName] = useState<string>('')\n  const [opener, setOpener] = useState<any>()\n  const [currentState, setCurrentState] = useState(MODAL_STATES.idle)\n\n  useEffect(() => {\n    if (server) {\n      fileOpener(server).then((chosenOpener) => {\n        setOpener({ chosenOpener })\n      })\n    }\n  }, [server])\n\n  const onFileLoad = (files) => {\n    const onLoad = (fileContent) => {\n      setStructStr(fileContent)\n      setCurrentState(MODAL_STATES.textEditor)\n    }\n    const onError = () => errorHandler('Error processing file')\n\n    setFileName(files[0].name)\n    opener.chosenOpener(files[0]).then(onLoad, onError)\n  }\n\n  const onImageLoad = (files) => {\n    onImageUpload(files[0])\n    setCurrentState(MODAL_STATES.imageRec)\n  }\n\n  // @TODO after Recognize is refactored this will not be necessary\n  // currently not destructuring onOk with other props so we can pass it with ...rest to Recognize below\n  const { onOk } = rest\n\n  const copyHandler = () => {\n    onOk({ structStr, fragment: true })\n  }\n\n  const openHandler = () => {\n    onOk({ structStr, fragment: false })\n  }\n\n  const withFooterContent =\n    currentState === MODAL_STATES.textEditor && !isAnalyzingFile\n\n  // @TODO after refactoring of Recognize modal\n  // add Recognize rendering logic into ViewSwitcher component here\n  if (currentState === MODAL_STATES.imageRec) {\n    return <Recognize {...rest} />\n  }\n\n  return (\n    <Dialog\n      title=\"Open structure\"\n      className={classes.open}\n      params={rest}\n      result={() => null}\n      footerContent={\n        withFooterContent ? (\n          <FooterContent\n            structStr={structStr}\n            openHandler={openHandler}\n            copyHandler={copyHandler}\n            onCancel={rest.onCancel}\n          />\n        ) : undefined\n      }\n      buttons={[]}\n      withDivider\n    >\n      <ViewSwitcher\n        isAnalyzingFile={isAnalyzingFile}\n        fileName={fileName}\n        currentState={currentState}\n        states={MODAL_STATES}\n        selectClipboard={() => setCurrentState(MODAL_STATES.textEditor)}\n        fileLoadHandler={onFileLoad}\n        imageLoadHandler={onImageLoad}\n        errorHandler={errorHandler}\n        isRecognizeDisabled={isRecognizeDisabled}\n        structStr={structStr}\n        inputHandler={setStructStr}\n        autoFocus\n      />\n    </Dialog>\n  )\n}\n\nexport type { OpenProps }\nexport default Open\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Open, { OpenProps } from './Open'\n\nimport { BaseCallProps } from '../../../modal.types'\nimport { connect } from 'react-redux'\nimport { exec } from '../../../../../component/cliparea/cliparea'\nimport { load } from '../../../../../state'\nimport { changeImage } from '../../../../../state/options'\n\ntype StateProps = OpenProps\n\ntype DispatchProps = {\n  onOk: BaseCallProps['onOk']\n  onImageUpload: (file: File) => void\n}\n\nconst mapStateToProps = (state): StateProps => ({\n  server: state.server,\n  errorHandler: state.editor.errorHandler,\n  isRecognizeDisabled: state.actionState.recognize?.disabled,\n  isAnalyzingFile: state.requestsStatuses.isAnalyzingFile,\n  ignoreChiralFlag: state.editor.render.options.ignoreChiralFlag\n})\n\nconst mapDispatchToProps = (dispatch): DispatchProps => ({\n  onOk: (result) => {\n    if (result.fragment) exec('copy')\n    dispatch(\n      load(result.structStr, {\n        badHeaderRecover: true,\n        fragment: result.fragment\n      })\n      // TODO: Removed ownProps.onOk call. consider refactoring of load function in release 2.4\n      // See PR #731 (https://github.com/epam/ketcher/pull/731)\n    )\n  },\n  onImageUpload: (file) => {\n    dispatch(changeImage(file))\n  }\n})\n\nconst OpenContainer = connect(mapStateToProps, mapDispatchToProps)(Open)\nexport default OpenContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  RxnArrowMode,\n  StereoFlag,\n  Struct,\n  SupportedFormat,\n  getPropertiesByFormat\n} from 'ketcher-core'\n\nexport function couldBeSaved(\n  struct: Struct,\n  format: SupportedFormat\n): string | null {\n  const warnings: Array<string> = []\n  const formatName: string = getPropertiesByFormat(format).name\n\n  const rxnArrowsSize = struct.rxnArrows.size\n  const hasRxnArrow = struct.hasRxnArrow()\n\n  if (format === 'smiles' || format === 'smarts') {\n    warnings.push(\n      `Structure contains query properties of atoms and bonds that are not supported in the ${format?.toUpperCase()}. Query properties will not be reflected in the file saved.`\n    )\n  }\n\n  if (format === 'smiles') {\n    const arrayOfAtoms: Array<any> = Array.from(struct.atoms.values())\n    const hasGenerics = arrayOfAtoms.some((atom) => atom.pseudo)\n    if (hasGenerics) {\n      warnings.push(\n        `Structure contains generic atoms. They will be saved as any atom (*).`\n      )\n    }\n  }\n\n  if (format !== 'ket') {\n    if (hasRxnArrow) {\n      const arrayOfArrows: Array<any> = Array.from(struct.rxnArrows.values())\n      const rxnArrowMode: RxnArrowMode = arrayOfArrows[0].mode\n      if (rxnArrowMode !== RxnArrowMode.OpenAngle) {\n        warnings.push(\n          `The ${formatName} format does not support drawn elements: the reaction ${rxnArrowMode} arrow will be replaced with the reaction arrow`\n        )\n      }\n    }\n\n    // TODO: find better solution for case when Arrows > 1\n    if (rxnArrowsSize > 1) {\n      warnings.push(\n        `The ${formatName} format does not support drawn elements: reaction arrows will be lost.`\n      )\n    }\n  }\n\n  if (\n    (\n      ['inChI', 'inChIAuxInfo', 'smiles', 'smilesExt'] as SupportedFormat[]\n    ).includes(format)\n  ) {\n    if (struct.rgroups.size !== 0)\n      warnings.push(\n        `In ${formatName} the structure will be saved without R-group fragments`\n      )\n\n    struct = struct.clone() // need this: .getScaffold()\n    const isRg = struct.atoms.find((_ind, atom) => atom.label === 'R#')\n    if (isRg !== null)\n      warnings.push(\n        `In ${formatName} the structure will be saved without R-group members`\n      )\n\n    const isSg = struct.sgroups.find(\n      (_ind, sg) =>\n        sg.type !== 'MUL' && !/^INDIGO_.+_DESC$/i.test(sg.data.fieldName)\n    )\n    if (isSg !== null)\n      warnings.push(\n        `In ${formatName} the structure will be saved without S-groups`\n      )\n  }\n\n  if (\n    (\n      [\n        'smiles',\n        'smilesExt',\n        'smarts',\n        'inChI',\n        'inChIAuxInfo',\n        'cml'\n      ] as SupportedFormat[]\n    ).includes(format)\n  ) {\n    const isVal = struct.atoms.find((_ind, atom) => atom.explicitValence >= 0)\n    if (isVal !== null)\n      warnings.push(`In ${formatName} valence is not supported`)\n  }\n\n  if (\n    (['mol', 'rxn'] as SupportedFormat[]).includes(format) &&\n    Array.from(struct.frags.values()).some((fr) => {\n      if (fr?.enhancedStereoFlag) {\n        return fr.enhancedStereoFlag !== StereoFlag.Abs\n      }\n      return false\n    })\n  ) {\n    warnings.push(\n      `Structure contains enhanced stereochemistry features. Information will be partly lost.`\n    )\n  }\n\n  if (\n    (\n      ['inChI', 'inChIAuxInfo', 'smiles', 'smilesExt'] as SupportedFormat[]\n    ).includes(format)\n  ) {\n    if (struct.functionalGroups.size !== 0)\n      warnings.push(\n        `In ${formatName} the structure will be saved without functional groups.`\n      )\n  }\n\n  if ((['cml'] as SupportedFormat[]).includes(format)) {\n    if (struct.functionalGroups.size !== 0)\n      warnings.push(\n        `Structure contains functional groups. In ${formatName} information will be partly lost.`\n      )\n  }\n\n  if (warnings.length !== 0) return warnings.join('\\n')\n\n  return null\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Component } from 'react'\nimport classes from './Tabs.module.less'\nimport clsx from 'clsx'\n\nclass Tabs extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.state.tabIndex = props.tabIndex || 0\n    this.props.changeTab(this.state.tabIndex)\n  }\n\n  // TODO: refactor the component\n  changeTab(ev, index) {\n    this.setState({ tabIndex: index })\n    if (this.props.changeTab) this.props.changeTab(index)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.tabIndex !== prevProps.tabIndex) {\n      this.setState({ tabIndex: this.props.tabIndex })\n    }\n  }\n\n  render() {\n    const { tabs, contentClassName, className, tabIndex } = this.props\n    const tabPanel = tabs[this.state.tabIndex]\n    const Component = tabPanel?.component\n    const componentProps = tabPanel?.props\n    return (\n      <div>\n        <ul className={className} tabIndex={tabIndex}>\n          <li className={classes.tabs}>\n            {tabs.map((tabPanel, index) => (\n              <a // eslint-disable-line\n                key={index}\n                className={clsx({\n                  [classes.active]: this.state.tabIndex === index\n                })}\n                onClick={(ev) => this.changeTab(ev, index)}\n              >\n                {tabPanel.caption}\n              </a>\n            ))}\n          </li>\n        </ul>\n        {tabPanel && (\n          <div className={contentClassName}>\n            <Component {...componentProps} />\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Tabs\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport * as structFormat from '../../../../../data/convert/structConverter'\n\nimport { Component, createRef } from 'react'\nimport Form, { Field } from '../../../../../component/form/form/form'\nimport {\n  FormatterFactory,\n  KetSerializer,\n  formatProperties,\n  getPropertiesByFormat,\n  getPropertiesByImgFormat,\n  b64toBlob\n} from 'ketcher-core'\n\nimport { Dialog } from '../../../../components'\nimport Tabs from 'src/script/ui/component/view/Tabs'\nimport { ErrorsContext } from '../../../../../../../contexts'\nimport { SaveButton } from '../../../../../component/view/savebutton'\nimport { check } from '../../../../../state/server'\nimport classes from './Save.module.less'\nimport { connect } from 'react-redux'\nimport { saveUserTmpl } from '../../../../../state/templates'\nimport { updateFormState } from '../../../../../state/modal/form'\nimport Select from '../../../../../component/form/Select'\nimport { getSelectOptionsFromSchema } from '../../../../../utils'\nimport { LoadingCircles } from 'src/script/ui/views/components/Spinner'\n\nconst saveSchema = {\n  title: 'Save',\n  type: 'object',\n  properties: {\n    filename: {\n      title: 'File name:',\n      type: 'string',\n      maxLength: 128,\n      pattern: '^[^.<>:?\"*\\\\\\\\|\\\\/][^<>:?\"*\\\\\\\\|\\\\/]*$',\n      invalidMessage: (res) => {\n        if (!res) return 'Filename should contain at least one character'\n        if (res.length > 128) return 'Filename is too long'\n        return \"A filename cannot contain characters: \\\\ / : * ? \\\" < > | and cannot start with '.'\"\n      }\n    },\n    format: {\n      title: 'File format:',\n      enum: Object.keys(formatProperties),\n      enumNames: Object.keys(formatProperties).map(\n        (format) => formatProperties[format].name\n      )\n    }\n  }\n}\n\nclass SaveDialog extends Component {\n  static contextType = ErrorsContext\n  constructor(props) {\n    super(props)\n    this.state = {\n      disableControls: true,\n      imageFormat: 'svg',\n      tabIndex: 0,\n      isLoading: true\n    }\n    this.isRxn = this.props.struct.hasRxnArrow()\n    this.textAreaRef = createRef()\n    const formats = [this.isRxn ? 'rxn' : 'mol', 'smiles', 'ket']\n    if (this.props.server)\n      formats.push(\n        this.isRxn ? 'rxnV3000' : 'molV3000',\n        'smilesExt',\n        'smarts',\n        'cml',\n        '<----firstDivider--->', // for dividers in select list\n        'inChI',\n        'inChIAuxInfo',\n        '<----secondDivider--->', // for dividers in select list\n        'svg',\n        'png',\n        'cdxml',\n        'cdx',\n        'binaryCdx'\n      )\n    // TODO: pass the necessary divider not like list element\n\n    this.saveSchema = saveSchema\n    this.saveSchema.properties.format = Object.assign(\n      this.saveSchema.properties.format,\n      {\n        enum: formats,\n        enumNames: formats.map((format) => {\n          const formatProps =\n            getPropertiesByFormat(format) || getPropertiesByImgFormat(format)\n          return formatProps?.name\n        })\n      }\n    )\n  }\n\n  componentDidMount() {\n    const { checkOptions } = this.props.checkState\n    this.props.onCheck(checkOptions)\n    this.changeType(this.isRxn ? 'rxn' : 'mol').then(\n      (res) => res instanceof Error && this.setState({ disableControls: true })\n    )\n  }\n\n  isImageFormat = (format) => {\n    return !!getPropertiesByImgFormat(format)\n  }\n\n  isBinaryCdxFormat = (format) => {\n    return format === 'binaryCdx'\n  }\n\n  showStructWarningMessage = (format) => {\n    const { errors } = this.props.formState\n    return format !== 'mol' && Object.keys(errors).length > 0\n  }\n\n  changeType = (type) => {\n    const { struct, server, options, formState, ignoreChiralFlag } = this.props\n\n    const errorHandler = this.context.errorHandler\n    if (this.isImageFormat(type)) {\n      const ketSerialize = new KetSerializer()\n      const structStr = ketSerialize.serialize(struct)\n      this.setState({\n        disableControls: true,\n        tabIndex: 0,\n        imageFormat: type,\n        structStr,\n        isLoading: true\n      })\n      const options = {}\n      options.outputFormat = type\n\n      return server\n        .generateImageAsBase64(structStr, options)\n        .then((base64) => {\n          this.setState({\n            disableControls: false,\n            tabIndex: 0,\n            imageSrc: base64,\n            isLoading: false\n          })\n        })\n        .catch((e) => {\n          errorHandler(e)\n          this.props.onResetForm(formState)\n          return e\n        })\n    } else {\n      this.setState({ disableControls: true, isLoading: true })\n      const factory = new FormatterFactory(server)\n      const service = factory.create(type, { ...options, ignoreChiralFlag })\n\n      return service\n        .getStructureFromStructAsync(struct)\n        .then(\n          (structStr) => {\n            this.setState({\n              tabIndex: 0,\n              structStr\n            })\n          },\n          (e) => {\n            errorHandler(e.message)\n            this.props.onResetForm(formState)\n            return e\n          }\n        )\n        .finally(() => {\n          this.setState({\n            disableControls: false,\n            tabIndex: 0,\n            isLoading: false\n          })\n        })\n    }\n  }\n\n  changeTab = (index) => {\n    this.setState({ tabIndex: index })\n  }\n\n  getWarnings = (format) => {\n    const { struct, moleculeErrors } = this.props\n    const warnings = []\n    const structWarning =\n      'Structure contains errors, please check the data, otherwise you ' +\n      'can lose some properties or the whole structure after saving in this format.'\n    if (!this.isImageFormat(format)) {\n      const saveWarning = structFormat.couldBeSaved(struct, format)\n      const isStructInvalid = this.showStructWarningMessage(format)\n      if (isStructInvalid) {\n        warnings.push(structWarning)\n      }\n      if (saveWarning) {\n        warnings.push(saveWarning)\n      }\n    }\n\n    if (moleculeErrors) {\n      warnings.push(...Object.values(moleculeErrors))\n    }\n    return warnings\n  }\n\n  renderForm = () => {\n    const formState = Object.assign({}, this.props.formState)\n    const { filename, format } = formState.result\n    const warnings = this.getWarnings(format)\n    const tabs =\n      warnings.length === 0\n        ? [\n            {\n              caption: 'Preview',\n              component: this.renderSaveFile,\n              tabIndex: 0\n            }\n          ]\n        : [\n            {\n              caption: 'Preview',\n              component: this.renderSaveFile,\n              tabIndex: 0\n            },\n            {\n              caption: 'Warnings',\n              component: this.renderWarnings,\n              tabIndex: 1\n            }\n          ]\n\n    return (\n      <div className={classes.formContainer}>\n        <Form\n          schema={this.saveSchema}\n          init={{\n            filename,\n            format: this.isRxn ? 'rxn' : 'mol'\n          }}\n          {...formState}\n        >\n          <Field name=\"filename\" />\n          <Field\n            name=\"format\"\n            onChange={this.changeType}\n            options={getSelectOptionsFromSchema(\n              this.saveSchema.properties.format\n            )}\n            component={Select}\n          />\n        </Form>\n        <Tabs\n          className={classes.tabs}\n          captions={tabs}\n          tabIndex={this.state.tabIndex}\n          changeTab={this.changeTab}\n          tabs={tabs}\n        />\n      </div>\n    )\n  }\n\n  renderSaveFile = () => {\n    const formState = Object.assign({}, this.props.formState)\n    delete formState.moleculeErrors\n    const { filename, format } = formState.result\n    const { structStr, imageSrc, isLoading } = this.state\n    const isCleanStruct = this.props.struct.isBlank()\n\n    const LoadingState = () => (\n      <div className={classes.loadingCirclesContainer}>\n        <LoadingCircles />\n      </div>\n    )\n\n    const ImageContent = () => (\n      <div className={classes.imageContainer}>\n        {!isCleanStruct && (\n          <img\n            src={`data:image/${format}+xml;base64,${imageSrc}`}\n            alt={`${format} preview`}\n          />\n        )}\n      </div>\n    )\n\n    const BinaryContent = () => (\n      <div className={classes.previewBackground}>\n        <textarea\n          value=\"Can not display binary content\"\n          className={classes.previewArea}\n          readOnly\n          ref={this.textAreaRef}\n        />\n      </div>\n    )\n\n    const PreviewContent = () => (\n      <div className={classes.previewBackground}>\n        <textarea\n          value={structStr}\n          className={classes.previewArea}\n          readOnly\n          ref={this.textAreaRef}\n        />\n      </div>\n    )\n\n    if (isLoading) {\n      return <LoadingState />\n    } else if (this.isImageFormat(format)) {\n      return <ImageContent />\n    } else if (this.isBinaryCdxFormat(format)) {\n      return <BinaryContent />\n    } else {\n      return <PreviewContent />\n    }\n  }\n\n  renderWarnings = () => {\n    const formState = Object.assign({}, this.props.formState)\n    const { filename, format } = formState.result\n    const warnings = this.getWarnings(format)\n\n    return warnings.length ? (\n      <div className={classes.warnings}>\n        {warnings.map((warning) => (\n          <div className={classes.warningsContainer}>\n            <span className={classes.warningsArr}>{warning}</span>\n          </div>\n        ))}\n      </div>\n    ) : null\n  }\n\n  getButtons = () => {\n    const { disableControls, imageFormat, isLoading, structStr } = this.state\n    const formState = this.props.formState\n    const { filename, format } = formState.result\n    const isCleanStruct = this.props.struct.isBlank()\n\n    const savingStruct =\n      this.isBinaryCdxFormat(format) && !isLoading\n        ? b64toBlob(structStr)\n        : structStr\n\n    const isMoleculeContain =\n      this.props.struct.atoms.size && this.props.struct.bonds.size\n    const buttons = [\n      <button\n        key=\"save-tmpl\"\n        className={classes.saveTmpl}\n        disabled={disableControls || isCleanStruct || !isMoleculeContain}\n        onClick={() => this.props.onTmplSave(this.props.struct)}\n      >\n        Save to Templates\n      </button>\n    ]\n\n    buttons.push(\n      <button\n        key=\"cancel\"\n        mode=\"onCancel\"\n        className={classes.cancel}\n        onClick={() => this.props.onOk({})}\n        type=\"button\"\n      >\n        Cancel\n      </button>\n    )\n\n    if (this.isImageFormat(format)) {\n      buttons.push(\n        <SaveButton\n          mode=\"saveImage\"\n          data={structStr}\n          filename={filename}\n          outputFormat={imageFormat}\n          key=\"save-image-button\"\n          type={`image/${format}+xml`}\n          onSave={this.props.onOk}\n          disabled={\n            disableControls ||\n            !formState.valid ||\n            isCleanStruct ||\n            !this.props.server\n          }\n          className={classes.ok}\n        >\n          Save\n        </SaveButton>\n      )\n    } else {\n      buttons.push(\n        <SaveButton\n          mode=\"saveFile\"\n          data={savingStruct}\n          filename={filename + getPropertiesByFormat(format).extensions[0]}\n          key=\"save-file-button\"\n          type={format.mime}\n          server={this.props.server}\n          onSave={this.props.onOk}\n          disabled={disableControls || !formState.valid || isCleanStruct}\n          className={classes.ok}\n        >\n          Save\n        </SaveButton>\n      )\n    }\n    return buttons\n  }\n\n  render() {\n    return (\n      <Dialog\n        className={classes.dialog}\n        title=\"Save Structure\"\n        params={this.props}\n        buttons={this.getButtons()}\n        needMargin={false}\n        withDivider={true}\n      >\n        {this.renderForm()}\n      </Dialog>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  server: state.options.app.server ? state.server : null,\n  struct: state.editor.struct(),\n  options: state.options.getServerSettings(),\n  formState: state.modal.form,\n  moleculeErrors: state.modal.form.moleculeErrors,\n  checkState: state.options.check,\n  ignoreChiralFlag: state.editor.render.options.ignoreChiralFlag\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onCheck: (checkOptions) => dispatch(check(checkOptions)),\n  onTmplSave: (struct) => dispatch(saveUserTmpl(struct)),\n  onResetForm: (prevState) => dispatch(updateFormState(prevState))\n})\n\nconst Save = connect(mapStateToProps, mapDispatchToProps)(SaveDialog)\n\nexport default Save\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Form, { Field } from '../../../component/form/form/form'\nimport { StereoLabel, Struct } from 'ketcher-core'\n\nimport { Dialog } from '../../../views/components'\nimport { FC } from 'react'\nimport classes from './enhancedStereo.module.less'\nimport { connect } from 'react-redux'\nimport { range } from 'lodash'\n\ninterface EnhancedStereoResult {\n  andNumber: number\n  orNumber: number\n  type: StereoLabel\n}\n\ninterface EnhancedStereoFormState {\n  result: EnhancedStereoResult\n  valid: boolean\n  errors: string[]\n}\n\ninterface EnhancedStereoProps {\n  className: string\n  init: EnhancedStereoResult & { init?: true }\n  formState: EnhancedStereoFormState\n  struct: Struct\n}\n\ninterface EnhancedStereoCallProps {\n  onCancel: () => void\n  onOk: (res: any) => void\n}\n\ntype Props = EnhancedStereoProps & EnhancedStereoCallProps\n\nconst EnhancedStereo: FC<Props> = (props) => {\n  const { struct, formState, init, ...rest } = props\n  const { result, valid } = formState\n\n  const stereoLabels: Array<string> = findStereLabels(\n    struct,\n    Array.from(struct.atoms.keys())\n  )\n\n  const maxAnd: number = maxOfAnds(stereoLabels)\n  const maxOr: number = maxOfOrs(stereoLabels)\n\n  const enhancedStereoSchema = {\n    title: 'Enhanced Stereo',\n    type: 'object',\n    properties: {\n      type: {\n        type: 'string'\n      },\n      andNumber: {\n        type: 'integer'\n      },\n      orNumber: {\n        type: 'integer'\n      }\n    }\n  }\n\n  return (\n    <Dialog\n      title=\"Enhanced Stereochemistry\"\n      className={classes.enhancedStereo}\n      params={rest}\n      result={() => result}\n      valid={() => valid}\n      withDivider\n      buttons={['Cancel', 'OK']}\n      buttonsNameMap={{ OK: 'Apply' }}\n    >\n      <Form schema={enhancedStereoSchema} init={init} {...formState}>\n        <fieldset>\n          <label>\n            <Field\n              name=\"type\"\n              labelPos={false}\n              type=\"radio\"\n              value={StereoLabel.Abs}\n              checked={result.type === StereoLabel.Abs}\n            />\n            ABS\n          </label>\n          {maxAnd !== 0 && (\n            <label>\n              <Field\n                name=\"type\"\n                labelPos={false}\n                type=\"radio\"\n                value={StereoLabel.And}\n                checked={result.type === StereoLabel.And}\n              />\n              Add to AND\n              <Field\n                name=\"andNumber\"\n                schema={range(1, maxAnd + 1)}\n                type=\"text\"\n                className={classes.labelGroupSelect}\n              />\n              Group\n            </label>\n          )}\n          {maxOr !== 0 && (\n            <label>\n              <Field\n                name=\"type\"\n                labelPos={false}\n                type=\"radio\"\n                value={StereoLabel.Or}\n                checked={result.type === StereoLabel.Or}\n              />\n              Add to OR\n              <Field\n                name=\"orNumber\"\n                schema={range(1, maxOr + 1)}\n                type=\"text\"\n                className={classes.labelGroupSelect}\n              />\n              Group\n            </label>\n          )}\n          <label>\n            <Field\n              name=\"type\"\n              labelPos={false}\n              type=\"radio\"\n              value={`${StereoLabel.And}${maxAnd + 1}`}\n              checked={result.type === `${StereoLabel.And}${maxAnd + 1}`}\n            />\n            Create new AND Group\n          </label>\n          <label>\n            <Field\n              name=\"type\"\n              labelPos={false}\n              type=\"radio\"\n              value={`${StereoLabel.Or}${maxOr + 1}`}\n              checked={result.type === `${StereoLabel.Or}${maxOr + 1}`}\n            />\n            Create new OR Group\n          </label>\n        </fieldset>\n      </Form>\n    </Dialog>\n  )\n}\n\n// TODO: Move the function below to Struct class\nfunction findStereLabels(struct, aids): Array<string> {\n  const stereoIds = aids.filter(\n    (aid) => struct.atoms.get(aid).stereoLabel !== null\n  )\n  return stereoIds.map((aid) => struct.atoms.get(aid).stereoLabel)\n}\n\nfunction maxOfAnds(stereLabels): number {\n  const numbers = stereLabels.map((label) => {\n    return label.match(/&/) ? +label.match(/\\d+/)?.join() : 0\n  })\n  return Math.max(...numbers)\n}\n\nfunction maxOfOrs(stereLabels): number {\n  const numbers = stereLabels.map((label) => {\n    return label.match(/or/) ? +label.match(/\\d+/)?.join() : 0\n  })\n  return Math.max(...numbers)\n}\n\nexport default connect((state) => ({\n  formState: (state as any).modal.form || { result: {}, valid: false },\n  struct: (state as any).editor.struct()\n}))(EnhancedStereo)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Form, { Field } from '../../component/form/form/form'\n\nimport { Dialog } from '../../views/components'\nimport { Elements } from 'ketcher-core'\nimport { capitalize } from 'lodash/fp'\nimport { connect } from 'react-redux'\nimport { labelEdit as labelEditSchema } from '../../data/schema/struct-schema'\nimport styles from './labelEdit.module.less'\n\nfunction serialize(lc) {\n  const charge = Math.abs(lc.charge)\n  const radical = ['', ':', '.', '^^'][lc.radical] || ''\n  let sign = ''\n  if (charge) sign = lc.charge < 0 ? '-' : '+'\n  return (\n    (lc.isotope || '') + lc.label + radical + (charge > 1 ? charge : '') + sign\n  )\n}\n\nfunction deserialize(value) {\n  const match = value.match(/^(\\d+)?([a-z*]{1,3})(\\.|:|\\^\\^)?(\\d+[-+]|[-+])?$/i) // TODO: radical on last place\n  if (match) {\n    const label = match[2] === '*' ? 'A' : capitalize(match[2])\n    let charge = 0\n    let isotope = 0\n    let radical = 0\n\n    if (match[1]) isotope = parseInt(match[1])\n\n    if (match[3]) radical = { ':': 1, '.': 2, '^^': 3 }[match[3]]\n\n    if (match[4]) {\n      charge = parseInt(match[4])\n      if (isNaN(charge))\n        // eslint-disable-line\n        charge = 1\n      if (match[4].endsWith('-')) charge = -charge\n    }\n    // Not consistant\n    if (\n      label === 'A' ||\n      label === 'Q' ||\n      label === 'X' ||\n      label === 'M' ||\n      Elements.get(label)\n    )\n      return { label, charge, isotope, radical }\n  }\n  return null\n}\n\nfunction LabelEdit(props) {\n  const init = { label: props.letter || serialize(props) }\n  const { formState, ...prop } = props\n  const { result, valid } = formState\n\n  return (\n    <Dialog\n      title=\"Label Edit\"\n      valid={() => valid}\n      withDivider={true}\n      needMargin={false}\n      result={() => deserialize(result.label)}\n      className={styles.labelEdit}\n      buttons={['Cancel', 'OK']}\n      buttonsNameMap={{ OK: 'Apply' }}\n      focusable={false}\n      params={prop}\n    >\n      <Form\n        schema={labelEditSchema}\n        customValid={{ label: (l) => deserialize(l) }}\n        init={init}\n        {...formState}\n      >\n        <Field\n          name=\"label\"\n          maxLength=\"20\"\n          size=\"10\"\n          autoFocus\n          className={styles.labelEditInputField}\n        />\n      </Form>\n    </Dialog>\n  )\n}\n\nexport default connect((store) => ({ formState: store.modal.form }))(LabelEdit)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ElementColor } from 'ketcher-core'\nimport classes from './AtomInfo.module.less'\nimport clsx from 'clsx'\n\nfunction AtomInfo({ el, isInfo }) {\n  const numberStyle = {\n    color: ElementColor[el.label] || 'black',\n    fontSize: '12px'\n  }\n  const elemStyle = {\n    color: ElementColor[el.label] || 'black',\n    fontWeight: 'bold',\n    fontSize: '18px'\n  }\n  return (\n    <div className={clsx(classes.ket_atom_info, !isInfo && classes.none)}>\n      <div style={numberStyle}>{el.number}</div>\n      <span style={elemStyle}>{el.label}</span>\n      <br />\n      {el.title}\n      <br />\n      {el.mass}\n    </div>\n  )\n}\n\nexport default AtomInfo\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { range } from 'lodash/fp'\n\nconst PERIODIC_TABLE_COLUMNS = 19\n\nfunction Header() {\n  return (\n    <tbody>\n      <tr>\n        {range(0, PERIODIC_TABLE_COLUMNS).map((index) => (\n          <th key={index}>{index || ''}</th>\n        ))}\n      </tr>\n    </tbody>\n  )\n}\n\nexport default Header\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Atom from '../../../../../../../component/view/Atom'\nimport clsx from 'clsx'\n\nfunction MainRow({\n  row,\n  caption,\n  refer,\n  onAtomSelect,\n  onDoubleClick,\n  currentEvents,\n  atomClassNames,\n  className\n}) {\n  return (\n    <tbody>\n      <tr>\n        <th>{caption}</th>\n        {row.map((element, index) =>\n          typeof element !== 'number' ? ( // eslint-disable-line\n            <td key={index}>\n              <Atom\n                el={element}\n                className={clsx(...atomClassNames(element))}\n                onClick={() => onAtomSelect(element.label)}\n                onDoubleClick={() => onDoubleClick()}\n                {...currentEvents(element)}\n              />\n            </td>\n          ) : refer(element) ? (\n            <td key={index} className={className}>\n              {refer(element)}\n            </td>\n          ) : (\n            <td key={index} colSpan={element} />\n          )\n        )}\n      </tr>\n    </tbody>\n  )\n}\n\nexport default MainRow\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Atom from '../../../../../../../component/view/Atom'\nimport clsx from 'clsx'\n\nfunction OutinerRow({\n  row,\n  caption,\n  onAtomSelect,\n  onDoubleClick,\n  currentEvents,\n  atomClassNames,\n  className\n}) {\n  return (\n    <tbody>\n      <tr>\n        <th colSpan=\"3\" className={className}>\n          {caption}\n        </th>\n        {row.map((element) => (\n          <td key={element.label}>\n            <Atom\n              el={element}\n              className={clsx(...atomClassNames(element))}\n              onClick={() => onAtomSelect(element.label)}\n              onDoubleClick={() => onDoubleClick()}\n              {...currentEvents(element)}\n            />\n          </td>\n        ))}\n        <td />\n      </tr>\n    </tbody>\n  )\n}\n\nexport default OutinerRow\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Header, MainRow, OutinerRow } from './components'\nimport { Component } from 'react'\n\nimport { Elements } from 'ketcher-core'\nimport styles from './ElementsTable.module.less'\n\nconst metalPrefix = [\n  'alkali',\n  'alkaline-earth',\n  'transition',\n  'post-transition'\n] // 'lanthanide', 'actinide'\nconst atomClassNames = {\n  metal: 'metal',\n  unknownProps: 'unknown-props',\n  unknownState: 'unknown-state',\n  button: 'button',\n  selected: 'selected'\n}\nconst beforeSpan = {\n  He: 16,\n  B: 10,\n  Al: 10,\n  Hf: 1,\n  Rf: 1\n}\nconst ACTINIDE = 'actinide'\nconst LANTHANIDE = 'lanthanide'\nconst main = rowPartition(\n  Elements.filter(\n    (item) =>\n      item &&\n      item.type !== ACTINIDE &&\n      item.type !== LANTHANIDE &&\n      item.number !== 89 &&\n      item.number !== 57\n  )\n)\nconst lanthanides = Elements.filter(\n  (item) => item && (item.type === LANTHANIDE || item.number === 57)\n)\nconst actinides = Elements.filter(\n  (item) => item && (item.type === ACTINIDE || item.number === 89)\n)\n\nfunction rowPartition(elements) {\n  return elements.reduce((result, item) => {\n    const row = result[item.period - 1]\n    if (!row) {\n      result.push([item])\n    } else {\n      if (beforeSpan[item.label]) row.push(beforeSpan[item.label])\n      row.push(item)\n    }\n    return result\n  }, [])\n}\n\nclass ElementsTable extends Component {\n  // eslint-disable-line\n  shouldComponentUpdate(nextProps) {\n    return nextProps.value !== this.props.value\n  }\n\n  getAtomClassNames = (item) => {\n    const { selected } = this.props\n\n    const type = metalPrefix.includes(item.type)\n      ? `${item.type} ${atomClassNames.metal}`\n      : item.type || atomClassNames.unknownProps\n\n    const classes = [\n      ...type.split(' '),\n      item.state || atomClassNames.unknownState,\n      item.origin,\n      atomClassNames.button,\n      selected(item.label) && atomClassNames.selected\n    ]\n\n    return classes.map((className) => {\n      return styles[className]\n    })\n  }\n\n  render() {\n    const { currentEvents, onAtomSelect, onDoubleClick } = this.props\n    const callbacks = { currentEvents, onAtomSelect, onDoubleClick }\n    return (\n      <table\n        className={styles.table}\n        summary=\"Periodic table of the chemical elements\"\n      >\n        <Header />\n        {main.map((row, index) => (\n          <MainRow\n            atomClassNames={this.getAtomClassNames}\n            className={styles.main_row}\n            key={index}\n            row={row}\n            caption={index + 1}\n            refer={(element) => element === 1 && (index === 5 ? '*' : '**')}\n            {...callbacks}\n          />\n        ))}\n        <OutinerRow\n          atomClassNames={this.getAtomClassNames}\n          className={styles.outiner_row}\n          row={lanthanides}\n          caption=\"*\"\n          {...callbacks}\n        />\n        <OutinerRow\n          atomClassNames={this.getAtomClassNames}\n          className={styles.outiner_row}\n          row={actinides}\n          caption=\"**\"\n          {...callbacks}\n        />\n      </table>\n    )\n  }\n}\n\nexport default ElementsTable\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport styles from './BoxWithLines.module.less'\n\nexport const HorizontalBoxWithLines = () => {\n  return (\n    <div className={styles.horizintalNodeLines}>\n      <div className={styles.upperLines} />\n      <div className={styles.lowerLine} />\n    </div>\n  )\n}\n\nexport const VerticalBoxWithLines = () => {\n  return (\n    <div className={styles.verticalNodeLines}>\n      <div className={styles.upperLines} />\n      <div className={styles.lowerLine} />\n    </div>\n  )\n}\n","export const isGenericGroup = (group) => {\n  const cyclicGroups = [\n    'Acyclic',\n    'Cyclic',\n    'Acyclic Carbo',\n    'Cyclic Carbo',\n    'Acyclic Hetero',\n    'Cyclic Hetero'\n  ]\n  return cyclicGroups.includes(group)\n}\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport clsx from 'clsx'\nimport { GenItem } from 'ketcher-core'\nimport classes from './ButtonGenSet.module.less'\n\ntype ButtonGenSetProps = {\n  button: GenItem\n  onAtomSelect: (label: string, activateImmediately: boolean) => void\n  selected: (label: string) => boolean\n  disabled: boolean\n}\n\nconst ButtonGenSet = ({\n  button,\n  onAtomSelect,\n  selected,\n  disabled\n}: ButtonGenSetProps) => {\n  const titleText = disabled\n    ? `${button.label} is disabled`\n    : button.description || button.label\n\n  return (\n    <button\n      onClick={() => onAtomSelect(button.label, false)}\n      onDoubleClick={() => onAtomSelect(button.label, true)}\n      title={titleText}\n      disabled={disabled}\n      className={clsx(\n        {\n          [classes.selected]: selected(button.label)\n        },\n        classes.button\n      )}\n    >\n      {button.label}\n    </button>\n  )\n}\n\nexport default ButtonGenSet\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport type { GenItemSet } from 'ketcher-core'\nimport classes from './GenSet.module.less'\nimport { isGenericGroup } from '../../helpers'\nimport ButtonGenSet from './components/ButtonGenSet'\n\ntype GenSetProps = {\n  labels: GenItemSet[]\n  selected: (label: string) => boolean\n  onAtomSelect: (label: string, activateImmediately: boolean) => void\n  className?: string\n  group: string\n  disabledQueryElements: Array<string> | null\n}\n\nconst getGroupClassName = (groupName: string) => groupName.replaceAll(' ', '')\n\nfunction GenSet({\n  labels,\n  selected,\n  onAtomSelect,\n  className,\n  group,\n  disabledQueryElements\n}: GenSetProps) {\n  return (\n    <>\n      {labels.map((item, index) => {\n        const buttons = item.items\n        const caption = item.displayName\n        return (\n          <fieldset className={className} key={index}>\n            <div className={classes[getGroupClassName(group)]}>\n              {buttons.map((button, index) => (\n                <ButtonGenSet\n                  key={index}\n                  button={button}\n                  onAtomSelect={onAtomSelect}\n                  selected={selected}\n                  disabled={Boolean(\n                    disabledQueryElements?.includes(button.label)\n                  )}\n                />\n              ))}\n            </div>\n            {!isGenericGroup(group) && caption && (\n              <div className={classes.legendBox}>\n                <legend>{caption}</legend>\n              </div>\n            )}\n            {isGenericGroup(group) && caption && (\n              <div className={classes.genGroupLegendBox}>\n                <legend className={classes.genGroupLegend}>{caption}</legend>\n              </div>\n            )}\n          </fieldset>\n        )\n      })}\n    </>\n  )\n}\n\nexport { GenSet }\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport type { GenGroup as GenGroupType } from 'ketcher-core'\nimport { GenSet } from './GenSet'\nimport { isGenericGroup } from '../../helpers'\nimport styles from './GenGroup.module.less'\n\ntype GenProps = {\n  selected: (label: string) => boolean\n  onAtomSelect: (label: string, activateImmediately: boolean) => void\n  group: GenGroupType\n  disabledQueryElements: Array<string> | null\n}\n\nconst getLegendClassname = (title: string) => {\n  const mainTitles = [\n    'Atom Generics',\n    'Special Nodes',\n    'Group Generics',\n    'Acyclic',\n    'Cyclic'\n  ]\n  if (mainTitles.includes(title)) return 'legendMain'\n  return 'legend'\n}\n\nconst GenGroup = ({\n  group,\n  onAtomSelect,\n  selected,\n  disabledQueryElements\n}: GenProps) => {\n  return (\n    <div className={styles.fieldFlexWrapper}>\n      <fieldset className={styles.fieldset}>\n        <legend className={styles[getLegendClassname(group.title)]}>\n          {group.title}\n        </legend>\n        <div\n          className={\n            isGenericGroup(group.title)\n              ? styles.genButtonContainer\n              : styles.buttonContainer\n          }\n        >\n          {group.itemSets && (\n            <GenSet\n              labels={group.itemSets}\n              selected={selected}\n              onAtomSelect={onAtomSelect}\n              className={styles.subGroup}\n              group={group.title}\n              disabledQueryElements={disabledQueryElements}\n            />\n          )}\n        </div>\n      </fieldset>\n    </div>\n  )\n}\n\nexport { GenGroup }\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { HorizontalBoxWithLines, VerticalBoxWithLines } from './BoxWithLines'\n\nimport { GenGroup } from './GenGroup'\nimport { Generics } from 'ketcher-core'\nimport classes from './GenericGroups.module.less'\nimport { groupNames } from './'\n\ntype GenericGroupsProps = {\n  selected: (label: string) => boolean\n  onAtomSelect: (label: string, activateImmediately: boolean) => void\n  disabledQueryElements: Array<string> | null\n}\n\nconst getGenericsGroupsMap = (tree) => {\n  let newGroups = {}\n  for (const groupName of Object.keys(tree)) {\n    newGroups[groupName] = { ...tree[groupName] }\n    if (newGroups[groupName]?.subGroups) {\n      newGroups = {\n        ...newGroups,\n        ...getGenericsGroupsMap(newGroups[groupName].subGroups)\n      }\n    }\n  }\n  return newGroups\n}\n\nconst renderGenGroupComponent = (\n  group,\n  selected,\n  onAtomSelect,\n  disabledQueryElements\n) => (\n  <GenGroup\n    group={groupsMap[group]}\n    selected={selected}\n    onAtomSelect={onAtomSelect}\n    disabledQueryElements={disabledQueryElements}\n  />\n)\n\nconst groupsMap = getGenericsGroupsMap(Generics)\n\nfunction GenericGroups({\n  selected,\n  onAtomSelect,\n  disabledQueryElements\n}: GenericGroupsProps) {\n  return (\n    <div className={classes.genericGroups}>\n      <div className={classes.topGroupsContainer}>\n        {renderGenGroupComponent(\n          groupNames.atomsGen,\n          selected,\n          onAtomSelect,\n          disabledQueryElements\n        )}\n        {renderGenGroupComponent(\n          groupNames.specialNodes,\n          selected,\n          onAtomSelect,\n          disabledQueryElements\n        )}\n      </div>\n      {renderGenGroupComponent(\n        groupNames.groupGen,\n        selected,\n        onAtomSelect,\n        disabledQueryElements\n      )}\n      <HorizontalBoxWithLines />\n      <div className={classes.groupGenerics}>\n        <div>\n          {renderGenGroupComponent(\n            groupNames.groupAcyclic,\n            selected,\n            onAtomSelect,\n            disabledQueryElements\n          )}\n          <div className={classes.subgroupContainer}>\n            <VerticalBoxWithLines />\n            <div>\n              {renderGenGroupComponent(\n                groupNames.acyclicCarbo,\n                selected,\n                onAtomSelect,\n                disabledQueryElements\n              )}\n              {renderGenGroupComponent(\n                groupNames.acyclicHetero,\n                selected,\n                onAtomSelect,\n                disabledQueryElements\n              )}\n            </div>\n          </div>\n        </div>\n        <div>\n          {renderGenGroupComponent(\n            groupNames.groupCyclic,\n            selected,\n            onAtomSelect,\n            disabledQueryElements\n          )}\n          <div className={classes.subgroupContainer}>\n            <VerticalBoxWithLines />\n            <div>\n              {renderGenGroupComponent(\n                groupNames.cyclicCarbo,\n                selected,\n                onAtomSelect,\n                disabledQueryElements\n              )}\n              {renderGenGroupComponent(\n                groupNames.cyclicHetero,\n                selected,\n                onAtomSelect,\n                disabledQueryElements\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default GenericGroups\n","/****************************************************************************\n * Copyright 2023 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport { default } from './GenericGroups'\n\nexport enum groupNames {\n  atomsGen = 'atoms-gen',\n  specialNodes = 'special-nodes',\n  groupGen = 'group-gen',\n  groupAcyclic = 'group-acyclic',\n  acyclicCarbo = 'acyclic-carbo',\n  acyclicHetero = 'acyclic-hetero',\n  groupCyclic = 'group-cyclic',\n  cyclicHetero = 'cyclic-hetero',\n  cyclicCarbo = 'cyclic-carbo'\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from './TypeChoice.module.less'\nimport { GenericInput } from 'src/script/ui/component/form/Input/Input'\n\nconst typeSchema = [\n  { title: 'Single', value: 'atom' },\n  { title: 'List', value: 'list' },\n  { title: 'Not List', value: 'not-list' }\n]\n\nfunction TypeChoice({ value, onChange, ...props }) {\n  return (\n    <fieldset className={classes.fieldset}>\n      {typeSchema.map((type) => (\n        <label key={type.title}>\n          <GenericInput\n            type=\"radio\"\n            value={type.value}\n            checked={type.value === value}\n            onChange={() => onChange(type.value)}\n            {...props}\n          />\n          {type.title}\n        </label>\n      ))}\n    </fieldset>\n  )\n}\n\nexport default TypeChoice\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AtomInfo, ElementsTable, TypeChoice } from './components'\nimport { fromElement, toElement } from '../../../../data/convert/structconv'\n\nimport { Component } from 'react'\nimport { Dialog } from '../../../components'\nimport { Elements } from 'ketcher-core'\nimport Icon from '../../../../component/view/icon'\nimport Tabs from '../../../../component/view/Tabs'\nimport { addAtoms } from '../../../../state/toolbar'\nimport classes from './PeriodTable.module.less'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../../state'\nimport { xor } from 'lodash/fp'\n\nclass Table extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      type: props.type || 'atom',\n      value: props.values || (!props.pseudo ? props.label : null) || null,\n      current: Elements.get(2),\n      isInfo: false\n    }\n  }\n\n  changeType = (type) => {\n    const prevChoice =\n      this.state.type === 'list' || this.state.type === 'not-list'\n    const currentChoice = type === 'list' || type === 'not-list'\n    if (prevChoice && currentChoice) {\n      this.setState({ type })\n    } else {\n      this.setState({\n        type,\n        value: type === 'atom' || type === 'gen' ? null : []\n      })\n    }\n  }\n\n  headerContent = () => (\n    <div className={classes.dialogHeader}>\n      <Icon name=\"period-table\" />\n      <span>Periodic Table</span>\n    </div>\n  )\n\n  selected = (label) => {\n    const { type, value } = this.state\n    return type === 'atom' || type === 'gen'\n      ? value === label\n      : value.includes(label)\n  }\n\n  onAtomSelect = (label, activateImmediately = false) => {\n    if (activateImmediately) {\n      const result = this.result()\n      const { type } = this.state\n      if (result && type === 'atom') {\n        this.props.onOk(this.result())\n      }\n    } else {\n      const { type, value } = this.state\n      this.setState({\n        value: type === 'atom' || type === 'gen' ? label : xor([label], value)\n      })\n    }\n  }\n\n  result = () => {\n    const { type, value } = this.state\n    if (!value || !value.length) {\n      return null\n    }\n    if (type === 'atom') {\n      return { label: value, pseudo: null }\n    } else if (type === 'gen') {\n      return { type, label: value, pseudo: value }\n    }\n    return { type, values: value }\n  }\n\n  currentEvents = (element) => {\n    return {\n      onMouseEnter: () => this.setState({ current: element, isInfo: true }),\n      onMouseLeave: () => this.setState({ isInfo: false })\n    }\n  }\n\n  render() {\n    const { type, value } = this.state\n    const HeaderContent = this.headerContent\n\n    return (\n      <Dialog\n        headerContent={<HeaderContent />}\n        className={classes.elementsTable}\n        params={this.props}\n        result={this.result}\n        buttons={['Cancel', 'OK']}\n        buttonsNameMap={{ OK: 'Add' }}\n        needMargin={false}\n        footerContent={\n          <TypeChoice value={this.state.type} onChange={this.changeType} />\n        }\n      >\n        <div className={classes.periodTable}>\n          <AtomInfo el={this.state.current} isInfo={this.state.isInfo} />\n          <ElementsTable\n            value={value}\n            currentEvents={this.currentEvents}\n            selected={this.selected}\n            onAtomSelect={(label) => this.onAtomSelect(label)}\n            onDoubleClick={(label) => this.onAtomSelect(label, true)}\n          />\n        </div>\n      </Dialog>\n    )\n  }\n}\n\nfunction mapSelectionToProps(editor) {\n  const selection = editor.selection()\n\n  if (\n    selection &&\n    Object.keys(selection).length === 1 &&\n    selection.atoms &&\n    Object.keys(selection.atoms).length === 1\n  ) {\n    const struct = editor.struct()\n    const atom = struct.atoms.get(selection.atoms[0])\n    return { ...fromElement(atom) }\n  }\n\n  return {}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  if (ownProps.values || ownProps.label) {\n    return {}\n  }\n  return mapSelectionToProps(state.editor)\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    onOk: (result) => {\n      if (!result.type || result.type === 'atom') {\n        dispatch(addAtoms(result.label))\n      }\n      dispatch(onAction({ tool: 'atom', opts: toElement(result) }))\n      ownProps.onOk(result)\n    }\n  }\n}\n\nconst PeriodTable = connect(mapStateToProps, mapDispatchToProps)(Table)\n\nexport default PeriodTable\n","/****************************************************************************\n * Copyright 2022 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { fromElement, toElement } from '../../../../data/convert/structconv'\n\nimport { Dialog } from '../../../components'\nimport GenericGroups from './components/GenericGroups'\nimport classes from './ExtendedTable.module.less'\nimport { connect } from 'react-redux'\nimport { onAction } from '../../../../state'\nimport { useState } from 'react'\n\nconst Table = (props) => {\n  const [value, setValue] = useState(props.pseudo ? props.label : null)\n\n  const selected = (label) => value === label\n\n  const result = () => {\n    if (!value || !value.length) {\n      return null\n    }\n    return { type: 'gen', label: value, pseudo: value }\n  }\n\n  const onAtomSelect = (label, activateImmediately = false) => {\n    setValue(label)\n\n    if (activateImmediately) {\n      props.onOk(result())\n    }\n  }\n\n  return (\n    <Dialog\n      title=\"Extended Table\"\n      withDivider\n      className={classes.extendedTable}\n      params={props}\n      result={result}\n      buttons={['Cancel', 'OK']}\n      buttonsNameMap={{ OK: 'Add' }}\n      needMargin={false}\n    >\n      <GenericGroups\n        selected={selected}\n        onAtomSelect={onAtomSelect}\n        disabledQueryElements={props.disabledQueryElements}\n      ></GenericGroups>\n    </Dialog>\n  )\n}\n\nfunction mapSelectionToProps(editor) {\n  const selection = editor.selection()\n  if (selection?.atoms?.length === 1) {\n    const struct = editor.struct()\n    const atom = struct.atoms.get(selection.atoms[0])\n    return { ...fromElement(atom) }\n  }\n\n  return {}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const editor = state.editor\n  if (ownProps.values || ownProps.label) {\n    return {}\n  }\n  const disabledQueryElements = editor.render.options.disableQueryElements\n  return { disabledQueryElements, ...mapSelectionToProps(editor) }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    onOk: (result) => {\n      dispatch(onAction({ tool: 'atom', opts: toElement(result) }))\n      ownProps.onOk(result)\n    }\n  }\n}\n\nconst ExtendedTable = connect(mapStateToProps, mapDispatchToProps)(Table)\n\nexport default ExtendedTable\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { BaseCallProps, BaseProps } from '../../../modal.types'\nimport classes from './RemoveFG.module.less'\nimport { useAppContext } from '../../../../../../../hooks'\nimport { fromSgroupDeletion } from 'ketcher-core'\n\ninterface RemoveFGProps extends BaseProps {\n  fgIds: any\n}\n\ntype Props = RemoveFGProps & BaseCallProps\n\nconst RemoveFG = (props: Props) => {\n  const { getKetcherInstance } = useAppContext()\n  const editor = getKetcherInstance().editor as any\n  const { fgIds } = props\n\n  const remove = function () {\n    if (fgIds.length > 0)\n      for (const id of fgIds) {\n        editor.update(fromSgroupDeletion(editor.render.ctab, id))\n      }\n    return true\n  }\n\n  const exit = (key, res) => {\n    props[key](res)\n  }\n\n  return (\n    <div\n      onSubmit={(event) => event.preventDefault()}\n      tabIndex={-1}\n      className={classes.window}\n    >\n      <header className={classes.header}>Edit Abbreviation</header>\n      <div className={classes.question}>\n        A change was detected for the abbreviation. Do you want to remove the\n        abbreviation information from the structure and continue work with\n        separate atoms and bonds?\n      </div>\n      <footer className={classes.footer}>\n        <input\n          type=\"button\"\n          value={'Cancel'}\n          className={classes.buttonCancel}\n          onClick={() => exit('onOk', false)}\n        />\n        <input\n          type=\"button\"\n          value={'Remove Abbreviation'}\n          className={classes.buttonOk}\n          onClick={() => exit('onOk', remove())}\n        />\n      </footer>\n    </div>\n  )\n}\n\nexport type { RemoveFGProps }\nexport { RemoveFG }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { xor } from 'lodash/fp'\n\nfunction oneOrMore(multipl, values, item) {\n  if (multipl) return xor(values, [item])\n  return xor(values, values.concat([item]))\n}\n\nfunction ButtonList({\n  value,\n  onChange,\n  schema,\n  disabledIds,\n  multiple,\n  classes\n}) {\n  let className\n  const selected = classes.selected || 'selected'\n  return (\n    <ul>\n      {schema.items.enum.map((item, i) => {\n        className = value.includes(item) ? selected : ''\n        return (\n          <li key={item}>\n            <button\n              disabled={disabledIds.includes(item)}\n              type=\"button\"\n              className={className}\n              onClick={() => onChange(oneOrMore(multiple, value, item))}\n            >\n              {schema.items.enumNames[i]}\n            </button>\n          </li>\n        )\n      })}\n    </ul>\n  )\n}\n\nexport default ButtonList\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Form, { Field } from '../../../component/form/form/form'\n\nimport ButtonList from '../../../component/form/buttonlist'\nimport { Dialog } from '../../../views/components'\nimport classes from './rgroup.module.less'\nimport { connect } from 'react-redux'\nimport { rgroupSchema } from '../../../data/schema/struct-schema'\n\nfunction RGroup({ disabledIds, values, formState, type, ...props }) {\n  return (\n    <Dialog\n      title=\"R-Group\"\n      className={classes.rgroup}\n      params={props}\n      result={() => formState.result}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <Form schema={rgroupSchema} init={{ values }} {...formState}>\n        <Field\n          name=\"values\"\n          multiple={type === 'atom'}\n          labelPos={false}\n          component={ButtonList}\n          disabledIds={disabledIds}\n          classes={classes}\n        />\n      </Form>\n    </Dialog>\n  )\n}\n\nexport default connect((store) => ({ formState: store.modal.form }))(RGroup)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Field } from '../../component/form/form/form'\nimport { getSelectOptionsFromSchema } from '../../utils'\nimport Select from '../../component/form/Select'\nimport { sdataCustomSchema } from '../../data/schema/sdata-schema'\n\nfunction SDataFieldset({ formState }) {\n  const { result } = formState\n  const formSchema = sdataCustomSchema\n\n  return (\n    <fieldset className=\"sdata\">\n      <Field\n        name=\"context\"\n        options={getSelectOptionsFromSchema(formSchema.properties.context)}\n        component={Select}\n      />\n      <Field name=\"fieldName\" placeholder=\"Enter name\" />\n      {content(\n        formSchema,\n        result.context,\n        result.fieldName,\n        result.fieldValue,\n        result.radiobuttons\n      )}\n    </fieldset>\n  )\n}\n\nconst content = (schema, context, fieldName, fieldValue, checked) =>\n  Object.keys(schema.properties)\n    .filter(\n      (prop) => prop !== 'type' && prop !== 'context' && prop !== 'fieldName'\n    )\n    .map((prop) => {\n      if (prop === 'radiobuttons') {\n        return (\n          <Field\n            name={prop}\n            checked={checked}\n            type=\"radio\"\n            key={`${context}-${fieldName}-${prop}-radio`}\n            labelPos={false}\n          />\n        )\n      } else if (prop === 'fieldValue') {\n        return (\n          <Field\n            name={prop}\n            key={`${context}-${fieldName}-${prop}-select`}\n            placeholder=\"Enter value\"\n          />\n        )\n      } else {\n        return (\n          <Field\n            name={prop}\n            type=\"textarea\"\n            key={`${context}-${fieldName}-${prop}-select`}\n          />\n        )\n      }\n    })\n\nexport default SDataFieldset\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Field } from '../../component/form/form/form'\nimport Select from '../../component/form/Select'\nimport { sgroupMap as schemes } from '../../data/schema/struct-schema'\nimport { getSelectOptionsFromSchema } from '../../utils'\nimport classes from './sgroup.module.less'\n\nfunction SGroupFieldset({ formState }) {\n  const { result } = formState\n\n  const type = result.type\n\n  return (\n    <fieldset className={type === 'DAT' ? classes.data : 'base'}>\n      {content(type)}\n    </fieldset>\n  )\n}\n\nconst propMapping = {\n  name: { maxLength: 15 },\n  fieldName: { maxLength: 30 },\n  fieldValue: { type: 'textarea' },\n  radiobuttons: { type: 'radio' }\n}\n\nconst content = (type) =>\n  Object.keys(schemes[type].properties)\n    .filter((prop) => prop !== 'type')\n    .map((prop) => {\n      if (prop === 'connectivity') {\n        return (\n          <Field\n            name={prop}\n            key={`${type}-${prop}`}\n            component={Select}\n            options={getSelectOptionsFromSchema(schemes[type].properties[prop])}\n          />\n        )\n      }\n\n      const props = propMapping[prop] || {}\n      return <Field name={prop} key={`${type}-${prop}`} {...props} />\n    })\n\nexport default SGroupFieldset\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Form, { SelectOneOf } from '../../component/form/form/form'\nimport { connect } from 'react-redux'\nimport { sgroupMap as schemes } from '../../data/schema/struct-schema'\nimport { Dialog } from '../../views/components'\nimport SDataFieldset from './SDataFieldset'\nimport classes from './sgroup.module.less'\nimport SGroupFieldset from './SGroupFieldset'\nimport { useMemo } from 'react'\n\nfunction Sgroup({ formState, ...props }) {\n  const { result, valid } = formState\n\n  const type = result.type\n\n  const serialize = useMemo(\n    () =>\n      type === 'DAT' && result.context && result.fieldName && result.fieldValue\n        ? {\n            context: result.context.trim(),\n            fieldName: result.fieldName.trim(),\n            fieldValue:\n              typeof result.fieldValue === 'string'\n                ? result.fieldValue.trim()\n                : result.fieldValue\n          }\n        : {},\n    [result.context, result.fieldName, result.fieldValue, type]\n  )\n\n  return (\n    <Dialog\n      title=\"S-Group Properties\"\n      className={classes.sgroup}\n      result={() => result}\n      valid={() => valid}\n      buttons={['Cancel', 'OK']}\n      buttonsNameMap={{ OK: 'Apply' }}\n      withDivider={true}\n      params={props}\n    >\n      <Form\n        serialize={serialize}\n        schema={schemes[type]}\n        init={props}\n        {...formState}\n      >\n        <SelectOneOf title=\"Type\" name=\"type\" schema={schemes} />\n\n        {type === 'DAT' ? (\n          <SDataFieldset formState={formState} />\n        ) : (\n          <SGroupFieldset formState={formState} />\n        )}\n      </Form>\n    </Dialog>\n  )\n}\n\nexport default connect((store) => ({ formState: store.modal.form }))(Sgroup)\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Dialog, StructEditor } from '../../views/components'\nimport { Component } from 'react'\nimport { isEmpty } from 'lodash'\nimport { initAttach, setAttachPoints, setTmplName } from '../../state/templates'\n\nimport { connect } from 'react-redux'\nimport { storage } from '../../storage-ext'\nimport Form, { Field } from '../../component/form/form/form'\nimport { attachSchema } from '../../data/schema/struct-schema'\nimport styled from '@emotion/styled'\nimport classes from './template-lib.module.less'\nimport { css } from '@emotion/react'\nimport { Button } from '@mui/material'\n\n// @TODO When theming is implemented, use theme wherever possible\nconst TemplateEditDialog = styled(Dialog)`\n  background-color: #fff;\n\n  & header {\n    text-transform: none;\n    border-bottom: 1px solid #e1e5ea;\n    margin: 0;\n    padding: 12px;\n  }\n\n  & form {\n    display: flex;\n\n    & label::after {\n      top: 92px;\n      margin-right: 12px;\n    }\n  }\n`\n\nconst Editor = styled('div')`\n  border: 1px solid #b4b9d6;\n  background-color: #ffff;\n  border-radius: 5px;\n  position: relative;\n  height: 300px;\n  width: 330px;\n  overflow: hidden;\n\n  & .structEditor {\n    height: 100%;\n    width: 100%;\n    border: none;\n  }\n`\n\nconst Warning = styled('div')`\n  padding: 0 5px;\n`\n\nconst Message = styled('div')`\n  background-color: #e1e5ea;\n  color: #333333;\n  padding: 10px 12px;\n  border-top: 1px solid #cad3dd;\n  border-bottom: 1px solid #cad3dd;\n`\n\nconst LeftColumn = styled('div')`\n  padding: 12px;\n  border-radius: 0 0 0 8px;\n  background-color: #eff2f5;\n`\n\nconst RightColumn = styled('div')`\n  width: 40%;\n  min-width: 200px;\n  box-sizing: border-box;\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n`\n\nconst NameInput = styled(Field)`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 12px;\n\n  & input[type='text'] {\n    display: block;\n    width: 100%;\n    box-sizing: border-box;\n    border: 1px solid #cad3dd;\n    border-radius: 4px;\n    line-height: 16px;\n    font-size: 14px;\n    margin-top: 4px;\n\n    &:hover {\n      border-color: #43b5c0;\n    }\n\n    &:hover,\n    :focus {\n      box-shadow: none;\n    }\n  }\n\n  & span {\n    display: block;\n    width: 100%;\n  }\n`\n\nconst AttachmentOutput = styled('span')`\n  display: block;\n  width: 100%;\n  height: 24px;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  border: 1px solid #cad3dd;\n  border-radius: 4px;\n  line-height: 14px;\n  font-size: 14px;\n  background-color: #eff2f5;\n  margin-top: 4px;\n`\n\nconst Buttons = styled('div')`\n  display: flex;\n  flex-direction: row;\n  margin-top: auto;\n  justify-content: flex-end;\n  gap: 8px;\n`\n\nconst buttonCommonStyles = css`\n  width: fit-content;\n  padding: 5px 8px;\n  text-transform: none;\n  font-size: 12px;\n  line-height: 14px;\n  box-shadow: none;\n`\n\nconst SaveButton = styled(Button)`\n  ${buttonCommonStyles}\n  background-color: #167782;\n\n  &:hover {\n    background-color: #43b5c0;\n    box-shadow: none;\n  }\n\n  &:disabled {\n    background-color: #e1e5ea;\n    color: #333333;\n  }\n`\n\nconst CancelButton = styled(Button)`\n  ${buttonCommonStyles}\n  border-color: #585858;\n  color: #585858;\n\n  &:hover {\n    border-color: #333333;\n    color: #333333;\n    box-shadow: none;\n  }\n`\n\nconst editorStyles = {\n  selectionStyle: {\n    fill: '#167782',\n    'fill-opacity': '0.28',\n    stroke: '#167782'\n  },\n  hoverStyle: { stroke: '#1a7090', 'stroke-width': 1.2 },\n  hoverStyleSimpleObject: { 'stroke-opacity': 0.3 }\n}\n\nclass Attach extends Component {\n  MODES = {\n    SAVE: 'save',\n    EDIT: 'edit'\n  }\n\n  constructor({ onInit, ...props }) {\n    super()\n    this.mode = isEmpty(props.tmpl.props) ? this.MODES.SAVE : this.MODES.EDIT\n    this.tmpl = initTmpl(props.tmpl)\n    onInit(this.tmpl.struct.name, this.tmpl.props)\n    this.onResult = this.onResult.bind(this)\n  }\n\n  onResult() {\n    const { name, atomid, bondid } = this.props\n    return name &&\n      (name !== this.tmpl.struct.name ||\n        atomid !== this.tmpl.props.atomid ||\n        bondid !== this.tmpl.props.bondid) &&\n      name.trim().length\n      ? { name, attach: { atomid, bondid } }\n      : null\n  }\n\n  checkIsValidName(name) {\n    return (\n      !!name &&\n      !this.props.templateLib.some(\n        (tmpl) =>\n          tmpl.struct.name === name && tmpl.props.group === 'User Templates'\n      ) &&\n      name.length <= 128\n    )\n  }\n\n  render() {\n    const { name, onNameEdit, onAttachEdit, ...prop } = this.props\n    const struct = this.tmpl.struct\n    const { atomid, bondid } =\n      struct.atoms.get(this.props.atomid) && struct.bonds.get(this.props.bondid)\n        ? this.props\n        : this.tmpl.props\n    const options = Object.assign(editorStyles, this.props.globalSettings, {\n      scale: getScale(struct)\n    })\n    const dialogTitle =\n      this.mode === this.MODES.SAVE ? 'Save to Templates' : 'Template Edit'\n    const warningObject =\n      this.mode === this.MODES.SAVE ? 'Templates' : 'Edited templates'\n\n    return (\n      <TemplateEditDialog\n        title={dialogTitle}\n        result={this.onResult}\n        valid={() => this.props.formState.valid && name}\n        params={prop}\n        buttons={[]}\n        needMargin={false}\n      >\n        <Message>\n          <div>\n            {warningObject} are saved locally and cannot be accessed on\n            different browsers or computers.\n          </div>\n          <div>\n            Be aware that other users of the same computer and browser can\n            access them as well.\n          </div>\n        </Message>\n        <Form\n          schema={attachSchema}\n          customValid={{\n            name: (name) => this.checkIsValidName(name)\n          }}\n          {...this.props.formState}\n        >\n          <LeftColumn>\n            <Editor>\n              <StructEditor\n                className=\"structEditor\"\n                struct={struct}\n                onAttachEdit={onAttachEdit}\n                tool=\"attach\"\n                toolOpts={{ atomid, bondid }}\n                options={options}\n                showAttachmentPoints={false}\n              />\n            </Editor>\n            {!storage.isAvailable() ? (\n              <Warning>{storage.warningMessage}</Warning>\n            ) : null}\n          </LeftColumn>\n          <RightColumn>\n            <NameInput\n              name=\"name\"\n              value={name}\n              onChange={this.props.onNameEdit}\n              placeholder=\"template\"\n            />\n            <span>Selected attachment points</span>\n            <AttachmentOutput>\n              Atom ID: <strong>{atomid}</strong> Bond ID:{' '}\n              <strong>{bondid}</strong>\n            </AttachmentOutput>\n            <Buttons>\n              <CancelButton\n                variant=\"outlined\"\n                onClick={this.props.onCancel}\n                className={classes.button}\n              >\n                Cancel\n              </CancelButton>\n              <SaveButton\n                variant=\"contained\"\n                onClick={() => this.props.onOk(this.onResult())}\n                className={classes.button}\n                disabled={!this.checkIsValidName(name)}\n              >\n                {this.mode === this.MODES.SAVE ? 'Save' : 'Edit'}\n              </SaveButton>\n            </Buttons>\n          </RightColumn>\n        </Form>\n      </TemplateEditDialog>\n    )\n  }\n}\n\nexport default connect(\n  (store) => ({\n    ...store.templates.attach,\n    templateLib: store.templates.lib,\n    formState: store.modal.form,\n    globalSettings: store.options.settings\n  }),\n  (dispatch) => ({\n    onInit: (name, ap) => dispatch(initAttach(name, ap)),\n    onAttachEdit: (ap) => dispatch(setAttachPoints(ap)),\n    onNameEdit: (name) => dispatch(setTmplName(name))\n  })\n)(Attach)\n\nfunction initTmpl(tmpl) {\n  const normTmpl = {\n    struct: structNormalization(tmpl.struct),\n    props: {\n      atomid: +tmpl.props.atomid || 0,\n      bondid: +tmpl.props.bondid || 0\n    }\n  }\n  normTmpl.struct.name = tmpl.struct.name\n  return normTmpl\n}\n\nfunction structNormalization(struct) {\n  const normStruct = struct.clone()\n  const cbb = normStruct.getCoordBoundingBox()\n\n  normStruct.atoms.forEach((atom) => {\n    atom.pp = atom.pp.sub(cbb.min)\n  })\n\n  normStruct.sgroups.forEach((sg) => {\n    sg.pp = sg.pp ? sg.pp.sub(cbb.min) : cbb.min\n  })\n\n  normStruct.rxnArrows.forEach((rxnArrow) => {\n    rxnArrow.pos = rxnArrow.pos.map((p) => p.sub(cbb.min))\n  })\n\n  normStruct.rxnPluses.forEach((rxnPlus) => {\n    rxnPlus.pp = rxnPlus.pp.sub(cbb.min)\n  })\n\n  normStruct.simpleObjects.forEach((simpleObject) => {\n    simpleObject.pos = simpleObject.pos.map((p) => p.sub(cbb.min))\n  })\n\n  normStruct.texts.forEach((text) => {\n    text.position = text.position.sub(cbb.min)\n  })\n\n  return normStruct\n}\n\nfunction getScale(struct) {\n  const cbb = struct.getCoordBoundingBox()\n  const VIEW_SIZE = 220\n  const scale =\n    VIEW_SIZE / Math.max(cbb.max.y - cbb.min.y, cbb.max.x - cbb.min.x)\n  if (scale < 35) return 35\n  if (scale > 50) return 50\n  return 40\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { FC } from 'react'\nimport { Struct } from 'ketcher-core'\nimport StructRender from '../../component/structrender'\nimport classes from './TemplateTable.module.less'\nimport { greekify } from '../../utils'\nimport Icon from 'src/script/ui/component/view/icon'\n\nexport interface Template {\n  struct: Struct\n  props: {\n    atomid: number\n    bondid: number\n    group: string\n    prerender?: string\n    abbreviation: string\n    name: string\n  }\n}\n\ninterface TemplateTableProps {\n  templates: Array<Template>\n  selected: Template | null\n  onSelect: (tmpl: Template) => void\n  onDelete?: (tmpl: Template) => void\n  onAttach?: (tmpl: Template) => void\n  titleRows?: 1 | 2\n  renderOptions?: any\n}\n\nconst isSaltOrSolventTemplate = (template) =>\n  template.props.group === 'Salts and Solvents'\nconst isFunctionalGroupTemplate = (template) =>\n  template.props.group === 'Functional Groups'\n\nfunction getTemplateTitle(template: Template, index: number): string {\n  if (isSaltOrSolventTemplate(template)) {\n    return template.props.name\n  }\n  return template.struct.name || `${template.props.group} template ${index + 1}`\n}\n\nfunction tmplName(tmpl: Template, i: number): string {\n  if (isSaltOrSolventTemplate(tmpl)) {\n    return tmpl.props.abbreviation\n  }\n  return tmpl.struct.name || `${tmpl.props.group} template ${i + 1}`\n}\n\nconst RenderTmpl: FC<{\n  tmpl: Template\n  options: any\n  className: string\n}> = ({ tmpl, options, ...props }) => {\n  return (\n    <StructRender\n      struct={tmpl.struct}\n      {...props}\n      options={{\n        ...options,\n        autoScaleMargin: 10,\n        cachePrefix: 'templates',\n        downScale: true\n      }}\n    />\n  )\n}\n\nconst TemplateTable: FC<TemplateTableProps> = (props) => {\n  const {\n    templates,\n    selected,\n    onSelect,\n    onDelete,\n    onAttach,\n    titleRows = 2,\n    renderOptions\n  } = props\n\n  return (\n    <div\n      className={`${classes.tableContent} ${\n        titleRows === 1 ? classes.oneRowTitleTable : classes.twoRowsTitleTable\n      }`}\n    >\n      {templates.map((tmpl, i) => {\n        return (\n          <div\n            className={\n              tmpl.struct !== selected?.struct\n                ? classes.td\n                : `${classes.td} ${classes.selected}`\n            }\n            title={greekify(getTemplateTitle(tmpl, i))}\n            key={\n              tmpl.struct.name !== selected?.struct.name\n                ? `${tmpl.struct.name}_${i}`\n                : `${tmpl.struct.name}_${i}_selected`\n            }\n            onClick={() => onSelect(tmpl)}\n          >\n            <RenderTmpl\n              tmpl={tmpl}\n              options={renderOptions}\n              className={classes.struct}\n            />\n            <div\n              className={`${classes.structTitle} ${\n                selected?.struct === tmpl.struct ? classes.selectedTitle : ''\n              }`}\n            >\n              {greekify(tmplName(tmpl, i))}\n            </div>\n            {tmpl.props.group === 'User Templates' && (\n              <button\n                className={`${classes.button} ${classes.deleteButton}`}\n                onClick={() => onDelete!(tmpl)}\n              >\n                <Icon name=\"delete\" />\n              </button>\n            )}\n            {!isFunctionalGroupTemplate(tmpl) &&\n              !isSaltOrSolventTemplate(tmpl) && (\n                <button\n                  className={`${classes.button} ${classes.editButton}`}\n                  onClick={(e) => {\n                    e.stopPropagation()\n                    onAttach!(tmpl)\n                  }}\n                >\n                  <Icon name=\"edit\" />\n                </button>\n              )}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default TemplateTable\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nexport const saltsAndSolventsSelector = (state) => {\n  return state.saltsAndSolvents.lib\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from './emptySearchResult.module.less'\nimport Icon from '../../component/view/icon'\n\nconst EmptySearchResult = ({ textInfo }) => {\n  return (\n    <div className={classes.emptySearch}>\n      <p>{textInfo}</p>\n      <Icon name=\"not-found\" />\n    </div>\n  )\n}\n\nexport default EmptySearchResult\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { filterFGLib } from '../../utils'\nimport { Template } from './TemplateTable'\n\nconst SALTS_AND_SOLVENTS = 'Salts and Solvents'\nconst batchDelay = 300\n\nexport default function useSaltsAndSolvents(\n  saltsAndSolvents: Template[],\n  filter: string\n) {\n  const [isFirstRender, setIsFirstRender] = useState(true)\n  const timerId = useRef<null | ReturnType<typeof setTimeout>>(null)\n  const [filteredSaltsAndSolvents, setFilteredSaltsAndSolvents] = useState(\n    saltsAndSolvents[SALTS_AND_SOLVENTS]\n  )\n\n  const addToSaSWithBatches = useCallback((fullFilteredArray) => {\n    const batchSize = 16\n    setFilteredSaltsAndSolvents((filteredSaltsAndSolvents) => [\n      ...(filteredSaltsAndSolvents ?? []),\n      ...fullFilteredArray.splice(0, batchSize)\n    ])\n    if (fullFilteredArray.length > 0) {\n      timerId.current = setTimeout(\n        () => addToSaSWithBatches(fullFilteredArray),\n        batchDelay\n      )\n    }\n  }, [])\n\n  useEffect(() => {\n    const filteredSaS =\n      filterFGLib(saltsAndSolvents, filter)[SALTS_AND_SOLVENTS] ?? []\n    addToSaSWithBatches(filteredSaS)\n  }, [saltsAndSolvents, addToSaSWithBatches])\n\n  useEffect(() => {\n    if (isFirstRender) {\n      setIsFirstRender(false)\n      return\n    }\n    clearTimeout(timerId.current as unknown as number)\n    const filteredSaS = filterFGLib(saltsAndSolvents, filter)[\n      SALTS_AND_SOLVENTS\n    ]\n    setFilteredSaltsAndSolvents(filteredSaS)\n  }, [saltsAndSolvents, filter])\n\n  return filteredSaltsAndSolvents\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Dispatch, FC, useState, useEffect, useRef } from 'react'\nimport TemplateTable, { Template } from './TemplateTable'\nimport {\n  changeFilter,\n  changeGroup,\n  deleteTmpl,\n  editTmpl,\n  selectTmpl,\n  changeTab\n} from '../../state/templates'\nimport { filterLib, filterFGLib, greekify } from '../../utils'\nimport Accordion from '@mui/material/Accordion'\nimport AccordionSummary from '@mui/material/AccordionSummary'\nimport AccordionDetails from '@mui/material/AccordionDetails'\nimport Icon from '../../component/view/icon'\n\nimport { Dialog } from '../../views/components'\nimport Input from '../../component/form/Input/Input'\nimport { SaveButton } from '../../component/view/savebutton'\nimport { SdfSerializer } from 'ketcher-core'\nimport classes from './template-lib.module.less'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect'\nimport { omit } from 'lodash/fp'\nimport { onAction } from '../../state'\nimport { functionalGroupsSelector } from '../../state/functionalGroups/selectors'\nimport { saltsAndSolventsSelector } from '../../state/saltsAndSolvents/selectors'\nimport EmptySearchResult from '../../../ui/dialog/template/EmptySearchResult'\n\nimport Tabs from '@mui/material/Tabs'\nimport Tab from '@mui/material/Tab'\nimport useSaltsAndSolvents from './useSaltsAndSolvets'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n  return (\n    <div\n      className={classes.tabPanel}\n      component=\"div\"\n      role=\"tabpanel\"\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  )\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`\n  }\n}\n\ninterface TemplateLibProps {\n  filter: string\n  group: string\n  lib: Array<Template>\n  selected: Template | null\n  mode: string\n  tab: number\n  initialTab: number\n  saltsAndSolvents: Template[]\n  renderOptions?: any\n}\n\ninterface TemplateLibCallProps {\n  onAttach: (tmpl: Template) => void\n  onCancel: () => void\n  onChangeGroup: (group: string) => void\n  onDelete: (tmpl: Template) => void\n  onFilter: (filter: string) => void\n  onOk: (res: any) => void\n  onSelect: (res: any) => void\n  onTabChange: (tab: number) => void\n  functionalGroups: Template[]\n}\n\ntype Props = TemplateLibProps & TemplateLibCallProps\n\nenum TemplateTabs {\n  TemplateLibrary = 0,\n  FunctionalGroupLibrary = 1,\n  SaltsAndSolvents = 2\n}\n\nconst filterLibSelector = createSelector(\n  (props: Props) => props.lib,\n  (props: Props) => props.filter,\n  filterLib\n)\n\nconst FUNCTIONAL_GROUPS = 'Functional Groups'\n\nconst HeaderContent = () => (\n  <div className={classes.dialogHeader}>\n    <Icon name=\"template-dialog\" />\n    <span>Templates</span>\n  </div>\n)\n\nconst FooterContent = ({ data, tab }) => {\n  const clickToAddToCanvas = <span>Click to add to canvas</span>\n  if (tab === TemplateTabs.SaltsAndSolvents) {\n    return clickToAddToCanvas\n  }\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      }}\n    >\n      <SaveButton\n        key=\"save-to-SDF\"\n        data={data}\n        className={classes.saveButton}\n        filename={\n          tab === TemplateTabs.TemplateLibrary\n            ? 'ketcher-tmpls.sdf'\n            : 'ketcher-fg-tmpls.sdf'\n        }\n      >\n        Save to SDF\n      </SaveButton>\n      {clickToAddToCanvas}\n    </div>\n  )\n}\n\nconst TemplateDialog: FC<Props> = (props) => {\n  const {\n    filter,\n    onFilter,\n    onTabChange,\n    onChangeGroup,\n    mode,\n    tab,\n    initialTab = null,\n    functionalGroups,\n    lib: templateLib,\n    saltsAndSolvents,\n    onSelect,\n    ...rest\n  } = props\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  const [expandedAccordions, setExpandedAccordions] = useState<string[]>([\n    props.group\n  ])\n  const filteredSaltsAndSolvents = useSaltsAndSolvents(saltsAndSolvents, filter)\n  const [filteredFG, setFilteredFG] = useState(\n    functionalGroups[FUNCTIONAL_GROUPS]\n  )\n\n  const filteredTemplateLib = filterLibSelector(props)\n\n  useEffect(() => {\n    setFilteredFG(filterFGLib(functionalGroups, filter)[FUNCTIONAL_GROUPS])\n  }, [functionalGroups, filter])\n\n  useEffect(() => {\n    searchInputRef.current?.focus()\n    onSelect(null)\n  }, [tab, onSelect])\n\n  useEffect(() => {\n    if (initialTab !== null) {\n      onTabChange(initialTab)\n    }\n  }, [initialTab, onTabChange])\n\n  const handleAccordionChange = (accordion) => (_, isExpanded) => {\n    setExpandedAccordions(\n      isExpanded\n        ? [...expandedAccordions, accordion]\n        : [...expandedAccordions].filter(\n            (expandedAccordion) => expandedAccordion !== accordion\n          )\n    )\n  }\n\n  const handleTabChange = (value) => {\n    onTabChange(value)\n  }\n\n  const sdfSerializer = new SdfSerializer()\n  const serializerMapper = {\n    [TemplateTabs.TemplateLibrary]: templateLib,\n    [TemplateTabs.FunctionalGroupLibrary]: functionalGroups,\n    [TemplateTabs.SaltsAndSolvents]: saltsAndSolvents\n  }\n  const data = sdfSerializer.serialize(serializerMapper[tab])\n\n  const select = (tmpl: Template): void => {\n    onChangeGroup(tmpl.props.group)\n    props.onSelect(tmpl)\n  }\n\n  return (\n    <Dialog\n      headerContent={<HeaderContent />}\n      footerContent={<FooterContent tab={tab} data={data} />}\n      className={`${classes.dialog_body}`}\n      params={omit(['group'], rest)}\n      buttons={[]}\n      needMargin={false}\n    >\n      <div className={classes.inputContainer}>\n        <Input\n          ref={searchInputRef}\n          className={classes.input}\n          type=\"search\"\n          value={filter}\n          onChange={(value) => onFilter(value)}\n          placeholder=\"Search by elements...\"\n          isFocused={true}\n        />\n        <Icon name=\"search\" className={classes.searchIcon} />\n      </div>\n      <Tabs\n        value={tab}\n        onChange={(_, value) => handleTabChange(value)}\n        className={classes.tabs}\n      >\n        <Tab\n          label=\"Template Library\"\n          {...a11yProps(TemplateTabs.TemplateLibrary)}\n        />\n        <Tab\n          label=\"Functional Groups\"\n          {...a11yProps(TemplateTabs.FunctionalGroupLibrary)}\n        />\n        <Tab\n          label=\"Salts and Solvents\"\n          {...a11yProps(TemplateTabs.SaltsAndSolvents)}\n        />\n      </Tabs>\n      <div className={classes.tabsContent}>\n        <TabPanel value={tab} index={TemplateTabs.TemplateLibrary}>\n          <div>\n            {Object.keys(filteredTemplateLib).length ? (\n              Object.keys(filteredTemplateLib).map((groupName) => {\n                const shouldGroupBeRended =\n                  expandedAccordions.includes(groupName)\n                return (\n                  <Accordion\n                    square={true}\n                    key={groupName}\n                    onChange={handleAccordionChange(groupName)}\n                    expanded={shouldGroupBeRended}\n                  >\n                    <AccordionSummary\n                      className={classes.accordionSummary}\n                      expandIcon={\n                        <Icon className={classes.expandIcon} name=\"chevron\" />\n                      }\n                    >\n                      <Icon\n                        name=\"elements-group\"\n                        className={classes.groupIcon}\n                      />\n                      {`${greekify(groupName)} (${\n                        filteredTemplateLib[groupName].length\n                      })`}\n                    </AccordionSummary>\n                    <AccordionDetails>\n                      <TemplateTable\n                        templates={\n                          shouldGroupBeRended\n                            ? filteredTemplateLib[groupName]\n                            : []\n                        }\n                        onSelect={(templ) => select(templ)}\n                        selected={props.selected}\n                        onDelete={props.onDelete}\n                        onAttach={props.onAttach}\n                        renderOptions={props.renderOptions}\n                      />\n                    </AccordionDetails>\n                  </Accordion>\n                )\n              })\n            ) : (\n              <div className={classes.resultsContainer}>\n                <EmptySearchResult textInfo=\"No items found\" />\n              </div>\n            )}\n          </div>\n        </TabPanel>\n        <TabPanel value={tab} index={TemplateTabs.FunctionalGroupLibrary}>\n          {filteredFG?.length ? (\n            <div className={classes.resultsContainer}>\n              <TemplateTable\n                titleRows={1}\n                templates={filteredFG}\n                onSelect={(templ) => select(templ)}\n                selected={props.selected}\n                renderOptions={props.renderOptions}\n              />\n            </div>\n          ) : (\n            <div className={classes.resultsContainer}>\n              <EmptySearchResult textInfo=\"No items found\" />\n            </div>\n          )}\n        </TabPanel>\n        <TabPanel value={tab} index={TemplateTabs.SaltsAndSolvents}>\n          {filteredSaltsAndSolvents?.length ? (\n            <div className={classes.resultsContainer}>\n              <TemplateTable\n                titleRows={1}\n                templates={filteredSaltsAndSolvents}\n                onSelect={(templ) => select(templ)}\n                selected={props.selected}\n                renderOptions={props.renderOptions}\n              />\n            </div>\n          ) : (\n            <div className={classes.resultsContainer}>\n              <EmptySearchResult textInfo=\"No items found\" />\n            </div>\n          )}\n        </TabPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nconst selectTemplate = (template, props, dispatch) => {\n  dispatch(selectTmpl(null))\n  if (!template) return\n  dispatch(changeFilter(''))\n  dispatch(selectTmpl(template))\n  dispatch(onAction({ tool: 'template', opts: template }))\n  props.onOk(template)\n}\n\nconst onModalClose = (props, dispatch) => {\n  dispatch(changeFilter(''))\n  props.onCancel()\n}\n\nexport default connect(\n  (store) => ({\n    ...omit(['attach'], (store as any).templates),\n    initialTab: (store as any).modal?.prop?.tab,\n    renderOptions: (store as any).editor?.render?.options,\n    functionalGroups: functionalGroupsSelector(store),\n    saltsAndSolvents: saltsAndSolventsSelector(store)\n  }),\n  (dispatch: Dispatch<any>, props: Props) => ({\n    onFilter: (filter) => dispatch(changeFilter(filter)),\n    onTabChange: (tab) => dispatch(changeTab(tab)),\n    onSelect: (tmpl) => selectTemplate(tmpl, props, dispatch),\n    onChangeGroup: (group) => dispatch(changeGroup(group)),\n    onAttach: (tmpl) => dispatch(editTmpl(tmpl)),\n    onCancel: () => onModalClose(props, dispatch),\n    onDelete: (tmpl) => dispatch(deleteTmpl(tmpl))\n  })\n)(TemplateDialog)\n","import { useEffect, RefObject } from 'react'\n\nexport const useClickOutside = (\n  targetRef: RefObject<Node>,\n  callback: () => void\n): void => {\n  useEffect(() => {\n    document.addEventListener('click', onClickOutside)\n    return () => {\n      document.removeEventListener('click', onClickOutside)\n    }\n  }, [])\n\n  const onClickOutside = (e: Event) => {\n    if (!targetRef.current?.contains(e.target as Node)) {\n      callback()\n    }\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useEffect, useMemo, useState, useRef } from 'react'\nimport { useClickOutside } from '../../../../../../../hooks/useClickOutside'\n\nimport classes from './FontControl.module.less'\n\nimport { range } from 'lodash/fp'\n\nexport const FontControl = ({ editorState, setEditorState, styles }) => {\n  const defaultFontSize = '13px'\n  const [isShowingFontSizeMenu, setIsShowingFontSizeMenu] = useState(false)\n  const [currentFontSize, setCurrentFontSize] = useState(defaultFontSize)\n  const wrapperRef = useRef<HTMLDivElement>(null)\n  const onClickOutsideCloseDrowndown = (): void =>\n    setIsShowingFontSizeMenu(false)\n  useClickOutside(wrapperRef, onClickOutsideCloseDrowndown)\n\n  const setFontSize = (e, value) => {\n    e.preventDefault()\n    setCurrentFontSize(value)\n    const newEditorState = styles.fontSize.remove(editorState)\n    setEditorState(styles.fontSize.add(newEditorState, value))\n    setIsShowingFontSizeMenu(false)\n  }\n\n  const currentStyle = styles.fontSize.current(editorState)\n\n  useEffect(() => {\n    setCurrentFontSize(currentStyle || defaultFontSize)\n  }, [currentStyle])\n\n  const MIN_FONT_SIZE = 4\n  const MAX_FONT_SIZE = 144\n  const fontSizes = range(MIN_FONT_SIZE, MAX_FONT_SIZE + 1)\n\n  const fontSizeOptions = useMemo(\n    () =>\n      fontSizes.map((fontSize) => (\n        <div\n          key={fontSize}\n          className={classes.fontSizeOption}\n          onMouseDown={(e) => setFontSize(e, `${fontSize}px`)}\n        >\n          {fontSize}\n        </div>\n      )),\n    [isShowingFontSizeMenu]\n  )\n\n  return (\n    <div ref={wrapperRef}>\n      <button\n        className={classes.fontBtn}\n        onMouseDown={(e) => {\n          e.preventDefault()\n          setIsShowingFontSizeMenu(!isShowingFontSizeMenu)\n        }}\n      >\n        {parseFloat(currentFontSize)}\n      </button>\n      {isShowingFontSizeMenu ? (\n        <div className={classes.fontSizeMenu}>{fontSizeOptions}</div>\n      ) : null}\n    </div>\n  )\n}\n\nexport default FontControl\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport classes from './SpecialSymbolsList.module.less'\nimport Icon from 'src/script/ui/component/view/icon'\n\nconst SpecialSymbolsList = ({ select }) => {\n  const symbols = [\n    'α',\n    'β',\n    'γ',\n    'δ',\n    'ε',\n    'ζ',\n    'η',\n    'θ',\n    'ι',\n    'κ',\n    'λ',\n    'μ',\n    'ν',\n    'ξ',\n    'ο',\n    'π',\n    'ρ',\n    'σ',\n    'τ',\n    'υ',\n    'φ',\n    'χ',\n    'ψ',\n    'ω',\n    '℃',\n    '℉',\n    'Å',\n    '°',\n    'ħ',\n    '±',\n    '‰',\n    '√',\n    '←',\n    '→',\n    '←/',\n    '/→',\n    '↔',\n    '∏',\n    '∑',\n    '∞',\n    '∂',\n    '∆',\n    '∫',\n    '≈',\n    '=/',\n    '≤',\n    '≥'\n  ]\n  return (\n    <div className={classes.window}>\n      {symbols.map((symbol, id) => {\n        return (\n          <button\n            className={classes.button}\n            key={`symbol-${id}`}\n            value={symbol}\n            onMouseDown={(event) => {\n              select(event, symbol)\n            }}\n          >\n            <Icon name={symbol} />\n          </button>\n        )\n      })}\n    </div>\n  )\n}\nexport { SpecialSymbolsList }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { EditorState, Modifier } from 'draft-js'\n\nimport Icon from '../../../../../component/view/icon'\nimport { SpecialSymbolsList } from '../SpecialSymbolsList/SpecialSymbolsList'\nimport classes from './SpecialSymbolsButton.module.less'\nimport { useState } from 'react'\n\nconst SpecialSymbolsButton = ({ editorState, setEditorState, styles }) => {\n  const [showSpecialSymbols, setShowSpecialSymbols] = useState(false)\n\n  const handleClose = (event) => {\n    event.stopPropagation()\n    event.preventDefault()\n    setShowSpecialSymbols(false)\n  }\n\n  const closeSymbolsList = (event) => {\n    if (!event.currentTarget.contains(event.relatedTarget)) {\n      handleClose(event)\n    }\n  }\n\n  const addSymbol = (e, value) => {\n    e.preventDefault()\n    const selection = editorState.getSelection()\n    const contentState = editorState.getCurrentContent()\n    const nextContentState = Modifier.replaceText(\n      contentState,\n      selection,\n      value,\n      styles\n    )\n    const nextEditorState = EditorState.push(\n      editorState,\n      nextContentState,\n      'insert-characters'\n    )\n    setEditorState(nextEditorState)\n    setShowSpecialSymbols(false)\n  }\n\n  return (\n    <div onBlur={closeSymbolsList}>\n      <button\n        title=\"symbols\"\n        onMouseDown={(e) => {\n          e.preventDefault()\n          setShowSpecialSymbols(!showSpecialSymbols)\n        }}\n        className={\n          showSpecialSymbols ? classes.activeTextButton : classes.textButton\n        }\n      >\n        <Icon name=\"text-special-symbols\" />\n      </button>\n      {showSpecialSymbols && <SpecialSymbolsList select={addSymbol} />}\n    </div>\n  )\n}\n\nexport { SpecialSymbolsButton }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport Icon from '../../../../../component/view/icon'\nimport React from 'react'\nimport { TextCommand } from 'ketcher-core'\nimport clsx from 'clsx'\nimport styles from './TextButton.module.less'\n\ninterface TextButtonProps {\n  button: { command: TextCommand; name: string }\n  active: boolean\n}\n\ninterface TextButtonPropsCallProps {\n  toggleStyle: (command: TextCommand) => void\n}\n\ntype Props = TextButtonProps & TextButtonPropsCallProps\n\nexport const TextButton = (props: Props) => {\n  const toggleStyle = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n    command: TextCommand\n  ) => {\n    event.preventDefault()\n    props.toggleStyle(command)\n  }\n\n  return (\n    <button\n      className={clsx(styles.textButton, { [styles.isActive]: props.active })}\n      title={props.button.command.toLowerCase()}\n      onMouseDown={(event) => {\n        toggleStyle(event, props.button.command)\n      }}\n    >\n      <Icon name={props.button.name} />\n    </button>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport 'draft-js/dist/Draft.css'\n\nimport {\n  DraftStyleMap,\n  Editor,\n  EditorState,\n  RawDraftContentState,\n  RichUtils,\n  convertFromRaw,\n  convertToRaw,\n  getDefaultKeyBinding\n} from 'draft-js'\nimport React, {\n  useCallback,\n  useState,\n  useRef,\n  MutableRefObject,\n  useEffect\n} from 'react'\n\nimport { Dialog } from '../../../components'\nimport { DialogParams } from '../../../components/Dialog/Dialog'\nimport { FontControl } from './FontControl'\nimport { SpecialSymbolsButton } from './SpecialSymbols/SpecialSymbolsButton'\nimport { TextButton } from './TextButton'\nimport { TextCommand } from 'ketcher-core'\nimport classes from './Text.module.less'\nimport { connect } from 'react-redux'\nimport createStyles from 'draft-js-custom-styles'\n\nconst { styles, customStyleFn } = createStyles(['font-size'])\n\ninterface TextProps extends DialogParams {\n  formState: any\n  id?: any\n  content: string\n  position?: string\n}\n\nconst buttons: Array<{ command: TextCommand; name: string }> = [\n  {\n    command: TextCommand.Bold,\n    name: 'text-bold'\n  },\n  {\n    command: TextCommand.Italic,\n    name: 'text-italic'\n  },\n  {\n    command: TextCommand.Superscript,\n    name: 'text-superscript'\n  },\n  {\n    command: TextCommand.Subscript,\n    name: 'text-subscript'\n  }\n]\n\nconst Text = (props: TextProps) => {\n  const { formState, position, id } = props\n  const rawContentState: RawDraftContentState | null = props.content\n    ? (JSON.parse(props.content) as RawDraftContentState)\n    : null\n  const [editorState, setEditorState] = useState<EditorState>(\n    EditorState.moveFocusToEnd(\n      EditorState.createWithContent(\n        convertFromRaw(rawContentState || { blocks: [], entityMap: {} })\n      )\n    )\n  )\n\n  const result = () => {\n    const content = editorState.getCurrentContent()\n    return {\n      content: content.hasText() ? JSON.stringify(convertToRaw(content)) : '',\n      position,\n      id\n    }\n  }\n\n  const keyBindingFn = (e: React.KeyboardEvent): string | null => {\n    if (e.key === 'Enter') {\n      e.stopPropagation()\n    }\n\n    return getDefaultKeyBinding(e)\n  }\n\n  const onContentChange = (state: EditorState): void => {\n    setEditorState(state)\n  }\n\n  const currentStyle = editorState.getCurrentInlineStyle()\n\n  const toggleStyle = useCallback(\n    (command: TextCommand): void => {\n      let newEditorState: EditorState = editorState\n      switch (command) {\n        case TextCommand.Subscript: {\n          if (currentStyle.has(TextCommand.Superscript)) {\n            newEditorState = RichUtils.toggleInlineStyle(\n              newEditorState,\n              TextCommand.Superscript\n            )\n          }\n          break\n        }\n        case TextCommand.Superscript: {\n          if (currentStyle.has(TextCommand.Subscript)) {\n            newEditorState = RichUtils.toggleInlineStyle(\n              newEditorState,\n              TextCommand.Subscript\n            )\n          }\n          break\n        }\n      }\n      newEditorState = RichUtils.toggleInlineStyle(newEditorState, command)\n\n      setEditorState(newEditorState)\n    },\n    [currentStyle, editorState]\n  )\n\n  const customStyleMap: DraftStyleMap = {\n    SUBSCRIPT: {\n      verticalAlign: 'sub',\n      transform: 'scale(0.7)',\n      transformOrigin: 'left'\n    },\n    SUPERSCRIPT: {\n      verticalAlign: 'super',\n      transform: 'scale(0.7)',\n      transformOrigin: 'left',\n      lineHeight: 0\n    }\n  }\n\n  const refEditor = useRef() as MutableRefObject<Editor>\n  const setFocusInEditor = useCallback(() => {\n    refEditor.current.focus()\n  }, [refEditor])\n\n  // set focut on component mount\n  useEffect(() => {\n    setFocusInEditor()\n  }, [setFocusInEditor])\n\n  return (\n    <Dialog\n      className={classes.textEditor}\n      title=\"Text Editor\"\n      params={props}\n      result={result}\n      valid={() => formState.form.valid}\n      buttonsNameMap={{ OK: 'Apply' }}\n      buttons={['Cancel', 'OK']}\n      withDivider\n    >\n      <div className={classes.controlPanel} onClick={setFocusInEditor}>\n        {buttons.map((button) => {\n          return (\n            <TextButton\n              button={button}\n              key={button.name}\n              active={currentStyle.has(button.command)}\n              toggleStyle={toggleStyle}\n            />\n          )\n        })}\n        <SpecialSymbolsButton\n          editorState={editorState}\n          setEditorState={setEditorState}\n          styles={currentStyle}\n        />\n        <span>Font Size</span>\n        <FontControl\n          editorState={editorState}\n          setEditorState={setEditorState}\n          styles={styles}\n        />\n      </div>\n      <span>Text:</span>\n      <Editor\n        keyBindingFn={keyBindingFn}\n        editorState={editorState}\n        onChange={onContentChange}\n        customStyleMap={customStyleMap}\n        customStyleFn={customStyleFn}\n        ref={refEditor}\n      />\n    </Dialog>\n  )\n}\n\nexport default connect((store) => ({ formState: (store as any).modal }))(Text)\n","import classes from '../toolbox/FG/RemoveFG.module.less'\n\ntype ConfirmProps = {\n  onOk: () => void\n  onCancel: () => void\n}\n\nexport const Confirm = ({ onOk, onCancel }: ConfirmProps) => {\n  return (\n    <div className={classes.window}>\n      <header className={classes.header}>Warning!</header>\n      <div className={classes.question}>\n        Unsupported S-group type found. Would you like to import structure\n        without it?\n      </div>\n      <footer className={classes.footer}>\n        <input\n          type=\"button\"\n          value={'Cancel'}\n          className={classes.buttonCancel}\n          onClick={() => onCancel()}\n        />\n        <input\n          type=\"button\"\n          value={'OK'}\n          className={classes.buttonOk}\n          onClick={() => onOk()}\n        />\n      </footer>\n    </div>\n  )\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { About, Settings } from '../views/modal/components/meta'\nimport {\n  Analyse,\n  Check,\n  Miew,\n  Recognize\n} from '../views/modal/components/process'\n// schemify dialogs\nimport {\n  Atom,\n  AttachPoints,\n  Automap,\n  Bond,\n  RgroupLogic\n} from '../views/modal/components/toolbox'\nimport { Open, Save } from '../views/modal/components/document'\n\nimport EnhancedStereo from './toolbox/enhancedStereo/enhancedStereo'\nimport LabelEdit from './toolbox/labeledit'\nimport PeriodTable from '../views/modal/components/PeriodTable'\nimport ExtendedTable from '../views/modal/components/ExtendedTable'\nimport { RemoveFG } from '../views/modal/components/toolbox/FG/RemoveFG'\nimport Rgroup from './toolbox/rgroup/rgroup'\nimport SGroup from './toolbox/sgroup'\nimport TemplateAttach from './template/template-attach'\nimport TemplatesDialog from './template/TemplateDialog'\nimport Text from '../views/modal/components/Text'\nimport { Confirm } from '../views/modal/components/Confirm'\n\nexport default {\n  open: Open,\n  analyse: Analyse,\n  recognize: Recognize,\n  'period-table': PeriodTable,\n  'extended-table': ExtendedTable,\n  rgroup: Rgroup,\n  attach: TemplateAttach,\n  templates: TemplatesDialog,\n  about: About,\n  miew: Miew,\n  atomProps: Atom,\n  attachmentPoints: AttachPoints,\n  automap: Automap,\n  bondProps: Bond,\n  check: Check,\n  enhancedStereo: EnhancedStereo,\n  labelEdit: LabelEdit,\n  rgroupLogic: RgroupLogic,\n  removeFG: RemoveFG,\n  save: Save,\n  settings: Settings,\n  sgroup: SGroup,\n  text: Text,\n  confirm: Confirm\n} as any\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { useRef } from 'react'\n\nimport { BaseCallProps } from './modal.types'\nimport classes from './Modal.module.less'\nimport selectClasses from '../../component/form/Select/Select.module.less'\nimport clsx from 'clsx'\nimport mediaSizes from './mediaSizes'\nimport modals from '../../dialog'\nimport useResizeObserver from 'use-resize-observer/polyfilled'\n\ninterface ModalProps extends BaseCallProps {\n  modal: {\n    name: string\n    form: any\n    prop: any\n  }\n}\n\ntype Props = ModalProps & BaseCallProps\n\nfunction Modal(props: Props) {\n  const { modal, ...rest } = props\n  const containerRef = useRef<HTMLDivElement>(null)\n  const { height, width } = useResizeObserver<HTMLDivElement>({\n    ref: containerRef\n  })\n\n  if (!modal) return null\n\n  const Component = modals[modal.name]\n\n  if (!Component)\n    throw new Error(`There is no modal window named ${modal.name}`)\n\n  return (\n    <div\n      className={clsx(classes.modalOverlay, selectClasses.selectContainer)}\n      ref={containerRef}\n    >\n      <Component\n        className={clsx({\n          [classes.smallScreen]:\n            (height && height <= mediaSizes.smallHeight) ||\n            (width && width <= mediaSizes.smallWidth)\n        })}\n        {...rest}\n      />\n    </div>\n  )\n}\n\nexport type { ModalProps }\nexport { Modal }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { Modal, ModalProps } from './Modal'\n\nimport { BaseCallProps } from './modal.types'\nimport { Dispatch } from 'redux'\nimport { connect } from 'react-redux'\nimport { omit } from 'lodash/fp'\n\ntype StateProps = Pick<ModalProps, 'modal'>\n\nconst mapStateToProps = (state): StateProps => ({\n  modal: state.modal\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch): BaseCallProps => ({\n  onOk: (_result) => {\n    dispatch({ type: 'MODAL_CLOSE' })\n  },\n  onCancel: () => {\n    dispatch({ type: 'MODAL_CLOSE' })\n  }\n})\n\nconst mergeProps = (\n  stateProps: StateProps,\n  dispatchProps: BaseCallProps\n): ModalProps => {\n  const prop = stateProps.modal && stateProps.modal.prop\n  const initProps = prop ? omit(['onResult', 'onCancel'], prop) : {}\n  return {\n    modal: stateProps.modal,\n    ...initProps,\n    onOk: (result) => {\n      if (prop && prop.onResult) prop.onResult(result)\n      dispatchProps.onOk(result)\n    },\n    onCancel: () => {\n      if (prop && prop.onCancel) prop.onCancel()\n      dispatchProps.onCancel()\n    }\n  }\n}\n\nconst ModalContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeProps\n)(Modal)\n\nexport default ModalContainer\n","import { Atom, Bond } from 'ketcher-core'\n\ntype partialPropertiesOfElement = Partial<{\n  [attribute in keyof (Atom | Bond)]: string | number | boolean\n}>\n\n// If all elements have the same value, then this value is used as a baseline\n// otherwise it is set to an empty string. Afterwards, empty string denotes that the value is not changed\nexport function generateCommonProperties(\n  selectedElements: Atom[] | Bond[],\n  normalizedElement\n): partialPropertiesOfElement {\n  const properties = Object.getOwnPropertyNames(normalizedElement)\n  const resultElementAttributes: partialPropertiesOfElement = {}\n  properties.forEach((property) => {\n    const uniqueValues = new Set()\n    selectedElements.forEach((element) => {\n      uniqueValues.add(element[property])\n    })\n    const allElementsHaveTheSameValue = uniqueValues.size === 1\n    if (allElementsHaveTheSameValue) {\n      resultElementAttributes[property] = normalizedElement[property]\n    } else {\n      resultElementAttributes[property] = ''\n    }\n  })\n  return resultElementAttributes\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  fromAtom,\n  fromBond,\n  fromElement,\n  fromSgroup,\n  fromStereoLabel,\n  toBond,\n  toElement,\n  toSgroup,\n  toStereoLabel\n} from '../../data/convert/structconv'\n\nimport { Elements } from 'ketcher-core'\nimport acts from '../../action'\nimport { debounce } from 'lodash/fp'\nimport { openDialog } from '../modal'\nimport { highlightFG } from '../functionalGroups'\nimport { serverCall } from '../server'\nimport { isAtomsArray } from '../modal/atoms'\nimport { generateCommonProperties } from './utils'\nimport { saveSettings } from '../options'\n\nexport default function initEditor(dispatch, getState) {\n  const updateAction = debounce(100, () => dispatch({ type: 'UPDATE' }))\n  const sleep = (time) => new Promise((resolve) => setTimeout(resolve, time))\n\n  function resetToSelect(dispatch) {\n    // eslint-disable-line no-shadow\n    const state = global.currentState\n    const activeTool = state.actionState.activeTool.tool\n    if (activeTool === 'select') return\n    const selectMode = state.toolbar.visibleTools.select\n    const resetOption = state.options.settings.resetToSelect\n    if (resetOption === true || resetOption === activeTool)\n      // example: 'paste'\n      dispatch({ type: 'ACTION', action: acts[selectMode].action })\n    else updateAction()\n  }\n\n  return {\n    onInit: (editor) => {\n      dispatch({ type: 'INIT', editor })\n    },\n    onChange: (action) => {\n      if (action === undefined) sleep(0).then(() => dispatch(resetToSelect))\n      // new tool in reducer\n      else dispatch(resetToSelect)\n    },\n    onSelectionChange: () => {\n      updateAction()\n    },\n    onElementEdit: (selem) => {\n      if (isAtomsArray(selem)) {\n        const atomAttributes = generateCommonProperties(\n          selem,\n          fromAtom(selem[0])\n        )\n        return openDialog(dispatch, 'atomProps', {\n          ...atomAttributes,\n          isMultipleAtoms: true\n        }).then(toElement)\n      }\n      const elem = selem.type === 'text' ? selem : fromElement(selem)\n      let dlg = null\n      if (elem.type === 'text') {\n        // TODO: move textdialog opening logic to another place\n        return openDialog(dispatch, 'text', elem)\n      } else if (Elements.get(elem.label)) {\n        dlg = openDialog(dispatch, 'atomProps', elem)\n      } else if (Object.keys(elem).length === 1 && 'ap' in elem) {\n        dlg = openDialog(dispatch, 'attachmentPoints', elem.ap).then((res) => ({\n          ap: res\n        }))\n      } else if (elem.type === 'list' || elem.type === 'not-list') {\n        dlg = openDialog(\n          dispatch,\n          !elem.pseudo ? 'period-table' : 'extended-table',\n          { ...elem, pseudo: elem.pseudo }\n        )\n      } else if (elem.type === 'rlabel') {\n        const rgroups = getState().editor.struct().rgroups\n        const params = {\n          type: 'atom',\n          values: elem.values,\n          disabledIds: Array.from(rgroups.entries()).reduce(\n            (acc, [rgid, rg]) => {\n              if (rg.frags.has(elem.fragId)) acc.push(rgid)\n\n              return acc\n            },\n            []\n          )\n        }\n        dlg = openDialog(dispatch, 'rgroup', params).then((res) => ({\n          values: res.values,\n          type: 'rlabel'\n        }))\n      } else {\n        dlg = openDialog(\n          dispatch,\n          !elem.pseudo ? 'period-table' : 'extended-table',\n          { ...elem, pseudo: elem.pseudo }\n        )\n      }\n      return dlg.then(toElement)\n    },\n\n    // TODO: correct\n    onEnhancedStereoEdit: ({ ...init }) =>\n      sleep(0).then(() => {\n        init = fromStereoLabel(init.stereoLabel)\n        return openDialog(dispatch, 'enhancedStereo', {\n          init\n        }).then(\n          (res) => toStereoLabel(res),\n          () => null\n        )\n      }),\n\n    onQuickEdit: (atom) => openDialog(dispatch, 'labelEdit', atom),\n    onBondEdit: (bonds) => {\n      const bondsAttributes = generateCommonProperties(bonds, bonds[0])\n      return openDialog(dispatch, 'bondProps', fromBond(bondsAttributes)).then(\n        toBond\n      )\n    },\n    onRgroupEdit: (rgroup) => {\n      const struct = getState().editor.struct()\n\n      if (Object.keys(rgroup).length > 2) {\n        const rgroupLabels = Array.from(struct.rgroups.keys())\n        if (!rgroup.range) rgroup.range = '>0'\n\n        return openDialog(\n          dispatch,\n          'rgroupLogic',\n          Object.assign({ rgroupLabels }, rgroup)\n        )\n      }\n\n      const disabledIds = Array.from(struct.atoms.values()).reduce(\n        (acc, atom) => {\n          if (atom.fragment === rgroup.fragId && atom.rglabel !== null)\n            return acc.concat(fromElement(atom).values)\n\n          return acc\n        },\n        []\n      )\n      const params = {\n        type: 'fragment',\n        values: [rgroup.label],\n        disabledIds\n      }\n      return openDialog(dispatch, 'rgroup', params).then((res) => ({\n        label: res.values[0]\n      }))\n    },\n    onSgroupEdit: (sgroup) =>\n      sleep(0) // huck to open dialog after dispatch sgroup tool action\n        .then(() => openDialog(dispatch, 'sgroup', fromSgroup(sgroup)))\n        .then(toSgroup),\n    onRemoveFG: (result) =>\n      sleep(0).then(() => openDialog(dispatch, 'removeFG', result)),\n    onMessage: (msg) => {\n      if (msg.error) {\n        // TODO: add error handler call\n      }\n    },\n    onAromatizeStruct: (struct) => {\n      const state = getState()\n      const serverOpts = state.options.getServerSettings()\n      return serverCall(\n        state.editor,\n        state.server,\n        'aromatize',\n        serverOpts,\n        struct\n      ).catch((e) => state.editor.errorHandler(e))\n    },\n    onDearomatizeStruct: (struct) => {\n      const state = getState()\n      const serverOpts = state.options.getServerSettings()\n      return serverCall(\n        state.editor,\n        state.server,\n        'dearomatize',\n        serverOpts,\n        struct\n      ).catch((e) => state.editor.errorHandler(e))\n    },\n    onMouseDown: () => {\n      updateAction()\n    },\n    onConfirm: () => openDialog(dispatch, 'confirm'),\n    onShowInfo: (payload) => {\n      if (payload) {\n        const { groupStruct, event, sGroup } = payload\n        highlightFG(dispatch, { groupStruct, event, sGroup })\n      } else {\n        highlightFG(dispatch, { groupStruct: null, sGroup: null })\n      }\n    },\n    onApiSettings: (payload) => dispatch(saveSettings(payload))\n  }\n}\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { StructEditor } from './components'\nimport { connect } from 'react-redux'\nimport initEditor from '../state/editor'\n\nconst Editor = connect(\n  (state) => ({\n    options: state.options.settings,\n    indigoVerification: state.requestsStatuses.indigoVerification\n  }),\n  (dispatch) => dispatch(initEditor)\n)(StructEditor)\n\nexport default Editor\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  BottomToolbarContainer,\n  LeftToolbarContainer,\n  RightToolbarContainer,\n  TopToolbarContainer\n} from '../views/toolbars'\nimport { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { createTheme, ThemeProvider } from '@mui/material'\nimport AppClipArea from '../views/AppClipArea'\nimport { AppHiddenContainer } from './AppHidden'\nimport AppModalContainer from '../views/modal'\nimport Editor from '../views/Editor'\nimport classes from './App.module.less'\nimport { initFGTemplates } from '../state/functionalGroups'\nimport { initSaltsAndSolventsTemplates } from '../state/saltsAndSolvents'\nimport { useSubscriptionOnEvents } from '../../../hooks'\n\ninterface AppCallProps {\n  checkServer: () => void\n}\n\nconst muiTheme = createTheme({\n  components: {\n    MuiButtonBase: {\n      defaultProps: {\n        disableRipple: true\n      }\n    }\n  }\n})\n\ntype Props = AppCallProps\n\nconst App = (props: Props) => {\n  const dispatch = useDispatch()\n  const { checkServer } = props\n\n  useSubscriptionOnEvents()\n\n  useEffect(() => {\n    checkServer()\n    dispatch(initFGTemplates())\n    dispatch(initSaltsAndSolventsTemplates())\n    window.scrollTo(0, 0)\n  }, [])\n\n  return (\n    <ThemeProvider theme={muiTheme}>\n      <div className={classes.app}>\n        <AppHiddenContainer />\n        <Editor className={classes.canvas} />\n\n        <TopToolbarContainer className={classes.top} />\n        <LeftToolbarContainer className={classes.left} />\n        <BottomToolbarContainer className={classes.bottom} />\n        <RightToolbarContainer className={classes.right} />\n\n        <AppClipArea />\n        <AppModalContainer />\n      </div>\n    </ThemeProvider>\n  )\n}\n\nexport type { AppCallProps }\nexport { App }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { App, AppCallProps } from './App'\n\nimport { checkServer } from '../state/server'\nimport { connect } from 'react-redux'\n\nconst mapDispatchToProps: AppCallProps = {\n  checkServer\n}\n\nconst AppContainer = connect(null, mapDispatchToProps)(App)\n\nexport { AppContainer }\nexport default AppContainer\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { AppContext, ErrorsContext, SettingsContext } from './../../../contexts'\nimport { Ketcher, StructService } from 'ketcher-core'\n\nimport App from './App.container'\nimport { Provider } from 'react-redux'\nimport { createRoot } from 'react-dom/client'\nimport createStore from '../state'\nimport { initKeydownListener } from '../state/hotkeys'\nimport { initResize } from '../state/toolbar'\n\nfunction initApp(\n  element: HTMLDivElement | null,\n  staticResourcesUrl: string,\n  options: any,\n  server: StructService,\n  setEditor: (editor: any) => void\n) {\n  const store = createStore(options, server, setEditor)\n  store.dispatch(initKeydownListener(element))\n  store.dispatch(initResize())\n\n  const root = createRoot(element!)\n  root.render(\n    <Provider store={store}>\n      <SettingsContext.Provider value={{ staticResourcesUrl }}>\n        <ErrorsContext.Provider value={{ errorHandler: options.errorHandler }}>\n          <AppContext.Provider\n            value={{\n              getKetcherInstance: () => (window as any).ketcher as Ketcher\n            }}\n          >\n            <App />\n          </AppContext.Provider>\n        </ErrorsContext.Provider>\n      </SettingsContext.Provider>\n    </Provider>\n  )\n}\n\nexport { initApp }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport {\n  DefaultStructServiceOptions,\n  FormatterFactory,\n  Ketcher,\n  ServiceMode,\n  StructService,\n  StructServiceProvider\n} from 'ketcher-core'\n\nimport { ButtonsConfig } from './ButtonsConfig'\nimport { Editor } from '../../editor'\nimport createApi from '../../api'\nimport { initApp } from '../../ui'\n\nclass KetcherBuilder {\n  private structService: StructService | null\n  private editor: Editor | null\n  private serviceMode: ServiceMode | null\n  private formatterFactory: FormatterFactory | null\n\n  constructor() {\n    this.structService = null\n    this.editor = null\n    this.serviceMode = null\n    this.formatterFactory = null\n  }\n\n  async appendApiAsync(structServiceProvider: StructServiceProvider) {\n    this.structService = createApi(\n      structServiceProvider,\n      DefaultStructServiceOptions\n    )\n  }\n\n  appendServiceMode(mode: ServiceMode) {\n    this.serviceMode = mode\n  }\n\n  async appendUiAsync(\n    element: HTMLDivElement | null,\n    staticResourcesUrl: string,\n    errorHandler: (message: string) => void,\n    buttons?: ButtonsConfig\n  ): Promise<void> {\n    const { structService } = this\n\n    const editor = await new Promise<Editor>((resolve) => {\n      initApp(\n        element,\n        staticResourcesUrl,\n        {\n          buttons: buttons || {},\n          errorHandler: errorHandler || null,\n          version: process.env.VERSION || '',\n          buildDate: process.env.BUILD_DATE || '',\n          buildNumber: process.env.BUILD_NUMBER || ''\n        },\n        structService!,\n        resolve\n      )\n    })\n\n    this.editor = editor\n    this.editor.errorHandler =\n      errorHandler && typeof errorHandler === 'function'\n        ? errorHandler\n        : // eslint-disable-next-line @typescript-eslint/no-empty-function\n          () => {}\n    this.formatterFactory = new FormatterFactory(structService!)\n  }\n\n  build() {\n    if (!this.serviceMode) {\n      throw new Error('You should append ServiceMode before building')\n    }\n\n    if (!this.structService) {\n      throw new Error('You should append Api before building')\n    }\n\n    if (!this.formatterFactory) {\n      throw new Error(\n        'You should append StructureServiceFactory before building'\n      )\n    }\n\n    const ketcher = new Ketcher(\n      this.editor!,\n      this.structService,\n      this.formatterFactory\n    )\n    ketcher[this.serviceMode] = true\n\n    const params = new URLSearchParams(document.location.search)\n    const initialMol = params.get('moll')\n    if (initialMol) {\n      ketcher.setMolecule(initialMol)\n    }\n\n    return ketcher\n  }\n}\n\nexport { KetcherBuilder }\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport { ButtonsConfig, KetcherBuilder } from './builders'\n\nimport { StructServiceProvider } from 'ketcher-core'\n\ninterface Config {\n  element: HTMLDivElement | null\n  staticResourcesUrl: string\n  structServiceProvider: StructServiceProvider\n  buttons?: ButtonsConfig\n  errorHandler: (message: string) => void\n}\n\nasync function buildKetcherAsync({\n  element,\n  staticResourcesUrl,\n  structServiceProvider,\n  buttons,\n  errorHandler\n}: Config) {\n  const builder = new KetcherBuilder()\n\n  await builder.appendApiAsync(structServiceProvider)\n  builder.appendServiceMode(structServiceProvider.mode)\n  await builder.appendUiAsync(\n    element,\n    staticResourcesUrl,\n    errorHandler,\n    buttons\n  )\n\n  return builder.build()\n}\n\nexport type { Config, ButtonsConfig }\nexport default buildKetcherAsync\n","/****************************************************************************\n * Copyright 2021 EPAM Systems\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n ***************************************************************************/\n\nimport 'intersection-observer'\nimport 'element-closest-polyfill'\nimport 'regenerator-runtime/runtime'\nimport 'url-search-params-polyfill'\nimport 'whatwg-fetch'\nimport './index.less'\n\nimport init, { Config } from './script'\nimport { useEffect, useRef } from 'react'\n\nimport { Ketcher } from 'ketcher-core'\nimport classes from './Editor.module.less'\nimport clsx from 'clsx'\nimport { useResizeObserver } from './hooks'\nimport { KETCHER_INIT_EVENT_NAME } from './constants'\n\nconst mediaSizes = {\n  smallWidth: 1040,\n  smallHeight: 600\n}\n\ninterface EditorProps extends Omit<Config, 'element'> {\n  onInit?: (ketcher: Ketcher) => void\n}\n\nfunction Editor(props: EditorProps) {\n  const rootElRef = useRef<HTMLDivElement>(null)\n  const { onInit } = props\n  const { height, width } = useResizeObserver<HTMLDivElement>({\n    ref: rootElRef\n  })\n\n  const ketcherInitEvent = new Event(KETCHER_INIT_EVENT_NAME)\n\n  useEffect(() => {\n    init({\n      ...props,\n      element: rootElRef.current\n    }).then((ketcher: Ketcher) => {\n      if (typeof onInit === 'function') {\n        onInit(ketcher)\n        window.dispatchEvent(ketcherInitEvent)\n      }\n    })\n    // TODO: provide the list of dependencies after implementing unsubscribe function\n  }, [])\n\n  return (\n    <div\n      ref={rootElRef}\n      className={clsx('Ketcher-root', classes.editor, {\n        [classes.small]:\n          (height && height <= mediaSizes.smallHeight) ||\n          (width && width <= mediaSizes.smallWidth)\n      })}\n    />\n  )\n}\n\nexport { Editor }\n"],"names":["createApi","structServiceProvider","defaultOptions","structService","createStructService","info","Object","assign","bind","convert","layout","clean","aromatize","dearomatize","calculateCip","automap","check","calculate","recognize","generateImageAsBase64","generateInchIKey","appContext","React","createContext","errorsContext","settingsContext","formContext","basicAtoms","atomCuts","H","C","N","O","S","P","F","Cl","Br","I","A","Q","R","K","M","Si","Na","X","D","B","keys","reduce","res","label","concat","toLowerCase","title","shortcut","action","tool","opts","copyAs","type","state","global","currentState","editor","struct","structSelected","errorHandler","serializer","MolSerializer","KetSerializer","simpleObjectOrText","Boolean","simpleObjects","size","texts","structData","serialize","window","clipboardData","setData","navigator","clipboard","writeText","_unused","copyImageToClipboard","_copyImageToClipboard","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","server","options","factory","service","structStr","ketcher","image","item","wrap","_callee$","_context","prev","next","FormatterFactory","create","getStructureFromStructAsync","sent","Ketcher","generateImage","outputFormat","backgroundColor","ClipboardItem","_defineProperty","write","t0","stop","isHidden","buttonName","_options$buttons","_options$buttons$butt","buttons","hidden","debugObj","update","molSerializer","molStr","molQs","encodeURIComponent","replace","qs","document","location","search","ieCb","ClipArea","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","textAreaRef","createRef","_createClass","key","value","componentDidMount","_this2","el","current","target","parentNode","listeners","mouseup","event","isActiveElement","focused","autoselect","mousedown","shiftKey","preventDefault","copy","onCopy","data","cut","onCut","paste","onPaste","formats","forEach","en","addEventListener","shouldComponentUpdate","componentWillUnmount","_this3","removeEventListener","render","_jsx","ref","className","clsx","classes","cliparea","contentEditable","autoFocus","suppressContentEditableWarning","Component","tagName","includes","select","cb","curFmt","fmt","ex","getData","d","actions","exec","enabled","queryCommandSupported","execCommand","ClipboardEvent","code_1","scope_1","codegen_1","util_1","errors_1","rules_1","applicability_1","traverse","equal","dataType_1","boolSchema_1","resolve_1","defaults_1","keyword","keyword_1","subschema","subschema_1","validation_error_1","validate_1","validate","resolve","this","uri","ref_error_1","compile_1","dataType","id_1","ref_1","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","items_1","additionalItems_1","additionalProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","propertyNames_1","dependencies_1","properties_1","patternProperties_1","prefixItems_1","items2020_1","contains_1","format","format_1","applicator_1","metadata_1","types_1","core_1","draft7_1","discriminator_1","resetToSelect","enumNames","rotationStep","minimum","maximum","showValenceWarnings","description","atomColoring","showStereoFlags","stereoLabelStyle","StereLabelStyleType","IUPAC","Classic","On","Off","colorOfAbsoluteCenters","colorOfAndCenters","colorOfOrCenters","colorStereogenicCenters","StereoColoringType","LabelsOnly","BondsOnly","LabelsAndBonds","autoFadeOfStereoLabels","absFlagLabel","andFlagLabel","mixedFlagLabel","ignoreChiralFlag","orFlagLabel","font","fontsz","fontszsub","carbonExplicitly","showCharge","showValence","showHydrogenLabels","values","ShowHydrogenLabels","ShowHydrogenLabelNames","TerminalAndHetero","aromaticCircle","doubleBondWidth","bondThickness","stereoBondWidth","SERVER_OPTIONS","debug","showAtomIds","showBondIds","showHalfBondIds","showLoopIds","miew","miewMode","miewTheme","miewAtomLabel","MIEW_OPTIONS","optionsSchema","required","properties","_objectSpread","getDefaultOptions","prop","validation","settings","_typeof","ajv","Ajv","allErrors","keywords","schemaType","compile","errors","errorsProps","map","instancePath","slice","indexOf","storage","warningMessage","isAvailable","localStorage","getItem","JSON","parse","setItem","isSet","stringify","initOptionsState","app","templates","functionalGroups","saltsAndSolvents","analyse","roundWeight","roundMass","roundElAnalysis","checkOptions","file","fragment","version","getServerSettings","pick","appUpdate","dispatch","saveSettings","newSettings","changeRound","roundName","recognizeActions","setStruct","str","changeVersion","changeImage","shouldFragment","isFrag","checkOpts","optionsReducer","length","undefined","loading","constant","schema","desc","mapOf","oneOf","radioButtonsSchema","contextSchema","sData","Fragment","fieldName","fieldValue","radiobuttons","minLength","invalidMessage","Multifragment","Bond","Atom","Group","sdataCustomSchema","context","sdataSchema","acc","firstKeyOf","obj","getSdataDefault","_schema$properties$co","initSdata","isCustomShema","valid","result","sdataReducer","init","correctErrors","actionContext","actionFieldName","newstate","onContextChange","onFieldNameChange","payload","_state$result","fValue","formsState","atomProps","charge","explicitValence","hCount","invRet","isotope","radical","ringBondCount","substitutionCount","attachmentPoints","primary","secondary","mode","bondProps","topology","center","moleculeErrors","labelEdit","rgroup","rgroupLogic","ifthen","range","resth","save","filename","text","attach","sgroup","updateFormState","checkErrors","setDefaultSettings","formReducer","_action$data","_action$data$result","newType","INDIGO_VERIFICATION","ANALYZING_FILE","indigoVerification","setAnalyzingFile","initialState","isAnalyzingFile","supportedSGroupTypes","MUL","SRU","SUP","DAT","atom","maxLength","alias","pattern","cip","unsaturatedAtom","exactChangeFlag","rgroupSchema","items","bond","mul","subscript","connectivity","name","sgroupMap","minium","attachSchema","DefaultStereoGroupNumber","fromElement","selem","fromRlabel","rglabel","fromAtomList","Elements","get","fromAtom","ap","fromApoint","attpnt","toElement","elem","toRlabel","toAtomList","toApoint","capitalize","toAtom","pseudo","satom","toString","stereoParity","_atom$exactChangeFlag","_atom$unsaturatedAtom","chargeRegexp","RegExp","atomSchema","pch","parseInt","conv","atomList","notList","ids","i","AtomList","number","fromStereoLabel","stereoLabel","match","StereoLabel","Abs","orNumber","andNumber","And","Or","toStereoLabel","sap","rg","rgi","val","push","fromBond","sbond","stereo","fromBondType","reactingCenterStatus","toBond","toBondType","caption","bondCaptionMap","single","PATTERN","TYPE","SINGLE","STEREO","NONE","up","UP","down","DOWN","updown","EITHER","DOUBLE","crossed","CIS_TRANS","triple","TRIPLE","aromatic","AROMATIC","singledouble","SINGLE_OR_DOUBLE","singlearomatic","SINGLE_OR_AROMATIC","doublearomatic","DOUBLE_OR_AROMATIC","any","ANY","hydrogen","HYDROGEN","dative","DATIVE","fromSgroup","ssgroup","_ssgroup$attrs","attrs","absolute","attached","split","sDataInitValue","toSgroup","_objectWithoutProperties","_excluded","trim","isFlipDisabled","selection","restruct","ctab","_selection$bonds","bonds","_selection$atoms","atoms","getBondIdsForAttachmentAtoms","_iterator","_createForOfIteratorHelper","_step","s","n","done","atomId","atomBondIds","getConnectedBondIds","molecule","_iterator2","_step2","atomBondId","isAttachmentBond","b","err","e","f","getAmountOfAttachmentBonds","amountOfAttachmentBonds","totalBondIds","Set","_toConsumableArray","_iterator3","_step3","bondId","toolActions","hand","erase","chain","disabled","findStereoAtoms","Array","from","transforms","arrows","RxnArrowMode","OpenAngle","FilledTriangle","FilledBow","DashedOpenAngle","Failed","BothEndsFilledTriangle","EquilibriumFilledHalfBow","EquilibriumFilledTriangle","EquilibriumOpenAngle","UnbalancedEquilibriumFilledHalfBow","UnbalancedEquilibriumOpenHalfAngle","UnbalancedEquilibriumLargeFilledHalfBow","UnbalancedEquilibriumFilledHalfTriangle","EllipticalArcFilledBow","EllipticalArcFilledTriangle","EllipticalArcOpenAngle","EllipticalArcOpenHalfAngle","shapes","SimpleObjectMode","ellipse","rectangle","line","bondCuts","typeSchema","bondSchema","KETCHER_INIT_EVENT_NAME","KETCHER_SAVED_SETTINGS_KEY","MODES","FG","STRUCT_TYPE","SettingsManager","getSettings","_this$getSettings","selectionTool","set","onAction","dialog","thunk","parseStruct","_options","rescale","formatterOptions","identifyStructFormat","SupportedFormat","cdx","getStructureFromStringAsync","Promise","removeStructAction","savedSelectedTool","tools","load","_ref","getState","parsedStruct","_options2","hasUnsupportedGroups","oldStruct","stereAtomsMap","sgroups","some","sGroup","confirm","filter","_key","clone","sg","sgId","offset","SGroup","getOffset","atomSet","Pile","crossBonds","getCrossBonds","bracketPos","updateOffset","findConnectedComponents","setImplicitHydrogen","getStereoAtomsMap","id","_parsedStruct$atomGet","atomGetNeighbors","stereoProp","markFragments","isBlank","message","emitEventRequestIsFinished","finish","_x","_x2","checkServer","_getState","then","indigoVersion","imagoVersions","rec","process","ketcherCheck","checkParams","isAbs","frags","fr","enhancedStereoFlag","chiral_flag","badVal","badConn","valence","optsTypes","_getState2","ketcherErrors","types","without","serverCall","serverTransform","_getState3","serverSettings","method","loadedStruct","deserialize","reactionRelayout","selectedAtoms","aidMap","Map","currentStruct","explicitSelected","aid","ketSerializer","output_format","ChemicalMimeType","KET","selected","omit","config","arom","dearom","_options$app$imagoVer","templateLib","tab","_tool","zoomList","zoom","findLastIndex","z","findIndex","openHelpLink","_window$open","open","focus","help","functionalGroupsLib","_","__","requestFullscreen","element","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","getIfFullScreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","toggleFullscreen","querySelector","documentElement","fullscreen","clear","undo","historySize","redo","dontClipMessage","hasSelection","copies","active","about","hasRxnArrow","toolbar","visibleTools","alignDescriptors","icons","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω","Å","AngstromIcon","DegreeIcon","ħ","PlanckDiracConstantIcon","PlusMinusIcon","PromilleIcon","RootIcon","LeftArrowIcon","RightArrowIcon","LeftArrowCrossedOutIcon","RightArrowCrossedOutIcon","LeftAndRightArrowIcon","CapitalPiIcon","SumIcon","InfinityIcon","PartialDerivativeIcon","DeltaIcon","IntegralIcon","ApproximatelyEqualIcon","NotEqualIcon","LessOrEqualIcon","MoreOrEqualIcon","DegreeFahreinheitIcon","DegreeCelseusIcon","AboutIcon","AnalyseIcon","AnyAtomIcon","AromIcon","ArrowUpwardIcon","BondAnyIcon","BondAromaticIcon","BondCrossedIcon","BondHydrogenIcon","BondDative","BondDoubleIcon","BondDoubleAromaticIcon","BondDownIcon","BondSingleIcon","BondSingleAromaticIcon","BondSingleDoubleIcon","BondTripleIcon","BondUpIcon","BondUpdownIcon","CapitalTIcon","ChainIcon","ChargeMinusIcon","ChargePlusIcon","CheckIcon","ChiralFlagIcon","CipIcon","CleanIcon","CopyIcon","CopyImageIcon","CopyMolIcon","CopyKetIcon","CutIcon","DearomIcon","DeleteIcon","dropdown","DropdownIcon","EnhancedStereoIcon","edit","EditIcon","ElementsGroupIcon","ExtendedTableIcon","EraseIcon","FileThumbnailIcon","FullscreenEnterIcon","FullscreenExitIcon","GenericGroupsIcon","HandIcon","compressedhand","CompressedHandIcon","HelpIcon","history","HistoryIcon","ImageFrameIcon","LayoutIcon","logo","LogoIcon","MiewIcon","ClearIcon","OpenIcon","PasteIcon","PeriodTableIcon","ReactionArrowEllipticalArcArrowFilledBow","ReactionArrowEllipticalArcArrowFilledTriangle","ReactionArrowEllipticalArcArrowOpenAngle","ReactionArrowEllipticalArcArrowOpenHalfAngle","ReactionArrowOpenAngleIcon","ReactionArrowFilledTriangle","ReactionArrowFilledBow","ReactionArrowDashedOpenAngle","ReactionArrowFailed","ReactionArrowBothEndsFilledTriangle","ReactionArrowEquilibriumFilledHalfBow","ReactionArrowEquilibriumFilledTriangle","ReactionArrowEquilibriumOpenAngle","ReactionArrowUnbalancedEquilibriumFilledHalfBow","ReactionArrowUnbalancedEquilibriumOpenHalfAngle","ReactionArrowUnbalancedEquilibriumLargeFilledHalfBow","ReactionArrowUnbalancedEquilibriumFilledHalfTriangle","ReactionAutomapIcon","ReactionMapIcon","ReactionPlusIcon","ReactionUnmapIcon","RecognizeIcon","RedoIcon","RgroupAttpointsIcon","RgroupFragmentIcon","RgroupLabelIcon","SaveIcon","SearchIcon","SelectFragmentIcon","SelectLassoIcon","SelectRectangleIcon","SettingsIcon","SgroupIcon","Template0Icon","Template1Icon","Template2Icon","Template3Icon","Template4Icon","Template5Icon","Template6Icon","Template7Icon","TemplateDialogIcon","TemplateLibIcon","TextIcon","TextBold","TextItalic","TextSubscript","TextSuperscript","TransformFlipHIcon","TransformFlipVIcon","TransformRotateIcon","UndoIcon","ZoomInIcon","ZoomOutIcon","ShapeEllipseIcon","ShapeRectangleIcon","ShapePolylineIcon","ShapeLineIcon","NotFoundIcon","Save1Icon","Open1Icon","reset","ResetIcon","close","CloseIcon","general","GeneralIcon","GeneralWhiteIcon","StereoIcon","StereoWhiteIcon","AtomsIcon","AtomsWhiteIcon","BondsIcon","BondsWhiteIcon","ServerIcon","ServerWhiteIcon","ThreeDViewerIcon","ThreeDViewerWhiteIcon","debugging","DebuggingIcon","DebuggingWhiteIcon","DropdownIndicatorIcon","TextSpecialSymbolsIcon","chevron","ChevronIcon","OpenWindowPasteIcon","OpenWindowUploadIcon","emptyIcon","findIconByName","hasOwnProperty","component","Icon","shortcutAliasMap","Escape","Delete","Mod","isMacOs","shortcutStr","shortcutKey","isArray","toUpperCase","ActionButton","_props$status","status","_props$selected","disableableButtons","handleClick","_jsxs","onClick","button","children","CLASSNAME_SEPARATOR","Portal","createElement","isElementInDom","isOpen","addElementInDOM","_this$props","style","addClassName","updateStyle","removeElementFromDOM","componentDidUpdate","prevProps","_this$props2","removeClassNames","_document$querySelect","appendChild","_document$querySelect2","removeChild","classNames","classList","remove","add","prevStyle","_this4","property","ReactDOM","createPortal","DefaultMultiTool","toolbarItem","currentStatus","GroupedMultiTool","groups","_Fragment","descriptor","group","start","end","chooseMultiTool","variant","defaultClasses","Error","usePortalOpening","_ref2","_slicedToArray","opened","_useState","useState","_useState2","setIsOpen","useEffect","currentId","newState","usePortalStyle","portalStyle","setPortalStyle","editorRect","getBoundingClientRect","top","left","menuItemRect","spaceBetween","width","ToolbarMultiToolItem","vertical","onOpen","useRef","_usePortalOpening","_usePortalOpening2","_usePortalStyle","_usePortalStyle2","selectedTool","find","_status$toolbarItem$i","allInnerItemsHidden","every","option","_status$option$id","displayMultiToolItem","_options$filter$","savedSelectionTool","savedSelectionToolId","_status$option$id2","_options$filter$2","_status$option$id3","actionButtonProps","onOpenOptions","_chooseMultiTool","_chooseMultiTool2","portalClassName","root","icon","iconSelected","portal","ToolbarGroupItem","_status$id","TemplatesList","isTemplate","makeAction","index","BottomToolbar","rest","initLib","lib","initTmplLib","baseUrl","cacheEl","deserializeSdfTemplates","userTmpls","fileName","sdfSerializer","SdfSerializer","tmpls","templatesRawData","prefetch","prefetchRender","cachedFiles","tmpl","pr","prefetchSplit","prerender","userLib","prefetchStatic","url","fetch","credentials","resp","ok","files","all","fn","svgs","svgContent","innerHTML","openDialog","dialogName","reject","onResult","onCancel","modalReducer","formState","form","selectTmpl","changeGroup","changeFilter","changeTab","initAttach","atomid","bondid","setAttachPoints","setTmplName","editTmpl","formData","updateLocalStore","deleteUserTmpl","deleteTmpl","saveUserTmpl","initTmplsState","tmplActions","attachActions","templatesReducer","execute","activeTool","actObj","isEqual","_ref3","_ref4","actionName","params","pickBy","x","_ref5","isEmpty","fileOpener","FileReader","throughFileReader","ActiveXObject","fso","throughFileSystemObject","isCDX","endsWith","rd","onload","content","msClose","onerror","readAsDataURL","readAsText","fd","OpenTextFile","ReadAll","Close","GREEK_SIMBOLS","Alpha","alpha","Beta","beta","Gamma","gamma","greekRe","join","greekify","sym","filterLib","trimmedFilter","re","escapeRegExp","flow","_filter","test","filterFGLib","searchFunction","fields","abbreviation","field","getSelectOptionsFromSchema","_schema$enumNames$ind","_schema$enumNames","memoizedDebounce","func","delay","skipArguments","lastArgs","debouncedFunction","debounce","getArgumentsToCompare","args","lastArgsToCompare","_len","argsToCompare","showTooltipTimer","TOOLTIP_DELAY","makeStruct","existingStruct","Struct","atomsIdMapping","atomIdInTooltip","_value","clonedBond","isInsideSGroup","begin","hideTooltip","showInfo","clearTimeout","showTooltip","infoPanelData","setTimeout","setFunctionalGroupsTooltip","isShow","checkFunctionGroupTypes","closestCollapsibleStructures","findItem","_editor$struct","expanded","hovering","groupName","groupStruct","functionalGroupInfo","functionalGroupsReducer","initFGroups","highlightFGroup","notDebouncedHighlightFG","highlightFG","initFGTemplates","provider","FunctionalGroupsProvider","getInstance","setFunctionalGroupsList","saltsAndSolventsReducer","initSaltsAndSolvents","initSaltsAndSolventsTemplates","saltsAndSolventsProvider","functionalGroupsProvider","SaltsAndSolventsProvider","String","setSaltsAndSolventsList","addToFunctionalGroupsList","initial","freqAtoms","currentAtom","MAX_ATOMS","updateVisibleTools","visibleTool","regExp","menuHeight","innerHeight","initResize","onResize","throttle","actionState","toolInMenu","addFreqAtom","correctTools","isSelected","menuName","addAtoms","atomLabel","toolName","sel","getElementById","hiddenAncestor","base","body","findEl","getComputedStyle","overflow","contains","shared","combineReducers","actionStateReducer","toolbarReducer","modal","store","requestsStatuses","requestReducer","getRootReducer","setEditor","sh","finalState","restOptions","_excluded2","initState","middleware","rootReducer","createStore","applyMiddleware","mapStateToProps","mapDispatchToProps","BottomToolbarContainer","connect","makeItems","bondCommon","bondStereo","bondQuery","bondSpecial","groupOptions","flat","groupDescriptors","accum","_accum","rGroupOptions","shapeOptions","transformOptions","selectOptions","arrowsOptions","mappingOptions","useSettingsContext","useContext","SettingsContext","throttleMilliseconds","useThrottleResizeObserver","height","setSize","useMemo","_useResizeObserver","useResizeObserver","useFormContext","FormContext","useAppContext","AppContext","useInterval","callback","savedCallback","setInterval","clearInterval","useSubscriptionOnEvents","useDispatch","_useAppContext","getKetcherInstance","loadingHandler","actionResultHandler","subscribe","eventBus","addListener","KetcherAsyncEvents","LOADING","SUCCESS","FAILURE","unsubscribe","removeListener","subscribeOnInit","unsubscribeOnUnMount","ArrowScroll","startInView","endInView","scrollUp","scrollDown","isScrollDown","setScrollDown","_useState3","_useState4","isScrollUp","setScrollUp","scroll","onMouseUp","onMouseDown","mediaSizes","topSeparatorsShowingWidth","bondCollapsableHeight","rGroupCollapsableHeight","shapeCollapsableHeight","transformCollapsableHeight","RGroup","Shape","Transform","LeftToolbar","_scrollRef$current","scrollRef","_useInView","useInView","threshold","_useInView2","startRef","_useInView3","_useInView4","endRef","sizeRef","Item","scrollTop","offsetHeight","visibleItems","_status$item$id","_item$options","visible","_createElement","listener","groupItem","scrollHeight","LeftToolbarContainer","names","StyledAtom","styled","_props$el","atomColor","ElementColor","AtomsList","forwardRef","isAtom","RightToolbar","atomsList","RightToolbarContainer","Button","MuiButton","_templateObject","_taggedTemplateLiteral","IconButton","iconName","_ref$isHidden","_ref$disabled","combinedTitle","FileControls","onFileOpen","onSave","shortcuts","hiddenButtons","ElementAndDropdown","DropDownContent","_templateObject2","DropDownButton","_templateObject3","DropDownArrow","_templateObject4","MenuItemWithDropdown","topElement","dropDownElements","onToolOpen","isExpanded","setIsExpanded","collapse","expand","Collapse","timeout","unmountOnExit","ClickAwayListener","onClickAway","ElementWithDropdown","ClipboardControls","onCopyMol","onCopyKet","onCopyImage","disabledButtons","copyButtons","handler","getButtonElement","firstButtonObj","collapsibleElements","VerticalDivider","Divider","UndoRedo","onUndo","onRedo","StyledInput","onFocusHandler","updateInputString","inputElement","ZoomInput","onZoomSubmit","currentZoom","inputRef","inputEl","activeElement","onKeyDown","useCallback","zoomShortcuts","nativeEvent","stopImmediatePropagation","onFocus","ZoomLabel","Dropdown","Popover","_templateObject5","ZoomControlButton","_templateObject6","ShortcutLabel","_templateObject7","getIntegerFromString","zoomInput","zoomNumber","isNaN","getValidZoom","minAllowed","Math","min","maxAllowed","max","ZoomControls","onZoom","onZoomIn","onZoomOut","containerRef","userInput","zoomToSet","onClose","reason","onExpand","resetZoom","round","anchorEl","container","anchorOrigin","horizontal","ControlsPanel","SystemControls","onSettingsOpen","onFullscreen","onHelp","onAboutOpen","ExternalFuncControls","isCollapsed","onLayout","onClean","onAromatize","onDearomatize","onCalculate","onCheck","onAnalyse","onMiew","externalFuncButtons","collapseLimit","TopToolbar","onClear","onAbout","resizeRef","_useResizeObserver$wi","onHistoryClick","_action$key","processedShortcut","_state$actionState","_state$actionState$zo","_actionState$item","_actionState$item2","dispatchAction","zoomValue","TopToolbarContainer","mac","platform","normalizeKeyName","parts","alt","ctrl","shift","meta","mod","normalizeKeyMap","modifiers","altKey","ctrlKey","metaKey","rusToEng","KN","keyCode","normalizeKeyEvent","keyName","isChar","keyNorm","KeyboardEvent","lookup","baseName","getElementsInRectangle","p0","p1","bondList","sGroups","x0","x1","y0","y","y1","bid","centre","Vec2","lc2","a","pp","FunctionalGroup","isBondInContractedFunctionalGroup","relatedFGId","findFunctionalGroupByAtom","isAtomInContractedFunctionalGroup","rxnArrowsList","rxnPlusesList","simpleObjectsList","rxnArrows","rxnPluses","referencePoints","getReferencePoints","referencePointInRectangle","point","enhancedFlagList","enhancedFlags","sgroupDataList","sgroupData","textsList","getElementsInPolygon","rr","r","isPointInPolygon","referencePointInPolygon","p","rotate","PI","v0","diff","n0","dot","d0","w0","counter","eps","flag1","flag0","v1","w1","n1","d1","abs","inRectangle","inPolygon","LassoHelper","getSelection","rnd","locate","points","page2obj","running","addPoint","dp","Scale","obj2scaled","selectionPolygon","selectionRectangle","ret","cancel","calcAngle","pos0","pos1","v","atan2","calcNewAtomPos","fracAngle","add_","degrees","angle","degree","BONDS_MERGE_ANGLE","BONDS_MERGE_SCALE","mergeBondsParams","struct1","bond1","struct2","bond2","begin1","begin2","end1","end2","mergeAngle","scale","dist","merged","inRange","cross","getOnlyNonGroupItems","_items$atoms","_items$bonds","getGroupIdFromAtomId","getGroupIdFromBondId","getNonGroupItemsAndAttachmentPoints","_items$atoms2","_items$bonds2","isAttachmentPointAtom","_bondProps","WeakMap","AtomTool","_classPrivateFieldInitSpec","writable","_classPrivateFieldSet","editorSelection","fromAtomsAttrs","isNotActiveTool","_ElementColor$atomPro","hoverIcon","show","fill","updatePosition","_molecule$sgroups$get","_this$editor$render$c","hover","eventMaps","ci","fgId","removeFG","fgIds","ciFunctionalGroupName","isSaltOrSolvent","dragCtx","mousemove","_this$editor","_this$editor$render","reStruct","perform","hide","attachmentAtomId","getAttAtomId","utils","newAtomPos","fromBondAddition","_classPrivateFieldGet","_this$editor2","_this$editor2$render","_this$editor2$render$","Action","mergeWith","fromAtomAddition","isContractedFunctionalGroup","atomsToDelete","getAtoms","bondsToDelete","getBonds","fromSgroupDeletion","fromFragmentDeletion","atomsInFunctionalGroup","atomLongtapEvent","_dragCtx$item","fgs","quickEdit","newatom","xy0","stopTapping","searchMaps","SGroupTool","lassoHelper","checkSelection","_this$editor$selectio","newSelected","actualSgroupId","atomsResult","extraAtoms","_struct$atoms$get","atomFromStruct","sgs","isAtomInContractedSGroup","_newSelected$atoms","_newSelected$bonds","sgroupAtoms","sgroupBonds","sgroupDialog","atomResult","bondResult","_struct$atoms$get2","_struct$bonds$get","bondsInFunctionalGroup","bondFromStruct","isBondInContractedSGroup","isFunctionalGroup","_iterator4","_step4","_iterator5","_step5","findFunctionalGroupByBond","mouseleave","_selection","_selection2","_selection2$bonds","bondsResult","extraBonds","_iterator6","_step6","_struct$atoms$get3","_iterator7","_step7","_struct$sgroups$get","_struct$sgroups$get2","_newSelected$atoms2","_newSelected$bonds2","_iterator8","_step8","_struct$bonds$get2","_struct$sgroups$get3","_newSelected$atoms3","_struct$sgroups$get4","_newSelected$bonds3","_iterator9","_step9","_iterator10","_step10","selMerge","isAtomsOrBondsSelected","getAttrs","getContextBySgroup","getContextBySelection","sgroupEdit","newSg","checkOverlapping","error","isDataSg","fromSeveralSgroupAddition","expandSGroupWithMultipleAttachmentPoint","fromContextType","sgAtoms","SgContexts","manyComponentsSelected","singleComponentSelected","sgBonds","has","anyChainedBonds","allBondsSelected","currSelection","sourceAtoms","TYPES","fromSgroupAction","fixedBond","j","countOfSelectedComponents","connectedComponents","isSuperset","getGroupIdsFromItemArrays","groupsIds","groupId","getGroupIdsFromItemMaps","mergeMaps","mergeMapOfItemsToSet","dropAndMerge","mergeItems","resizeCanvas","_editor$selection$bon","_editor$selection","_dropItemAction","isMerging","dropItemAction","expandGroupsAction","getExpandGroupsInMergeAction","atomToFunctionalGroup","_extractAttachmentAto","extractAttachmentAtom","_extractAttachmentAto2","newMergeItems","extractAttachmentAtomAction","fromItemsFuse","rebond","ReBond","bondRecalc","operations","groupsInMerge","setExpandSGroup","_mergeItems$atomToFun","functionalGroupId","srcAtomId","castAtomPropToType","typesMapping","Number","updateOnlyChangedProperties","unchangedElement","userChangedElement","updatedKeys","getOwnPropertyNames","updatedElement","isAtomsArray","selectedElements","updateSelectedAtoms","changeAtomPromise","userChangedAtom","unchangedAtom","atomWithChangedProperties","updateSelectedBonds","changeBondPromise","userChangedBond","unchangedBond","bondWithChangedProperties","fromBondsAttrs","hasAtomsOutsideCanvas","canvasSize","sz","xSize","ySize","filterNotInCollapsedSGroup","itemsToFilter","_itemsToFilter$atoms$","_itemsToFilter$atoms","_itemsToFilter$bonds$","_itemsToFilter$bonds","isNotCollapsedSGroup","checkAttr","_mode","_lassoHelper","SelectTool","isSelectionRunning","isMousedDown","getMapsForClosestItem","selectedSgroups","getNewSelectedItems","closestToSel","frag","fragGetAtoms","fragGetBonds","rgroups","_atoms$get","shouldDisplayDegree","neighbors","pos","getResizingProps","fromSimpleObjectResizing","fromArrowResizing","expSel","fromMultipleMove","sub","visibleSelectedItems","getItemsToFuse","getHoverToFuse","maps","_this$dragCtx","_this$dragCtx2","possibleSaltOrSolvent","isDraggingSaltOrSolventOnStructure","isDraggingCustomSgroupOnStructure","isSuperAtom","isDraggingStructureOnSaltOrSolvent","preventSaltAndSolventsMerge","shouldResizeCanvas","selectElementsOnCanvas","clientArea","rotateController","rerender","dblclick","getSelectedAtoms","elementEdit","getSelectedBonds","bondEdit","fromTextDeletion","fromTextUpdating","elements","isDraggingOnSaltOrSolventAtom","isDraggingOnSaltOrSolventBond","mergeAtoms","mergeBonds","sgroupsOnCanvas","isAtomInSaltOrSolvent","isBondInSaltOrSolvent","_isCloseToEdgeOfCanva","isCloseToEdgeOfCanvas","isCloseToLeftEdgeOfCanvas","isCloseToTopEdgeOfCanvas","isCloseToRightEdgeOfCanvas","isCloseToBottomEdgeOfCanvas","_isCloseToEdgeOfScree","isCloseToEdgeOfScreen","isCloseToLeftEdgeOfScreen","isCloseToTopEdgeOfScreen","isCloseToRightEdgeOfScreen","isCloseToBottomEdgeOfScreen","_getDirections","getDirections","isMovingLeft","isMovingRight","isMovingTop","isMovingBottom","shiftAndExtendCanvasByVector","isCloseToSomeEdgeOfCanvas","isCloseToEdge","scrollByVector","reversible","uniqArray","mapAtomIdsToAtoms","mapBondIdsToBonds","atomsIds","atomOrReAtom","bondsIds","bondOrReBond","dest","xor","selectFragment","handleHotkeyOverItem","newAction","handleEraser","handleDialog","handleTool","handleOtherActions","eraseItem","hoveredItem","mapItemsToArrays","itemType","isFunctionalGroupChange","hoveredItemId","dialogType","dialogHandler","getDialogHandler","dialogs","handleAtomPropsDialog","handleBondPropsDialog","atomsSelected","convertedAtomForModal","updatedAtom","_ref6","convertedBondForModal","updatedBond","_ref7","_loop","toolHandler","getToolHandler","isChangeStructureTool","_isFunctionalGroupChange","isChangingFunctionalGroup","abrupt","handleAtomTool","handleBondTool","handleChargeTool","rgroupatom","handleRGroupAtomTool","_ref8","_ref9","_default","_ref10","updatedAtoms","_ref11","newBond","_ref12","_editor$render$ctab$a","existingAtom","mappedItems","_x3","_handleRGroupAtomTool","_callee2","_ref13","_callee2$","_context2","fragId","attrlist","getFunctionalGroupIdByItem","_x4","_x5","_isChangingFunctionalGroup","_callee3","_ref14","_callee3$","_context3","initKeydownListener","hotKeys","initHotKeys","keyHandle","removeNotRenderedStruct","actionTool","affectedTools","hotkeyDialogTypes","getHoveredItem","hasOwn","isRotating","revert","checkGroupOnTool","groupLength","newIndex","actName","clipArea","getCurrentAction","isIE","prevActName","_actions$prevActName","ctabItem","_ret","setHotKey","act","rxnTextPlain","initClipboard","formatProperties","mime","debAction","loadStruct","clipData","Mol","Rxn","ket","isReaction","AppClipArea","AppHidden","onInitTmpls","_useSettingsContext","staticResourcesUrl","requestIdleCallback","display","AppHiddenContainer","smallWidth","smallHeight","Dialog","_props$result","_props$valid","_props$buttons","headerContent","footerContent","buttonsNameMap","_props$needMargin","needMargin","_props$withDivider","withDivider","_props$focusable","focusable","dialogRef","useLayoutEffect","_dialogRef$current","_dialogRef$current$cl","closest","getElementsByClassName","isButtonOk","exit","keyDown","activeTextarea","stopPropagation","role","onSubmit","tabIndex","styles","header","btnContainer","buttonTop","closeButton","withMargin","footer","LoadingCircles","SELECTION_DISTANCE_COEFFICIENT","SELECTION_WITHIN_TEXT","findMaps","findClosestAtom","findClosestBond","findClosestEnhancedFlag","findClosestDataSGroupData","findClosestSGroup","findClosestFG","findClosestRxnArrow","findClosestRxnPlus","findClosestFrag","findClosestRGroup","findClosestSimpleObject","findClosestText","rectangleContainsPoint","startX","startY","cursorPosition","minDist","topX","topY","bottomX","bottomY","distances","refPoint","simpleObject","calcDistance","skip","closestAtom","maxMinDist","skipId","closestBond","closestBondCenter","minCDist","p2","mid","cdist","hitboxPoints","getSelectionPoints","position","isPosInsidePolygon","isInsidePolygon","hb","halfBonds","hb1","dir","norm","inStripe","_minDist","stereoFlagPosition","getDefaultStereoFlagPosition","box","dataArea","inBox","xDist","rgid","labelBox","rxnArrow","plus","sgid","functionalGroup","firstSgroupAtom","bracketDir","rotateSC","pg","areas","entries","_step$value","reSGroupId","reSGroup","_reSGroup$getTextHigh","getTextHighlightDimensions","_Scale$obj2scaled","centerX","centerY","rectangleCenter","findClosestItem","priorityItem","closestItem","mp","enrichedItem","findCloseMerge","atomPosition","mergeAtomToAtom","mergeAtomToFunctionalGroup","srcId","closestFunctionalGroup","merge","customOnChangeHandler","reverse","operation","op","_inverted","OperationType","ATOM_ADD","ATOM_DELETE","toFixed","ATOM_ATTR","attribute","to","data2","ATOM_MOVE","BOND_ADD","BOND_DELETE","FRAGMENT_ADD","FRAGMENT_DELETE","frid","FRAGMENT_ADD_STEREO_ATOM","FRAGMENT_DELETE_STEREO_ATOM","S_GROUP_ATOM_ADD","S_GROUP_ATOM_REMOVE","sGroupId","S_GROUP_CREATE","S_GROUP_DELETE","RXN_ARROW_ADD","RXN_ARROW_DELETE","RXN_ARROW_RESIZE","RXN_ARROW_MOVE","R_GROUP_FRAGMENT","SIMPLE_OBJECT_ADD","SIMPLE_OBJECT_DELETE","SIMPLE_OBJECT_RESIZE","SIMPLE_OBJECT_MOVE","APointTool","click","AttachTool","attachPoints","_molecule$atoms$get","attachEdit","BondTool","getAttachmentAtomIdBySGroupId","_endAtom2","beginAtom","endAtom","beginPos","endPos","closestSGroup","closestAttachmentAtomId","isBeginFunctionalGroupItself","fGroupId","fGroup","fGroupAtoms","_endAtom","MAX_VALUE","xy1","get_xy0","_this$getExistingBond","getExistingBond","_this$getExistingBond2","existingBondId","existedBond","fromOneBondDeletion","restoreBondWhenHoveringOnCanvas","xy","bondAddition","sum","bondChangingAction","isHoveringOverAtom","_this$dragCtx$existed","bondEnd","_step4$value","alreadyHasBondInOtherDirection","ChainTool","sectCount","ceil","_fromChain","fromChain","_fromChain2","newItems","ChargeTool","_molecule$atoms$get2","_molecule$atoms$get3","EnhancedStereoTool","stereoAtoms","changeAtomsStereoAction","stereoLabels","stereoAtom","hasAnotherLabel","enhancedStereoEdit","fromStereoFlagUpdate","EraserTool","preResult","_sgroups$get","_restruct$atoms$get","_restruct$bonds$get","fromOneAtomDeletion","fromArrowDeletion","fromPlusDeletion","fromSimpleObjectDeletion","HandTool","lastEvent","clientX","clientY","cursor","begPos","scaled","translate","mouseover","mouseLeaveClientArea","PasteTool","_struct$functionalGro","isSingleContractedGroup","isSingleGroup","_rnd$clientArea","clientHeight","clientWidth","pageX","pageY","_fromPaste","fromPaste","_fromPaste2","pasteItems","_this$struct$sgroups$","_this$action","closestGroupItem","closestGroup","_fromPaste3","_fromPaste4","_this$action2","extraBond","targetGroup","_fromTemplateOnAtom","fromTemplateOnAtom","prepareTemplateFromSingleGroup","_fromTemplateOnAtom2","countAttachmentPoint","getAttachmentPointCount","setAttr","_fromPaste5","_fromPaste6","visiblePasteItems","idsOfItemsMerged","groupsIdsInvolvedInMerge","template","angle0","RGroupAtomTool","propsDialog","aam","RGroupFragmentTool","ce","findRGroupByFragment","rgroupEdit","newRg","rgidOld","fromRGroupFragment","fromUpdateIfThen","fromRGroupAttrs","ReactionArrowTool","isNew","previous","fromArrowAddition","addOperation","itemId","getDefaultLengthPos","getArrowParams","x2","y2","sqrt","pow","pos2","defaultLength","arrowParams","newPos","cos","sin","ReactionMapTool","_atoms$get2","updateLine","_atoms$get3","selectionLine","atom1","atom2","aam1","aam2","ReactionPlusTool","fromPlusAddition","ReactionUnmapTool","RotateTool","singleBond","fromFlip","fromBondAlign","handleCenter","getCenter","angle1","visibleAtoms","attachAtomId","isMoreThanOneAttachAtom","nei","_editor$selection2","_editor$selection2$at","selectionBoundingBox","getVBoxObj","fromRotate","SimpleObjectTool","fromSimpleObjectAddition","TemplateTool","getTemplateMode","findItems","isModeFunctionalGroup","sign","getSign","_this$closestItem","_this$functionalGroup","targetId","findKeyOfRelatedGroupId","isTargetExpanded","isTargetAtomOrBond","targetGroupsIds","clickedClosestItemId","relatedGroupId","fg","relatedSGroupId","showRemoveAbbreviationPopup","_mousedown","_this$closestItem2","_this$closestItem3","_this$closestItem4","_this$struct$atoms$ge","_this$struct$halfBond","frIds","count","loop","_this$struct$halfBond2","_this$struct$loops$ge","loopHbs","isNeedToShowRemoveAbbreviationPopup","getFragmentIds","hb2","loops","hbs","_this2$struct$halfBon","halfBondBegin","hbbAtom","atomById","sign1","sign2","targetPos","eventPos","_fromTemplateOnBondAc","fromTemplateOnBondAction","_fromTemplateOnBondAc2","getTargetAtomId","extra_bond","_this$template","_this$template$molecu","isAddingFunctionalGroup","_fromTemplateOnCanvas","fromTemplateOnCanvas","_fromTemplateOnCanvas2","_ci","promise","functionalGroupRemoveAction","functionalGroupToReplace","isGroupAttached","addSaltsAndSolventsOnCanvasWithoutMerge","atomsWithoutAttachmentAtom","_fromTemplateOnCanvas3","_fromTemplateOnCanvas4","_this$struct$halfBond3","neiId","_fromTemplateOnAtom3","_fromTemplateOnAtom4","completeAction","isDummy","_fromTemplateOnCanvas5","_fromTemplateOnCanvas6","_tmpl$props","TextTool","origilContent","fromTextCreation","toolsMap","eraser","rgroupfragment","apoint","reactionarrow","reactionplus","reactionmap","reactionunmap","enhancedStereo","simpleobject","Highlighter","getAll","highlightsMap","highlights","highlightsArray","highlight","createdHighlights","arg","color","_getValidInputOnly","getValidInputOnly","validAtoms","validBonds","fromHighlightCreate","fromHighlightClear","structAtoms","structBonds","HOVER_ICON_OPACITY","HoverIcon","initialize","_fill","_label","isShown","shouldBeShownWhenMouseBack","onMouseMove","onMouseLeave","fillColor","attr","isOverLoader","relatedTarget","_this$editor$lastCurs","lastCursorPosition","restShouldBeShownWhenMouseBack","_this$fill","paper","STYLE","HANDLE_MARGIN","HANDLE_RADIUS","INITIAL_COLOR","ACTIVE_COLOR","LEFT_ARROW_PATH","RIGHT_ARROW_PATH","RotateController","isSomeButtonPressed","drawHandle","_this$boundingRect","isLeftButtonPressed","isDragPaused","boundingRect","centerHandleVec","normalizedCenterInitialHandleVec","normalized","newProtractorRadius","initialRadius","_this$getProtractorBa","getProtractorBaseInfo","_this$getProtractorBa2","degree0Line","degree0TextPos","drawProtractor","drawCross","drawLink","originalHandleCenter","rotateTool","originalCenter","lastSnappingRadius","_dxFromStart","_dyFromStart","_clientX","_clientY","_lastSnappingRadius","_this$rotateTool$drag","_this$rotateTool$drag2","newRadius","_this$getProtractorBa3","_this$getProtractorBa4","rotateArcStart","textPos","drawRotateArc","isMovingCenter","_event","_this$handle","_this$handle2","_this$handle3","_this$handle4","_this$cross","_this$cross2","_this$boundingRect2","_this$link","_this$handle5","_this$protractor","_this$rotateArc","handle","unhover","hoverIn","hoverOut","unmousedown","dragStart","unmouseup","dragEnd","undrag","crossArea","hoverCrossIn","hoverCrossOut","dragCrossStart","dragCrossEnd","link","protractor","rotateArc","_this$rotateTool$drag3","isPartOfFragmentSelected","allAtoms","selectedAtomIds","selectedFragmentIdSet","_allAtoms$get","fragmentId","nonSelectedAtoms","_this$handle6","_this$handle7","_this$handle8","_this$handle9","_this$cross3","_this$rotateTool$getC","_this$rotateTool$getC2","isMoreThanOneItemBeingSelected","enable","rectStartY","drawBoundingRect","drag","dragMove","dragCrossMove","dragCrossEndOUtOfBounding","_this$cross4","stroke","_this$cross5","_this$cross6","_this$cross7","transform","_this$cross8","_this$cross9","path","circle","opacity","RECT_RADIUS","RECT_PADDING","rectBox","rectStartX","atomSelectionPlateRadius","rectEndX","rectEndY","rect","_this$handle10","_this$handle11","_this$handle12","_this$handle13","_this$handle14","arrowSet","_this$handle15","leftArrow","rightArrow","_arrowSet$getBBox","getBBox","_this$link2","_this$link3","_this$link4","_this$link5","structRotateDegree","radius","degreeLine","_this$protractor2","PROTRACTOR_COLOR","DEGREE_FONT_SIZE","predefinedDegrees","previousDegree","currentDegree","currentIndex","_this2$protractor","_this2$protractor2","isDrawingDegree0","gap","getDifference","rotatePoint","degreeText","toBack","arc","rotateArcEnd","TEXT_FONT_SIZE","TEXT_COLOR","DEGREE_TEXT_MARGIN","distBetweenDegree0TextAndCenter","centerDegree0TextVec","lineLength","centerLineStartVec","lineVec","lineStart","lineEnd","lineEndHalf","addScaled","arcStartPos","TEXT_MARGIN_LEFT","l1","l2","currentDegreeMarkPos","centerPoint","startPoint","oCenter","oStart","centerStart","centerEnd","oEnd","positiveCurrentDegree","negativeCurrentDegree","SCALE","HISTORY_SIZE","structObjects","highlightTargets","selectStereoFlagsIfNecessary","expAtoms","atomsOfFragments","stereoFlags","shouldSelSFlag","_origin","Editor","Render","historyStack","historyPtr","renderAndRecoordinateStruct","setOptions","contextMenu","Subscription","PipelineSubscription","sdataEdit","change","selectionChange","aromatizeStruct","dearomatizeStruct","apiSettings","domEventSetup","isDitrty","setOrigin","ToolConstructor","isAtomToolChosen","isSelectToolChosen","fromNewCanvas","structCenter","getStructCenter","recoordinate","structToAddFragment","superStruct","mergeInto","updateOptions","setZoom","ReStruct","selectAll","setSelection","newTool","setHover","ignoreHistory","splice","stack","eventName","subscriber","subscribeFuncWrapper","findMerge","srcItems","dst","isRxn","fromDescriptorsAlign","isMouseMainButtonPressed","resetSelectionOnCanvasClick","updateLastCursorPosition","events","layerX","layerY","isContextMenuClosed","useToolIfNeeded","eventHandlerName","_editorTool$isSelecti","editorTool","conditions","condition","_editorTool$eventHand","trackedDomEvents","toolEventHandler","DOMSubscription","subs","nodeName","isToolUsed","rp","setScrollOffset","bb","dstId","item1","item2","Cursor","PressedIcon","enableHandTool","setPosition","setMouseDown","handleMouseDown","handleMouseUp","bottom","right","zIndex","pointerEvents","CONTEXT_MENU_ID","ContextMenuTriggerType","useAtomEdit","atomIds","newAtom","formatTitle","getBondNames","startsWith","queryBondNames","getNonQueryBondNames","allBondNames","difference","onlyHasProperty","checkedObject","ignoredProps","numberOfProps","useAtomStereo","stereoAtomIdsRef","stereoAtomIds","useDelete","itemsToDelete","bondIds","AtomMenuItems","_props$propsFromTrigg","_useAtomEdit","_useAtomEdit2","handleEdit","_useAtomStereo","_useAtomStereo2","handleStereo","stereoDisabled","handleDelete","propsFromTrigger","extraItemsSelected","useBondEdit","selectedBondIds","useBondSGroupAttach","attachedSGroups","getAttachedSGroups","useBondSGroupEdit","sGroupsRef","useBondTypeChange","nonQueryBondNames","BondMenuItems","_useBondEdit","_useBondEdit2","_useBondTypeChange","_useBondTypeChange2","handleTypeChange","_useBondSGroupAttach","_useBondSGroupAttach2","handleSGroupAttach","sGroupAttachHidden","_useBondSGroupEdit","_useBondSGroupEdit2","handleSGroupEdit","sGroupEditDisabled","sGroupEditHidden","Submenu","subMenu","useFunctionalGroupEoc","toExpand","selectedFunctionalGroups","_props$functionalGrou","_props$functionalGrou2","relatedSGroup","useFunctionalGroupRemove","FunctionalGroupMenuItems","_useFunctionalGroupEo","_useFunctionalGroupEo2","handleExpandOrContract","ExpandOrContractHidden","ExpandOrContractDisabled","handleRemove","bondNames","SelectionMenuItems","handleBondEdit","bondEditDisabled","handleAtomEdit","atomEditDisabled","bondTypeChangeDisabled","handleAtomStereo","atomStereoDisabled","animation","ContextMenu","trackVisibility","Menu","FOR_BONDS","onVisibilityChange","FOR_ATOMS","FOR_SELECTION","FOR_FUNCTIONAL_GROUPS","ContextMenuTrigger","_useContextMenu","useContextMenu","getSelectedGroupsInfo","selectedSGroupsIds","handleDisplay","_getSelectedGroupsInf","showProps","triggerType","ClosestItem","getIsItemInSelection","None","Selection","getMenuPropsForClosestItem","getMenuPropsForSelection","onContextMenu","findFunctionalGroupBySGroup","IGNORED_MAPS_LIST","bondsInSelection","atomsInSelection","StructRender","tagRef","previousProps","molSerialzer","childNodes","node","RenderStruct","_this$props2$Tag","Tag","X_COORD_INDEX","Y_COORD_INDEX","calculateMiddleCoordsForRect","rectCoords","middleCoordForRectangleSides","previousPoint","middleX","middleY","calculateScrollOffsetX","_render$options$offse","_render$clientArea","scrollLeft","calculateScrollOffsetY","_render$options","_render$options$offse2","_render$clientArea2","BAR_PANEL_SIZE","LEFT_PADDING_MULTIPLIER","getPanelPositionRelativeToRect","_sGroup$hovering$attr","_sGroup$hovering$attr2","viewportLeftLimit","viewportBottomLimit","viewportRightLimit","_calculateMiddleCoord","_calculateMiddleCoord2","middleLeftSide","middleBottomSide","middleRightSide","middleTopSide","SGroupDataRender","sGroupData","wrapperHeight","setWrapperHeight","wrapperWidth","setWrapperWidth","wrapperRef","panelCoordinate","infoPanel","functionalGroupsSelector","functionGroupInfoSelector","HOVER_PANEL_PADDING","getSGroupFirstAtom","_render$ctab$atoms","_render$ctab$atoms$ge","firstSgroupAtomId","getPanelPosition","groupBoundingBox","firstAtomPosition","panelPosition","InfoPanel","_sGroup$data","setMolecule","setSGroupData","childRef","isDataSGroup","_sGroup$data2","_sGroup$data3","nonTooltipSGroup","isMulSGroup","isSRUSGroup","_getPanelPosition","_getPanelPosition2","showMolecule","autoScale","autoScaleMargin","rescaleAmount","cachePrefix","needCache","viewSz","_functionGroupInfoSel","_functionGroupInfoSel2","_functionGroupInfoSel3","_functionGroupInfoSel4","_functionGroupInfoSel5","_functionGroupInfoSel6","_store$editor","_store$editor$render","_store$editor$render$","setupEditor","oldProps","toolOpts","upperFirst","removeEditorHandlers","StructEditor","enableCursor","editorRef","logRef","nextProps","nextState","UNSAFE_componentWillReceiveProps","onInit","msg","showAttachmentPoints","parsedInfo","csr","_this2$editorRef$curr","handShouldBeShown","setState","_this$props$Tag","onSelectionChange","onElementEdit","onEnhancedStereoEdit","onQuickEdit","onBondEdit","onRgroupEdit","onSgroupEdit","onRemoveFG","onMessage","onAromatizeStruct","onDearomatizeStruct","onAttachEdit","onCipChange","onConfirm","onShowInfo","onApiSettings","_this$state","_this$state$clientX","_this$state$clientY","canvas","intermediateCanvas","handIcon","compressedHandIcon","measureLog","spinnerOverlay","AboutDialog","indigoInfo","dialog_body","onOk","okButton","href","overviewLink","rel","Logo","verionsInfo","ketcherVersionInfo","date","infoLinks","feedbackLink","lifeScienciesLink","indigoMachine","buildDate","_result","About","ValidatorResult","SchemaError","require$$0","require$$1","require$$2","GenericInput","onChange","innerRef","_ref$type","_ref$isFocused","isFocused","onInput","input","genericInput","checkbox","radioButton","ev","isNumber","TextArea","CheckBox","_ref3$value","_excluded3","fieldSetItem","checked","Select","onSelect","_ref4$multiple","multiple","enumSchema","selectedIndex","o","FieldSet","_ref5$type","_excluded4","fieldSetLabel","defaultChecked","_input$parentNode","_input$parentNode$par","fieldset","inputCollection","querySelectorAll","inp","Slider","_excluded5","slider","cbOrIndex","isTypeValue","inputCtrl","singleSelectCtrl","testVal","multipleSelectCtrl","ctrlMap","componentMap","AnyComponentWithRef","_excluded6","Input","_PureComponent","restProps","_excluded7","PureComponent","chevronIcon","_currentValue$value","_ref2$multiple","currentValue","setCurrentValue","handleChange","MuiSelect","selectContainer","MenuProps","dropdownList","IconComponent","isDivider","listDivider","MenuItem","disableRipple","ErrorMessage","ErrorPopover","handleClose","disableAutoFocus","sx","transformOrigin","Form","onUpdate","propSchema","_this$schema$serializ","errs","getErrorsObj","customValid","updateState","_this$schema$serializ2","instance","_this$props3","dataError","_this$props4","Provider","stateStore","Label","labelPos","tooltip","Field","setAnchorEl","handlePopoverOpen","currentTarget","handlePopoverClose","_useFormContext","_stateStore$field","fieldOpts","formField","inputWrapper","onMouseEnter","SelectOneOf","selectDesc","_ref2$serialize","_ref2$deserialize","schemaCopy","cloneDeep","Validator","prototype","customFormats","formatName","formatValidator","_schemaCopy$propertie","enumIsReservedWord","validator","inst","serializeRewrite","deserializeRewrite","serializeMap","deserializeMap","getInvalidMessage","presetColors","ColorPicker","_clsx","_clsx2","isPaletteOpen","setIsPaletteOpen","limit","inThrottle","handlePaletteOpen","handleColorChange","handleBlur","colorPickerWrapper","colorPickerInput","selectedInput","colorPickerPreview","expandIcon","turnedIcon","colorPickerWrap","withPalette","onBlur","chooseColor","clicked","presetColor","colorPicker","HexColorPicker","colorContainer","hex","HexColorInput","MeasureInput","measure","setMeasure","cust","setCust","convValue","convertValue","handleMeasChange","m","calcValue","newValue","measureInput","step","measureMap","px","cm","pt","inch","measureFrom","measureTo","OpenButton","opener","noop","_this$props$onLoad","onLoad","_this$props$onError","onError","btn","openButton","accept","SaveButton","_props$filename","_props$mode","_props$onSave","_props$onError","saveImage","saveFile","fileSaver","saver","ketcherInstance","blob","saveAs","Blob","Accordion","tabs","changedGroups","expandedAccordions","setExpandedAccordions","handleAccordionChange","accordion","isExpand","expandedAccordion","accordionWrapper","shouldGroupBeRended","accordionSummaryWrapper","accordionSummary","groupLabel","groupIcon","changeMarker","accordionDetailsWrapper","hiddenAccordion","accordionDetails","commonFonts","checkInSystem","availableFontsPromises","fontName","observer","FontFaceObserver","SystemFonts","availableFonts","setAvailableFonts","onChangeCallback","mounted","results","fonts","fieldGroups","defaultSettings","HeaderContent","onOpenFile","onReset","getIsResetDisabled","settingsProps","settingsSchema","SettingsDialog","appOpts","setChangedGroups","changed","generalTab","stereoTab","atomsTab","bondsTab","serverTab","threeDViewerTab","viewer","debuggingTab","OK","ownProps","newOpts","Settings","ErrorsCheck","checkSchema","moleculeErrorsTypes","getOptionName","nameIndex","getFormattedDateString","getFixedString","num","padStart","getHours","getMinutes","getSeconds","getDate","getMonth","getFullYear","FooterContent","handleCheck","handleApply","isStuctureChecking","isCheckedWithNewSettings","buttonSecondary","buttonPrimary","buttonsRight","CheckDialog","checkState","onApply","_formState$result","setIsStructureChecking","lastCheckDate","setLastCheckDate","_useState5","_useState6","setIsCheckedWithNewSettings","Date","handleSettingsChange","wrapper","checkBoxesDisabled","checkInfo","centeredContainer","warnings","warningsContainer","Check","formulaRegexp","errorRegexp","formulaInputMarkdown","contentData","chem_input","onKeyPress","FormulaInput","cnd","substring","FrozenInput","spellCheck","readOnly","roundOff","AnalyseDialog","onChangeRound","withSelector","contentWrapper","selectWrapper","ErrorsContext","Analyse","DialogActionButton","clickHandler","isImage","_file$type","onImage","openHandler","copyHandler","secondaryButton","primaryButton","RecognizeDialog","partProps","onRecognize","isFragment","onChangeImago","canPreviewImage","setCanPreviewImage","clearFile","topBody","imagoVersion","imagesContainer","picture","src","messageContainer","output","URL","webkitURL","createObjectURL","ver","Recognize","Viewer","lazy","BACKGROUND_COLOR","dark","light","MIEW_TX_TYPES","no","bright","colorer","blackAndWhite","bg","black","TXoptions","userOpts","selector","showBg","createMiewOptions","autoPreset","editing","inversePanning","reps","textMode","CHANGING_WARNING","warning","MiewDialog","miewOpts","onExportCML","_ref$miewTheme","miewRef","isInitialized","setIsIsInitialized","onMiewInit","cml","sourceType","fileType","exportCML","_miewRef$current","cmlStruct","applyButton","miewDialog","miewContainer","miewDarkTheme","Suspense","fallback","loadingContainer","Miew","ElementNumber","_Elements$get","_props$isMultipleAtom","isMultipleAtoms","currentLabel","setCurrentLabel","onLabelChangeCallback","itemGroups","querySpecific","reactionFlags","atomValid","chargeValid","isChemicalElement","regex","isValidCharge","AtomContainer","AttachPoints","attachmentPointsSchema","AttachPointsContainer","automapSchema","Automap","AutomapContainer","BondContainer","IfThenSelect","rgroupLabels","rgroupLabel","RgroupLogic","rangeConv","RgroupLogicContainer","ICON_NAME","AnalyzingFile","analyzingFileWrapper","fileBox","FileDrop","buttonLabel","textLabel","disabledText","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","getClassesString","parentStyles","dropContainer","isHovered","isDisabled","dropIconWrapper","textLabelWrapper","buttonLabelWrapper","ICON_NAMES","PASTE","FILE","IMAGE","OpenOptions","selectClipboard","fileLoadHandler","imageLoadHandler","isRecognizeDisabled","optionsContainer","onDropAccepted","onDropRejected","TextEditor","inputHandler","_ref$autoFocus","textareaEditor","ViewSwitcher","states","idle","textEditor","MODAL_STATES","imageRec","cancelButton","buttonsContainer","copyButton","Open","onImageUpload","setStructStr","setFileName","setOpener","_useState7","_useState8","setCurrentState","chosenOpener","onFileLoad","fileContent","onImageLoad","withFooterContent","_state$actionState$re","badHeaderRecover","OpenContainer","couldBeSaved","getPropertiesByFormat","rxnArrowsSize","arrayOfAtoms","hasGenerics","arrayOfArrows","rxnArrowMode","isRg","_ind","isSg","isVal","StereoFlag","Tabs","contentClassName","tabPanel","componentProps","saveSchema","SaveDialog","_assertThisInitialized","getPropertiesByImgFormat","isImageFormat","ketSerialize","disableControls","imageFormat","isLoading","base64","imageSrc","onResetForm","structWarning","saveWarning","structFormat","isStructInvalid","showStructWarningMessage","getWarnings","renderSaveFile","renderWarnings","formContainer","changeType","captions","_formState$result2","isCleanStruct","LoadingState","loadingCirclesContainer","ImageContent","imageContainer","BinaryContent","previewBackground","previewArea","PreviewContent","isBinaryCdxFormat","_formState$result3","warningsArr","_this$state2","_formState$result4","savingStruct","b64toBlob","isMoleculeContain","saveTmpl","onTmplSave","extensions","formatProps","getButtons","renderForm","prevState","Save","EnhancedStereo","findStereLabels","maxAnd","maxOfAnds","maxOr","maxOfOrs","enhancedStereoSchema","labelGroupSelect","aids","stereoIds","stereLabels","numbers","_label$match","_label$match2","lc","LabelEdit","letter","labelEditSchema","l","labelEditInputField","AtomInfo","isInfo","numberStyle","fontSize","elemStyle","fontWeight","ket_atom_info","none","mass","PERIODIC_TABLE_COLUMNS","Header","MainRow","row","refer","onAtomSelect","onDoubleClick","currentEvents","atomClassNames","colSpan","OutinerRow","metalPrefix","metal","unknownProps","unknownState","beforeSpan","He","Al","Hf","Rf","ACTINIDE","LANTHANIDE","main","rowPartition","lanthanides","actinides","period","ElementsTable","origin","callbacks","table","summary","getAtomClassNames","main_row","outiner_row","HorizontalBoxWithLines","horizintalNodeLines","upperLines","lowerLine","VerticalBoxWithLines","verticalNodeLines","isGenericGroup","cyclicGroups","ButtonGenSet","titleText","getGroupClassName","replaceAll","GenSet","labels","disabledQueryElements","displayName","legendBox","genGroupLegendBox","genGroupLegend","getLegendClassname","mainTitles","GenGroup","fieldFlexWrapper","genButtonContainer","buttonContainer","itemSets","subGroup","getGenericsGroupsMap","tree","newGroups","_i","_Object$keys","_newGroups$groupName","subGroups","renderGenGroupComponent","groupsMap","Generics","GenericGroups","genericGroups","topGroupsContainer","groupNames","atomsGen","specialNodes","groupGen","groupGenerics","groupAcyclic","subgroupContainer","acyclicCarbo","acyclicHetero","groupCyclic","cyclicCarbo","cyclicHetero","TypeChoice","Table","prevChoice","currentChoice","dialogHeader","activateImmediately","_this$state3","_this$state4","elementsTable","periodTable","mapSelectionToProps","PeriodTable","setValue","extendedTable","disableQueryElements","ExtendedTable","RemoveFG","question","buttonCancel","buttonOk","oneOrMore","multipl","ButtonList","disabledIds","SDataFieldset","formSchema","placeholder","SGroupFieldset","propMapping","schemes","Sgroup","TemplateEditDialog","Warning","Message","LeftColumn","RightColumn","NameInput","AttachmentOutput","_templateObject8","Buttons","_templateObject9","buttonCommonStyles","css","_templateObject10","_templateObject11","CancelButton","_templateObject12","editorStyles","selectionStyle","hoverStyle","hoverStyleSimpleObject","Attach","SAVE","EDIT","initTmpl","checkIsValidName","onNameEdit","globalSettings","getScale","dialogTitle","warningObject","normTmpl","structNormalization","normStruct","cbb","getCoordBoundingBox","rxnPlus","VIEW_SIZE","isSaltOrSolventTemplate","isFunctionalGroupTemplate","getTemplateTitle","tmplName","RenderTmpl","downScale","TemplateTable","onDelete","onAttach","_props$titleRows","titleRows","renderOptions","tableContent","oneRowTitleTable","twoRowsTitleTable","td","structTitle","selectedTitle","deleteButton","editButton","saltsAndSolventsSelector","EmptySearchResult","textInfo","emptySearch","SALTS_AND_SOLVENTS","batchDelay","useSaltsAndSolvents","isFirstRender","setIsFirstRender","timerId","filteredSaltsAndSolvents","setFilteredSaltsAndSolvents","addToSaSWithBatches","fullFilteredArray","batchSize","_filterFGLib$SALTS_AN","filteredSaS","TabPanel","other","a11yProps","TemplateTabs","filterLibSelector","createSelector","FUNCTIONAL_GROUPS","clickToAddToCanvas","SaltsAndSolvents","flexGrow","justifyContent","alignItems","saveButton","TemplateLibrary","TemplateDialog","_serializerMapper","onFilter","onTabChange","onChangeGroup","_props$initialTab","initialTab","searchInputRef","filteredFG","setFilteredFG","filteredTemplateLib","_searchInputRef$curre","handleTabChange","serializerMapper","FunctionalGroupLibrary","inputContainer","searchIcon","Tab","tabsContent","square","AccordionSummary","AccordionDetails","templ","resultsContainer","selectTemplate","onModalClose","_store$modal","_store$modal$prop","useClickOutside","targetRef","onClickOutside","_targetRef$current","FontControl","editorState","setEditorState","defaultFontSize","isShowingFontSizeMenu","setIsShowingFontSizeMenu","currentFontSize","setCurrentFontSize","onClickOutsideCloseDrowndown","setFontSize","newEditorState","currentStyle","MIN_FONT_SIZE","MAX_FONT_SIZE","fontSizes","fontSizeOptions","fontSizeOption","fontBtn","parseFloat","fontSizeMenu","SpecialSymbolsList","symbols","symbol","SpecialSymbolsButton","showSpecialSymbols","setShowSpecialSymbols","closeSymbolsList","addSymbol","contentState","getCurrentContent","nextContentState","Modifier","replaceText","nextEditorState","EditorState","activeTextButton","textButton","TextButton","toggleStyle","command","isActive","_createStyles","createStyles","customStyleFn","TextCommand","Bold","Italic","Superscript","Subscript","Text","rawContentState","moveFocusToEnd","createWithContent","convertFromRaw","blocks","entityMap","hasText","convertToRaw","keyBindingFn","getDefaultKeyBinding","onContentChange","getCurrentInlineStyle","RichUtils","toggleInlineStyle","customStyleMap","SUBSCRIPT","verticalAlign","SUPERSCRIPT","lineHeight","refEditor","setFocusInEditor","controlPanel","Confirm","Rgroup","TemplateAttach","TemplatesDialog","Modal","modals","modalOverlay","selectClasses","smallScreen","mergeProps","stateProps","dispatchProps","initProps","ModalContainer","generateCommonProperties","normalizedElement","resultElementAttributes","uniqueValues","allElementsHaveTheSameValue","initEditor","updateAction","sleep","time","selectMode","resetOption","acts","atomAttributes","dlg","_extends","bondsAttributes","serverOpts","muiTheme","createTheme","components","MuiButtonBase","defaultProps","App","scrollTo","ThemeProvider","theme","AppModalContainer","AppContainer","initApp","createRoot","KetcherBuilder","serviceMode","formatterFactory","_appendApiAsync","DefaultStructServiceOptions","appendApiAsync","appendServiceMode","_appendUiAsync","buildNumber","appendUiAsync","build","URLSearchParams","initialMol","buildKetcherAsync","_buildKetcherAsync","builder","rootElRef","ketcherInitEvent","Event","dispatchEvent","small"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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"}